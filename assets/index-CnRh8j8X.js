function sD(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function sy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function oD(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var E_={exports:{}},kp={},T_={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function aD(){if(sw)return tn;sw=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function A(k,K,re){this.props=k,this.context=K,this.refs=x,this.updater=re||v}A.prototype.isReactComponent={},A.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function S(){}S.prototype=A.prototype;function C(k,K,re){this.props=k,this.context=K,this.refs=x,this.updater=re||v}var E=C.prototype=new S;E.constructor=C,_(E,A.prototype),E.isPureReactComponent=!0;var R=Array.isArray,B=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function U(k,K,re){var j,Te={},me=null,Re=null;if(K!=null)for(j in K.ref!==void 0&&(Re=K.ref),K.key!==void 0&&(me=""+K.key),K)B.call(K,j)&&!O.hasOwnProperty(j)&&(Te[j]=K[j]);var Ue=arguments.length-2;if(Ue===1)Te.children=re;else if(1<Ue){for(var We=Array(Ue),De=0;De<Ue;De++)We[De]=arguments[De+2];Te.children=We}if(k&&k.defaultProps)for(j in Ue=k.defaultProps,Ue)Te[j]===void 0&&(Te[j]=Ue[j]);return{$$typeof:r,type:k,key:me,ref:Re,props:Te,_owner:I.current}}function L(k,K){return{$$typeof:r,type:k.type,key:K,ref:k.ref,props:k.props,_owner:k._owner}}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function H(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return K[re]})}var q=/\/+/g;function oe(k,K){return typeof k=="object"&&k!==null&&k.key!=null?H(""+k.key):K.toString(36)}function J(k,K,re,j,Te){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(me){case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case r:case e:Re=!0}}if(Re)return Re=k,Te=Te(Re),k=j===""?"."+oe(Re,0):j,R(Te)?(re="",k!=null&&(re=k.replace(q,"$&/")+"/"),J(Te,K,re,"",function(De){return De})):Te!=null&&(N(Te)&&(Te=L(Te,re+(!Te.key||Re&&Re.key===Te.key?"":(""+Te.key).replace(q,"$&/")+"/")+k)),K.push(Te)),1;if(Re=0,j=j===""?".":j+":",R(k))for(var Ue=0;Ue<k.length;Ue++){me=k[Ue];var We=j+oe(me,Ue);Re+=J(me,K,re,We,Te)}else if(We=g(k),typeof We=="function")for(k=We.call(k),Ue=0;!(me=k.next()).done;)me=me.value,We=j+oe(me,Ue++),Re+=J(me,K,re,We,Te);else if(me==="object")throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Re}function ie(k,K,re){if(k==null)return k;var j=[],Te=0;return J(k,j,"","",function(me){return K.call(re,me,Te++)}),j}function se(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var le={current:null},Q={transition:null},Y={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Q,ReactCurrentOwner:I};function V(){throw Error("act(...) is not supported in production builds of React.")}return tn.Children={map:ie,forEach:function(k,K,re){ie(k,function(){K.apply(this,arguments)},re)},count:function(k){var K=0;return ie(k,function(){K++}),K},toArray:function(k){return ie(k,function(K){return K})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},tn.Component=A,tn.Fragment=t,tn.Profiler=i,tn.PureComponent=C,tn.StrictMode=n,tn.Suspense=u,tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,tn.act=V,tn.cloneElement=function(k,K,re){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var j=_({},k.props),Te=k.key,me=k.ref,Re=k._owner;if(K!=null){if(K.ref!==void 0&&(me=K.ref,Re=I.current),K.key!==void 0&&(Te=""+K.key),k.type&&k.type.defaultProps)var Ue=k.type.defaultProps;for(We in K)B.call(K,We)&&!O.hasOwnProperty(We)&&(j[We]=K[We]===void 0&&Ue!==void 0?Ue[We]:K[We])}var We=arguments.length-2;if(We===1)j.children=re;else if(1<We){Ue=Array(We);for(var De=0;De<We;De++)Ue[De]=arguments[De+2];j.children=Ue}return{$$typeof:r,type:k.type,key:Te,ref:me,props:j,_owner:Re}},tn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:s,_context:k},k.Consumer=k},tn.createElement=U,tn.createFactory=function(k){var K=U.bind(null,k);return K.type=k,K},tn.createRef=function(){return{current:null}},tn.forwardRef=function(k){return{$$typeof:a,render:k}},tn.isValidElement=N,tn.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:se}},tn.memo=function(k,K){return{$$typeof:c,type:k,compare:K===void 0?null:K}},tn.startTransition=function(k){var K=Q.transition;Q.transition={};try{k()}finally{Q.transition=K}},tn.unstable_act=V,tn.useCallback=function(k,K){return le.current.useCallback(k,K)},tn.useContext=function(k){return le.current.useContext(k)},tn.useDebugValue=function(){},tn.useDeferredValue=function(k){return le.current.useDeferredValue(k)},tn.useEffect=function(k,K){return le.current.useEffect(k,K)},tn.useId=function(){return le.current.useId()},tn.useImperativeHandle=function(k,K,re){return le.current.useImperativeHandle(k,K,re)},tn.useInsertionEffect=function(k,K){return le.current.useInsertionEffect(k,K)},tn.useLayoutEffect=function(k,K){return le.current.useLayoutEffect(k,K)},tn.useMemo=function(k,K){return le.current.useMemo(k,K)},tn.useReducer=function(k,K,re){return le.current.useReducer(k,K,re)},tn.useRef=function(k){return le.current.useRef(k)},tn.useState=function(k){return le.current.useState(k)},tn.useSyncExternalStore=function(k,K,re){return le.current.useSyncExternalStore(k,K,re)},tn.useTransition=function(){return le.current.useTransition()},tn.version="18.3.1",tn}var ow;function Mf(){return ow||(ow=1,T_.exports=aD()),T_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function lD(){if(aw)return kp;aw=1;var r=Mf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,c){var h,p={},g=null,v=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(h in u)n.call(u,h)&&!s.hasOwnProperty(h)&&(p[h]=u[h]);if(a&&a.defaultProps)for(h in u=a.defaultProps,u)p[h]===void 0&&(p[h]=u[h]);return{$$typeof:e,type:a,key:g,ref:v,props:p,_owner:i.current}}return kp.Fragment=t,kp.jsx=o,kp.jsxs=o,kp}var lw;function uD(){return lw||(lw=1,E_.exports=lD()),E_.exports}var pe=uD(),te=Mf();const ml=sy(te),cD=sD({__proto__:null,default:ml},[te]);var C_={exports:{}},es={},b_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function fD(){return uw||(uw=1,function(r){function e(Q,Y){var V=Q.length;Q.push(Y);e:for(;0<V;){var k=V-1>>>1,K=Q[k];if(0<i(K,Y))Q[k]=Y,Q[V]=K,V=k;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Y=Q[0],V=Q.pop();if(V!==Y){Q[0]=V;e:for(var k=0,K=Q.length,re=K>>>1;k<re;){var j=2*(k+1)-1,Te=Q[j],me=j+1,Re=Q[me];if(0>i(Te,V))me<K&&0>i(Re,Te)?(Q[k]=Re,Q[me]=V,k=me):(Q[k]=Te,Q[j]=V,k=j);else if(me<K&&0>i(Re,V))Q[k]=Re,Q[me]=V,k=me;else break e}}return Y}function i(Q,Y){var V=Q.sortIndex-Y.sortIndex;return V!==0?V:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,g=3,v=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var Y=t(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=Q)n(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(c)}}function R(Q){if(x=!1,E(Q),!_)if(t(u)!==null)_=!0,se(B);else{var Y=t(c);Y!==null&&le(R,Y.startTime-Q)}}function B(Q,Y){_=!1,x&&(x=!1,S(U),U=-1),v=!0;var V=g;try{for(E(Y),p=t(u);p!==null&&(!(p.expirationTime>Y)||Q&&!H());){var k=p.callback;if(typeof k=="function"){p.callback=null,g=p.priorityLevel;var K=k(p.expirationTime<=Y);Y=r.unstable_now(),typeof K=="function"?p.callback=K:p===t(u)&&n(u),E(Y)}else n(u);p=t(u)}if(p!==null)var re=!0;else{var j=t(c);j!==null&&le(R,j.startTime-Y),re=!1}return re}finally{p=null,g=V,v=!1}}var I=!1,O=null,U=-1,L=5,N=-1;function H(){return!(r.unstable_now()-N<L)}function q(){if(O!==null){var Q=r.unstable_now();N=Q;var Y=!0;try{Y=O(!0,Q)}finally{Y?oe():(I=!1,O=null)}}else I=!1}var oe;if(typeof C=="function")oe=function(){C(q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=q,oe=function(){ie.postMessage(null)}}else oe=function(){A(q,0)};function se(Q){O=Q,I||(I=!0,oe())}function le(Q,Y){U=A(function(){Q(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){_||v||(_=!0,se(B))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var V=g;g=Y;try{return Q()}finally{g=V}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var V=g;g=Q;try{return Y()}finally{g=V}},r.unstable_scheduleCallback=function(Q,Y,V){var k=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?k+V:k):V=k,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,Q={id:h++,callback:Y,priorityLevel:Q,startTime:V,expirationTime:K,sortIndex:-1},V>k?(Q.sortIndex=V,e(c,Q),t(u)===null&&Q===t(c)&&(x?(S(U),U=-1):x=!0,le(R,V-k))):(Q.sortIndex=K,e(u,Q),_||v||(_=!0,se(B))),Q},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(Q){var Y=g;return function(){var V=g;g=Y;try{return Q.apply(this,arguments)}finally{g=V}}}}(R_)),R_}var cw;function hD(){return cw||(cw=1,b_.exports=fD()),b_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function dD(){if(fw)return es;fw=1;var r=Mf(),e=hD();function t(l){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+l,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,f){o(l,f),o(l+"Capture",f)}function o(l,f){for(i[l]=f,l=0;l<f.length;l++)n.add(f[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(l){return u.call(p,l)?!0:u.call(h,l)?!1:c.test(l)?p[l]=!0:(h[l]=!0,!1)}function v(l,f,y,w){if(y!==null&&y.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return w?!1:y!==null?!y.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function _(l,f,y,w){if(f===null||typeof f>"u"||v(l,f,y,w))return!0;if(w)return!1;if(y!==null)switch(y.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function x(l,f,y,w,b,D,z){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=w,this.attributeNamespace=b,this.mustUseProperty=y,this.propertyName=l,this.type=f,this.sanitizeURL=D,this.removeEmptyString=z}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){A[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var f=l[0];A[f]=new x(f,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){A[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){A[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){A[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){A[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){A[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){A[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){A[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var f=l.replace(S,C);A[f]=new x(f,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var f=l.replace(S,C);A[f]=new x(f,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var f=l.replace(S,C);A[f]=new x(f,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){A[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){A[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,f,y,w){var b=A.hasOwnProperty(f)?A[f]:null;(b!==null?b.type!==0:w||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(_(f,y,b,w)&&(y=null),w||b===null?g(f)&&(y===null?l.removeAttribute(f):l.setAttribute(f,""+y)):b.mustUseProperty?l[b.propertyName]=y===null?b.type===3?!1:"":y:(f=b.attributeName,w=b.attributeNamespace,y===null?l.removeAttribute(f):(b=b.type,y=b===3||b===4&&y===!0?"":""+y,w?l.setAttributeNS(w,f,y):l.setAttribute(f,y))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),H=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=Q&&l[Q]||l["@@iterator"],typeof l=="function"?l:null)}var V=Object.assign,k;function K(l){if(k===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);k=f&&f[1]||""}return`
`+k+l}var re=!1;function j(l,f){if(!l||re)return"";re=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ae){var w=Ae}Reflect.construct(l,[],f)}else{try{f.call()}catch(Ae){w=Ae}l.call(f.prototype)}else{try{throw Error()}catch(Ae){w=Ae}l()}}catch(Ae){if(Ae&&w&&typeof Ae.stack=="string"){for(var b=Ae.stack.split(`
`),D=w.stack.split(`
`),z=b.length-1,ee=D.length-1;1<=z&&0<=ee&&b[z]!==D[ee];)ee--;for(;1<=z&&0<=ee;z--,ee--)if(b[z]!==D[ee]){if(z!==1||ee!==1)do if(z--,ee--,0>ee||b[z]!==D[ee]){var ue=`
`+b[z].replace(" at new "," at ");return l.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",l.displayName)),ue}while(1<=z&&0<=ee);break}}}finally{re=!1,Error.prepareStackTrace=y}return(l=l?l.displayName||l.name:"")?K(l):""}function Te(l){switch(l.tag){case 5:return K(l.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return l=j(l.type,!1),l;case 11:return l=j(l.type.render,!1),l;case 1:return l=j(l.type,!0),l;default:return""}}function me(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case I:return"Portal";case L:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case J:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case H:return(l.displayName||"Context")+".Consumer";case N:return(l._context.displayName||"Context")+".Provider";case q:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ie:return f=l.displayName||null,f!==null?f:me(l.type)||"Memo";case se:f=l._payload,l=l._init;try{return me(l(f))}catch{}}return null}function Re(l){var f=l.type;switch(l.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=f.render,l=l.displayName||l.name||"",f.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(f);case 8:return f===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Ue(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function We(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function De(l){var f=We(l)?"checked":"value",y=Object.getOwnPropertyDescriptor(l.constructor.prototype,f),w=""+l[f];if(!l.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var b=y.get,D=y.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return b.call(this)},set:function(z){w=""+z,D.call(this,z)}}),Object.defineProperty(l,f,{enumerable:y.enumerable}),{getValue:function(){return w},setValue:function(z){w=""+z},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function Oe(l){l._valueTracker||(l._valueTracker=De(l))}function ne(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var y=f.getValue(),w="";return l&&(w=We(l)?l.checked?"true":"false":l.value),l=w,l!==y?(f.setValue(l),!0):!1}function Ie(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ce(l,f){var y=f.checked;return V({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??l._wrapperState.initialChecked})}function Xe(l,f){var y=f.defaultValue==null?"":f.defaultValue,w=f.checked!=null?f.checked:f.defaultChecked;y=Ue(f.value!=null?f.value:y),l._wrapperState={initialChecked:w,initialValue:y,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Fe(l,f){f=f.checked,f!=null&&E(l,"checked",f,!1)}function lt(l,f){Fe(l,f);var y=Ue(f.value),w=f.type;if(y!=null)w==="number"?(y===0&&l.value===""||l.value!=y)&&(l.value=""+y):l.value!==""+y&&(l.value=""+y);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}f.hasOwnProperty("value")?rt(l,f.type,y):f.hasOwnProperty("defaultValue")&&rt(l,f.type,Ue(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(l.defaultChecked=!!f.defaultChecked)}function it(l,f,y){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var w=f.type;if(!(w!=="submit"&&w!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+l._wrapperState.initialValue,y||f===l.value||(l.value=f),l.defaultValue=f}y=l.name,y!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,y!==""&&(l.name=y)}function rt(l,f,y){(f!=="number"||Ie(l.ownerDocument)!==l)&&(y==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+y&&(l.defaultValue=""+y))}var _t=Array.isArray;function It(l,f,y,w){if(l=l.options,f){f={};for(var b=0;b<y.length;b++)f["$"+y[b]]=!0;for(y=0;y<l.length;y++)b=f.hasOwnProperty("$"+l[y].value),l[y].selected!==b&&(l[y].selected=b),b&&w&&(l[y].defaultSelected=!0)}else{for(y=""+Ue(y),f=null,b=0;b<l.length;b++){if(l[b].value===y){l[b].selected=!0,w&&(l[b].defaultSelected=!0);return}f!==null||l[b].disabled||(f=l[b])}f!==null&&(f.selected=!0)}}function en(l,f){if(f.dangerouslySetInnerHTML!=null)throw Error(t(91));return V({},f,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Z(l,f){var y=f.value;if(y==null){if(y=f.children,f=f.defaultValue,y!=null){if(f!=null)throw Error(t(92));if(_t(y)){if(1<y.length)throw Error(t(93));y=y[0]}f=y}f==null&&(f=""),y=f}l._wrapperState={initialValue:Ue(y)}}function G(l,f){var y=Ue(f.value),w=Ue(f.defaultValue);y!=null&&(y=""+y,y!==l.value&&(l.value=y),f.defaultValue==null&&l.defaultValue!==y&&(l.defaultValue=y)),w!=null&&(l.defaultValue=""+w)}function ye(l){var f=l.textContent;f===l._wrapperState.initialValue&&f!==""&&f!==null&&(l.value=f)}function Ge(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(l,f){return l==null||l==="http://www.w3.org/1999/xhtml"?Ge(f):l==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var je,mt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,y,w,b){MSApp.execUnsafeLocalFunction(function(){return l(f,y,w,b)})}:l}(function(l,f){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=f;else{for(je=je||document.createElement("div"),je.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=je.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;f.firstChild;)l.appendChild(f.firstChild)}});function Je(l,f){if(f){var y=l.firstChild;if(y&&y===l.lastChild&&y.nodeType===3){y.nodeValue=f;return}}l.textContent=f}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ct=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(l){Ct.forEach(function(f){f=f+l.charAt(0).toUpperCase()+l.substring(1),nt[f]=nt[l]})});function qt(l,f,y){return f==null||typeof f=="boolean"||f===""?"":y||typeof f!="number"||f===0||nt.hasOwnProperty(l)&&nt[l]?(""+f).trim():f+"px"}function Qe(l,f){l=l.style;for(var y in f)if(f.hasOwnProperty(y)){var w=y.indexOf("--")===0,b=qt(y,f[y],w);y==="float"&&(y="cssFloat"),w?l.setProperty(y,b):l[y]=b}}var rn=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ae(l,f){if(f){if(rn[l]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(t(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(t(61))}if(f.style!=null&&typeof f.style!="object")throw Error(t(62))}}function Pe(l,f){if(l.indexOf("-")===-1)return typeof f.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function He(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var St=null,ce=null,et=null;function qe(l){if(l=mo(l)){if(typeof St!="function")throw Error(t(280));var f=l.stateNode;f&&(f=dh(f),St(l.stateNode,l.type,f))}}function Be(l){ce?et?et.push(l):et=[l]:ce=l}function Ye(){if(ce){var l=ce,f=et;if(et=ce=null,qe(l),f)for(l=0;l<f.length;l++)qe(f[l])}}function xt(l,f){return l(f)}function Ht(){}var mn=!1;function Tn(l,f,y){if(mn)return l(f,y);mn=!0;try{return xt(l,f,y)}finally{mn=!1,(ce!==null||et!==null)&&(Ht(),Ye())}}function $t(l,f){var y=l.stateNode;if(y===null)return null;var w=dh(y);if(w===null)return null;y=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(y&&typeof y!="function")throw Error(t(231,f,typeof y));return y}var ui=!1;if(a)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){ui=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{ui=!1}function Uu(l,f,y,w,b,D,z,ee,ue){var Ae=Array.prototype.slice.call(arguments,3);try{f.apply(y,Ae)}catch(Ve){this.onError(Ve)}}var io=!1,ro=null,cs=!1,jo=null,Lf={onError:function(l){io=!0,ro=l}};function Df(l,f,y,w,b,D,z,ee,ue){io=!1,ro=null,Uu.apply(Lf,arguments)}function Wd(l,f,y,w,b,D,z,ee,ue){if(Df.apply(this,arguments),io){if(io){var Ae=ro;io=!1,ro=null}else throw Error(t(198));cs||(cs=!0,jo=Ae)}}function so(l){var f=l,y=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(y=f.return),l=f.return;while(l)}return f.tag===3?y:null}function If(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function X(l){if(so(l)!==l)throw Error(t(188))}function ge(l){var f=l.alternate;if(!f){if(f=so(l),f===null)throw Error(t(188));return f!==l?null:l}for(var y=l,w=f;;){var b=y.return;if(b===null)break;var D=b.alternate;if(D===null){if(w=b.return,w!==null){y=w;continue}break}if(b.child===D.child){for(D=b.child;D;){if(D===y)return X(b),l;if(D===w)return X(b),f;D=D.sibling}throw Error(t(188))}if(y.return!==w.return)y=b,w=D;else{for(var z=!1,ee=b.child;ee;){if(ee===y){z=!0,y=b,w=D;break}if(ee===w){z=!0,w=b,y=D;break}ee=ee.sibling}if(!z){for(ee=D.child;ee;){if(ee===y){z=!0,y=D,w=b;break}if(ee===w){z=!0,w=D,y=b;break}ee=ee.sibling}if(!z)throw Error(t(189))}}if(y.alternate!==w)throw Error(t(190))}if(y.tag!==3)throw Error(t(188));return y.stateNode.current===y?l:f}function Me(l){return l=ge(l),l!==null?Ee(l):null}function Ee(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var f=Ee(l);if(f!==null)return f;l=l.sibling}return null}var Se=e.unstable_scheduleCallback,ct=e.unstable_cancelCallback,Tt=e.unstable_shouldYield,Pt=e.unstable_requestPaint,ft=e.unstable_now,Ut=e.unstable_getCurrentPriorityLevel,Ft=e.unstable_ImmediatePriority,Nt=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,Ri=e.unstable_LowPriority,Sn=e.unstable_IdlePriority,Jn=null,wt=null;function pt(l){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Jn,l,void 0,(l.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Fs,Jt=Math.log,Gn=Math.LN2;function Fs(l){return l>>>=0,l===0?32:31-(Jt(l)/Gn|0)|0}var Ki=64,Yn=4194304;function Cn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Er(l,f){var y=l.pendingLanes;if(y===0)return 0;var w=0,b=l.suspendedLanes,D=l.pingedLanes,z=y&268435455;if(z!==0){var ee=z&~b;ee!==0?w=Cn(ee):(D&=z,D!==0&&(w=Cn(D)))}else z=y&~b,z!==0?w=Cn(z):D!==0&&(w=Cn(D));if(w===0)return 0;if(f!==0&&f!==w&&(f&b)===0&&(b=w&-w,D=f&-f,b>=D||b===16&&(D&4194240)!==0))return f;if((w&4)!==0&&(w|=y&16),f=l.entangledLanes,f!==0)for(l=l.entanglements,f&=w;0<f;)y=31-zn(f),b=1<<y,w|=l[y],f&=~b;return w}function Sl(l,f){switch(l){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(l,f){for(var y=l.suspendedLanes,w=l.pingedLanes,b=l.expirationTimes,D=l.pendingLanes;0<D;){var z=31-zn(D),ee=1<<z,ue=b[z];ue===-1?((ee&y)===0||(ee&w)!==0)&&(b[z]=Sl(ee,f)):ue<=f&&(l.expiredLanes|=ee),D&=~ee}}function Xo(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function ur(){var l=Ki;return Ki<<=1,(Ki&4194240)===0&&(Ki=64),l}function Ml(l){for(var f=[],y=0;31>y;y++)f.push(l);return f}function ku(l,f,y){l.pendingLanes|=f,f!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,f=31-zn(f),l[f]=y}function Ky(l,f){var y=l.pendingLanes&~f;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=f,l.mutableReadLanes&=f,l.entangledLanes&=f,f=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<y;){var b=31-zn(y),D=1<<b;f[b]=0,w[b]=-1,l[b]=-1,y&=~D}}function wl(l,f){var y=l.entangledLanes|=f;for(l=l.entanglements;y;){var w=31-zn(y),b=1<<w;b&f|l[w]&f&&(l[w]|=f),y&=~b}}var cn=0;function El(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var zu,jd,Sg,Ff,Of,_a=!1,Nf=[],Os=null,Yt=null,oo=null,xa=new Map,Tl=new Map,Jo=[],Qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ci(l,f){switch(l){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":xa.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(f.pointerId)}}function Aa(l,f,y,w,b,D){return l===null||l.nativeEvent!==D?(l={blockedOn:f,domEventName:y,eventSystemFlags:w,nativeEvent:D,targetContainers:[b]},f!==null&&(f=mo(f),f!==null&&jd(f)),l):(l.eventSystemFlags|=w,f=l.targetContainers,b!==null&&f.indexOf(b)===-1&&f.push(b),l)}function qy(l,f,y,w,b){switch(f){case"focusin":return Os=Aa(Os,l,f,y,w,b),!0;case"dragenter":return Yt=Aa(Yt,l,f,y,w,b),!0;case"mouseover":return oo=Aa(oo,l,f,y,w,b),!0;case"pointerover":var D=b.pointerId;return xa.set(D,Aa(xa.get(D)||null,l,f,y,w,b)),!0;case"gotpointercapture":return D=b.pointerId,Tl.set(D,Aa(Tl.get(D)||null,l,f,y,w,b)),!0}return!1}function Uf(l){var f=ea(l.target);if(f!==null){var y=so(f);if(y!==null){if(f=y.tag,f===13){if(f=If(y),f!==null){l.blockedOn=f,Of(l.priority,function(){Sg(y)});return}}else if(f===3&&y.stateNode.current.memoizedState.isDehydrated){l.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}l.blockedOn=null}function kf(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var y=Wr(l.domEventName,l.eventSystemFlags,f[0],l.nativeEvent);if(y===null){y=l.nativeEvent;var w=new y.constructor(y.type,y);ke=w,y.target.dispatchEvent(w),ke=null}else return f=mo(y),f!==null&&jd(f),l.blockedOn=y,!1;f.shift()}return!0}function Gu(l,f,y){kf(l)&&y.delete(f)}function Ns(){_a=!1,Os!==null&&kf(Os)&&(Os=null),Yt!==null&&kf(Yt)&&(Yt=null),oo!==null&&kf(oo)&&(oo=null),xa.forEach(Gu),Tl.forEach(Gu)}function Hu(l,f){l.blockedOn===f&&(l.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ns)))}function Vu(l){function f(b){return Hu(b,l)}if(0<Nf.length){Hu(Nf[0],l);for(var y=1;y<Nf.length;y++){var w=Nf[y];w.blockedOn===l&&(w.blockedOn=null)}}for(Os!==null&&Hu(Os,l),Yt!==null&&Hu(Yt,l),oo!==null&&Hu(oo,l),xa.forEach(f),Tl.forEach(f),y=0;y<Jo.length;y++)w=Jo[y],w.blockedOn===l&&(w.blockedOn=null);for(;0<Jo.length&&(y=Jo[0],y.blockedOn===null);)Uf(y),y.blockedOn===null&&Jo.shift()}var Qi=R.ReactCurrentBatchConfig,Vr=!0;function zf(l,f,y,w){var b=cn,D=Qi.transition;Qi.transition=null;try{cn=1,Gf(l,f,y,w)}finally{cn=b,Qi.transition=D}}function Xd(l,f,y,w){var b=cn,D=Qi.transition;Qi.transition=null;try{cn=4,Gf(l,f,y,w)}finally{cn=b,Qi.transition=D}}function Gf(l,f,y,w){if(Vr){var b=Wr(l,f,y,w);if(b===null)ah(l,f,w,Hf,y),ci(l,w);else if(qy(b,l,f,y,w))w.stopPropagation();else if(ci(l,w),f&4&&-1<Qy.indexOf(l)){for(;b!==null;){var D=mo(b);if(D!==null&&zu(D),D=Wr(l,f,y,w),D===null&&ah(l,f,w,Hf,y),D===b)break;b=D}b!==null&&w.stopPropagation()}else ah(l,f,w,null,y)}}var Hf=null;function Wr(l,f,y,w){if(Hf=null,l=He(w),l=ea(l),l!==null)if(f=so(l),f===null)l=null;else if(y=f.tag,y===13){if(l=If(f),l!==null)return l;l=null}else if(y===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null);return Hf=l,null}function Mg(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ut()){case Ft:return 1;case Nt:return 4;case An:case Ri:return 16;case Sn:return 536870912;default:return 16}default:return 16}}var fs=null,Jd=null,cr=null;function Wu(){if(cr)return cr;var l,f=Jd,y=f.length,w,b="value"in fs?fs.value:fs.textContent,D=b.length;for(l=0;l<y&&f[l]===b[l];l++);var z=y-l;for(w=1;w<=z&&f[y-w]===b[D-w];w++);return cr=b.slice(l,1<w?1-w:void 0)}function Sa(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function ao(){return!0}function Vf(){return!1}function qi(l){function f(y,w,b,D,z){this._reactName=y,this._targetInst=b,this.type=w,this.nativeEvent=D,this.target=z,this.currentTarget=null;for(var ee in l)l.hasOwnProperty(ee)&&(y=l[ee],this[ee]=y?y(D):D[ee]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ao:Vf,this.isPropagationStopped=Vf,this}return V(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),f}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=qi(Ma),wa=V({},Ma,{view:0,detail:0}),Cl=qi(wa),fr,jr,Xr,bl=V({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Xr&&(Xr&&l.type==="mousemove"?(fr=l.screenX-Xr.screenX,jr=l.screenY-Xr.screenY):jr=fr=0,Xr=l),fr)},movementY:function(l){return"movementY"in l?l.movementY:jr}}),Yd=qi(bl),lo=V({},bl,{dataTransfer:0}),Yo=qi(lo),Wf=V({},wa,{relatedTarget:0}),jf=qi(Wf),Xf=V({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=qi(Xf),Eg=V({},Ma,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Kd=qi(Eg),Jf=V({},Ma,{data:0}),Qd=qi(Jf),Tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=qd[l])?!!f[l]:!1}function Ko(){return Rl}var Yf=V({},wa,{key:function(l){if(l.key){var f=Tg[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Sa(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Cg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(l){return l.type==="keypress"?Sa(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Sa(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Kf=qi(Yf),Jr=V({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=qi(Jr),Ea=V({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),uo=qi(Ea),co=V({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ta=qi(co),bg=V({},bl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=qi(bg),$d=[9,13,27,32],Zi=a&&"CompositionEvent"in window,Bi=null;a&&"documentMode"in document&&(Bi=document.documentMode);var Ln=a&&"TextEvent"in window&&!Bi,Pl=a&&(!Zi||Bi&&8<Bi&&11>=Bi),Yr=" ",ep=!1;function tp(l,f){switch(l){case"keyup":return $d.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Qo=!1;function Rg(l,f){switch(l){case"compositionend":return Qf(f);case"keypress":return f.which!==32?null:(ep=!0,Yr);case"textInput":return l=f.data,l===Yr&&ep?null:l;default:return null}}function Xu(l,f){if(Qo)return l==="compositionend"||!Zi&&tp(l,f)?(l=Wu(),cr=Jd=fs=null,Qo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Pl&&f.locale!=="ko"?null:f.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!Bl[l.type]:f==="textarea"}function Ll(l,f,y,w){Be(w),f=lh(f,"onChange"),0<f.length&&(y=new ju("onChange","change",null,y,w),l.push({event:y,listeners:f}))}var qo=null,Dl=null;function Pg(l){Nl(l,0)}function fo(l){var f=Kn(l);if(ne(f))return l}function Bg(l,f){if(l==="change")return f}var Il=!1;if(a){var hr;if(a){var Ca="oninput"in document;if(!Ca){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),Ca=typeof ba.oninput=="function"}hr=Ca}else hr=!1;Il=hr&&(!document.documentMode||9<document.documentMode)}function hs(){qo&&(qo.detachEvent("onpropertychange",Zf),Dl=qo=null)}function Zf(l){if(l.propertyName==="value"&&fo(Dl)){var f=[];Ll(f,Dl,l,He(l)),Tn(Pg,f)}}function Fl(l,f,y){l==="focusin"?(hs(),qo=f,Dl=y,qo.attachEvent("onpropertychange",Zf)):l==="focusout"&&hs()}function Lg(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return fo(Dl)}function np(l,f){if(l==="click")return fo(f)}function Nn(l,f){if(l==="input"||l==="change")return fo(f)}function $f(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Cr=typeof Object.is=="function"?Object.is:$f;function Ra(l,f){if(Cr(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var y=Object.keys(l),w=Object.keys(f);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var b=y[w];if(!u.call(f,b)||!Cr(l[b],f[b]))return!1}return!0}function Ju(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function br(l,f){var y=Ju(l);l=0;for(var w;y;){if(y.nodeType===3){if(w=l+y.textContent.length,l<=f&&w>=f)return{node:y,offset:f-l};l=w}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Ju(y)}}function Pa(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Pa(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function Un(){for(var l=window,f=Ie();f instanceof l.HTMLIFrameElement;){try{var y=typeof f.contentWindow.location.href=="string"}catch{y=!1}if(y)l=f.contentWindow;else break;f=Ie(l.document)}return f}function yi(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}function _i(l){var f=Un(),y=l.focusedElem,w=l.selectionRange;if(f!==y&&y&&y.ownerDocument&&Pa(y.ownerDocument.documentElement,y)){if(w!==null&&yi(y)){if(f=w.start,l=w.end,l===void 0&&(l=f),"selectionStart"in y)y.selectionStart=f,y.selectionEnd=Math.min(l,y.value.length);else if(l=(f=y.ownerDocument||document)&&f.defaultView||window,l.getSelection){l=l.getSelection();var b=y.textContent.length,D=Math.min(w.start,b);w=w.end===void 0?D:Math.min(w.end,b),!l.extend&&D>w&&(b=w,w=D,D=b),b=br(y,D);var z=br(y,w);b&&z&&(l.rangeCount!==1||l.anchorNode!==b.node||l.anchorOffset!==b.offset||l.focusNode!==z.node||l.focusOffset!==z.offset)&&(f=f.createRange(),f.setStart(b.node,b.offset),l.removeAllRanges(),D>w?(l.addRange(f),l.extend(z.node,z.offset)):(f.setEnd(z.node,z.offset),l.addRange(f)))}}for(f=[],l=y;l=l.parentNode;)l.nodeType===1&&f.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<f.length;y++)l=f[y],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var eh=a&&"documentMode"in document&&11>=document.documentMode,Us=null,Ba=null,Yu=null,xi=!1;function th(l,f,y){var w=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;xi||Us==null||Us!==Ie(w)||(w=Us,"selectionStart"in w&&yi(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Yu&&Ra(Yu,w)||(Yu=w,w=lh(Ba,"onSelect"),0<w.length&&(f=new ju("onSelect","select",null,f,y),l.push({event:f,listeners:w}),f.target=Us)))}function Ol(l,f){var y={};return y[l.toLowerCase()]=f.toLowerCase(),y["Webkit"+l]="webkit"+f,y["Moz"+l]="moz"+f,y}var Zo={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},ds={},ps={};a&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function ks(l){if(ds[l])return ds[l];if(!Zo[l])return l;var f=Zo[l],y;for(y in f)if(f.hasOwnProperty(y)&&y in ps)return ds[l]=f[y];return l}var Ku=ks("animationend"),Qu=ks("animationiteration"),ip=ks("animationstart"),rp=ks("transitionend"),sp=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(l,f){sp.set(l,f),s(f,[l])}for(var nh=0;nh<op.length;nh++){var qu=op[nh],Zu=qu.toLowerCase(),Dg=qu[0].toUpperCase()+qu.slice(1);ho(Zu,"on"+Dg)}ho(Ku,"onAnimationEnd"),ho(Qu,"onAnimationIteration"),ho(ip,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(rp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ih=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function rh(l,f,y){var w=l.type||"unknown-event";l.currentTarget=y,Wd(w,f,void 0,l),l.currentTarget=null}function Nl(l,f){f=(f&4)!==0;for(var y=0;y<l.length;y++){var w=l[y],b=w.event;w=w.listeners;e:{var D=void 0;if(f)for(var z=w.length-1;0<=z;z--){var ee=w[z],ue=ee.instance,Ae=ee.currentTarget;if(ee=ee.listener,ue!==D&&b.isPropagationStopped())break e;rh(b,ee,Ae),D=ue}else for(z=0;z<w.length;z++){if(ee=w[z],ue=ee.instance,Ae=ee.currentTarget,ee=ee.listener,ue!==D&&b.isPropagationStopped())break e;rh(b,ee,Ae),D=ue}}}if(cs)throw l=jo,cs=!1,jo=null,l}function Mn(l,f){var y=f[Ia];y===void 0&&(y=f[Ia]=new Set);var w=l+"__bubble";y.has(w)||(oh(f,l,2,!1),y.add(w))}function sh(l,f,y){var w=0;f&&(w|=4),oh(y,l,w,f)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Ul(l){if(!l[$u]){l[$u]=!0,n.forEach(function(y){y!=="selectionchange"&&(ih.has(y)||sh(y,!1,l),sh(y,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[$u]||(f[$u]=!0,sh("selectionchange",!1,f))}}function oh(l,f,y,w){switch(Mg(f)){case 1:var b=zf;break;case 4:b=Xd;break;default:b=Gf}y=b.bind(null,f,y,l),b=void 0,!ui||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(b=!0),w?b!==void 0?l.addEventListener(f,y,{capture:!0,passive:b}):l.addEventListener(f,y,!0):b!==void 0?l.addEventListener(f,y,{passive:b}):l.addEventListener(f,y,!1)}function ah(l,f,y,w,b){var D=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var z=w.tag;if(z===3||z===4){var ee=w.stateNode.containerInfo;if(ee===b||ee.nodeType===8&&ee.parentNode===b)break;if(z===4)for(z=w.return;z!==null;){var ue=z.tag;if((ue===3||ue===4)&&(ue=z.stateNode.containerInfo,ue===b||ue.nodeType===8&&ue.parentNode===b))return;z=z.return}for(;ee!==null;){if(z=ea(ee),z===null)return;if(ue=z.tag,ue===5||ue===6){w=D=z;continue e}ee=ee.parentNode}}w=w.return}Tn(function(){var Ae=D,Ve=He(y),Ke=[];e:{var ze=sp.get(l);if(ze!==void 0){var ht=ju,vt=l;switch(l){case"keypress":if(Sa(y)===0)break e;case"keydown":case"keyup":ht=Kf;break;case"focusin":vt="focus",ht=jf;break;case"focusout":vt="blur",ht=jf;break;case"beforeblur":case"afterblur":ht=jf;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=uo;break;case Ku:case Qu:case ip:ht=wg;break;case rp:ht=Ta;break;case"scroll":ht=Cl;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Kd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Tr}var At=(f&4)!==0,hi=!At&&l==="scroll",ve=At?ze!==null?ze+"Capture":null:ze;At=[];for(var fe=Ae,_e;fe!==null;){_e=fe;var $e=_e.stateNode;if(_e.tag===5&&$e!==null&&(_e=$e,ve!==null&&($e=$t(fe,ve),$e!=null&&At.push(kl(fe,$e,_e)))),hi)break;fe=fe.return}0<At.length&&(ze=new ht(ze,vt,null,y,Ve),Ke.push({event:ze,listeners:At}))}}if((f&7)===0){e:{if(ze=l==="mouseover"||l==="pointerover",ht=l==="mouseout"||l==="pointerout",ze&&y!==ke&&(vt=y.relatedTarget||y.fromElement)&&(ea(vt)||vt[Rr]))break e;if((ht||ze)&&(ze=Ve.window===Ve?Ve:(ze=Ve.ownerDocument)?ze.defaultView||ze.parentWindow:window,ht?(vt=y.relatedTarget||y.toElement,ht=Ae,vt=vt?ea(vt):null,vt!==null&&(hi=so(vt),vt!==hi||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(ht=null,vt=Ae),ht!==vt)){if(At=Yd,$e="onMouseLeave",ve="onMouseEnter",fe="mouse",(l==="pointerout"||l==="pointerover")&&(At=Tr,$e="onPointerLeave",ve="onPointerEnter",fe="pointer"),hi=ht==null?ze:Kn(ht),_e=vt==null?ze:Kn(vt),ze=new At($e,fe+"leave",ht,y,Ve),ze.target=hi,ze.relatedTarget=_e,$e=null,ea(Ve)===Ae&&(At=new At(ve,fe+"enter",vt,y,Ve),At.target=_e,At.relatedTarget=hi,$e=At),hi=$e,ht&&vt)t:{for(At=ht,ve=vt,fe=0,_e=At;_e;_e=La(_e))fe++;for(_e=0,$e=ve;$e;$e=La($e))_e++;for(;0<fe-_e;)At=La(At),fe--;for(;0<_e-fe;)ve=La(ve),_e--;for(;fe--;){if(At===ve||ve!==null&&At===ve.alternate)break t;At=La(At),ve=La(ve)}At=null}else At=null;ht!==null&&Ig(Ke,ze,ht,At,!1),vt!==null&&hi!==null&&Ig(Ke,hi,vt,At,!0)}}e:{if(ze=Ae?Kn(Ae):window,ht=ze.nodeName&&ze.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ze.type==="file")var Et=Bg;else if(qf(ze))if(Il)Et=Nn;else{Et=Lg;var Bt=Fl}else(ht=ze.nodeName)&&ht.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(Et=np);if(Et&&(Et=Et(l,Ae))){Ll(Ke,Et,y,Ve);break e}Bt&&Bt(l,ze,Ae),l==="focusout"&&(Bt=ze._wrapperState)&&Bt.controlled&&ze.type==="number"&&rt(ze,"number",ze.value)}switch(Bt=Ae?Kn(Ae):window,l){case"focusin":(qf(Bt)||Bt.contentEditable==="true")&&(Us=Bt,Ba=Ae,Yu=null);break;case"focusout":Yu=Ba=Us=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,th(Ke,y,Ve);break;case"selectionchange":if(eh)break;case"keydown":case"keyup":th(Ke,y,Ve)}var Lt;if(Zi)e:{switch(l){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else Qo?tp(l,y)&&(kt="onCompositionEnd"):l==="keydown"&&y.keyCode===229&&(kt="onCompositionStart");kt&&(Pl&&y.locale!=="ko"&&(Qo||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Qo&&(Lt=Wu()):(fs=Ve,Jd="value"in fs?fs.value:fs.textContent,Qo=!0)),Bt=lh(Ae,kt),0<Bt.length&&(kt=new Qd(kt,l,null,y,Ve),Ke.push({event:kt,listeners:Bt}),Lt?kt.data=Lt:(Lt=Qf(y),Lt!==null&&(kt.data=Lt)))),(Lt=Ln?Rg(l,y):Xu(l,y))&&(Ae=lh(Ae,"onBeforeInput"),0<Ae.length&&(Ve=new Qd("onBeforeInput","beforeinput",null,y,Ve),Ke.push({event:Ve,listeners:Ae}),Ve.data=Lt))}Nl(Ke,f)})}function kl(l,f,y){return{instance:l,listener:f,currentTarget:y}}function lh(l,f){for(var y=f+"Capture",w=[];l!==null;){var b=l,D=b.stateNode;b.tag===5&&D!==null&&(b=D,D=$t(l,y),D!=null&&w.unshift(kl(l,D,b)),D=$t(l,f),D!=null&&w.push(kl(l,D,b))),l=l.return}return w}function La(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ig(l,f,y,w,b){for(var D=f._reactName,z=[];y!==null&&y!==w;){var ee=y,ue=ee.alternate,Ae=ee.stateNode;if(ue!==null&&ue===w)break;ee.tag===5&&Ae!==null&&(ee=Ae,b?(ue=$t(y,D),ue!=null&&z.unshift(kl(y,ue,ee))):b||(ue=$t(y,D),ue!=null&&z.push(kl(y,ue,ee)))),y=y.return}z.length!==0&&l.push({event:f,listeners:z})}var Zy=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function ap(l){return(typeof l=="string"?l:""+l).replace(Zy,`
`).replace(Fg,"")}function ec(l,f,y){if(f=ap(f),ap(l)!==f&&y)throw Error(t(425))}function tc(){}var zl=null,lp=null;function up(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(l){return uh.resolve(null).then(l).catch(Og)}:cp;function Og(l){setTimeout(function(){throw l})}function ch(l,f){var y=f,w=0;do{var b=y.nextSibling;if(l.removeChild(y),b&&b.nodeType===8)if(y=b.data,y==="/$"){if(w===0){l.removeChild(b),Vu(f);return}w--}else y!=="$"&&y!=="$?"&&y!=="$!"||w++;y=b}while(y);Vu(f)}function po(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return l}function hp(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var y=l.data;if(y==="$"||y==="$!"||y==="$?"){if(f===0)return l;f--}else y==="/$"&&f++}l=l.previousSibling}return null}var Da=Math.random().toString(36).slice(2),fi="__reactFiber$"+Da,Gl="__reactProps$"+Da,Rr="__reactContainer$"+Da,Ia="__reactEvents$"+Da,fh="__reactListeners$"+Da,hh="__reactHandles$"+Da;function ea(l){var f=l[fi];if(f)return f;for(var y=l.parentNode;y;){if(f=y[Rr]||y[fi]){if(y=f.alternate,f.child!==null||y!==null&&y.child!==null)for(l=hp(l);l!==null;){if(y=l[fi])return y;l=hp(l)}return f}l=y,y=l.parentNode}return null}function mo(l){return l=l[fi]||l[Rr],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Kn(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function dh(l){return l[Gl]||null}var dp=[],Ai=-1;function Hn(l){return{current:l}}function wn(l){0>Ai||(l.current=dp[Ai],dp[Ai]=null,Ai--)}function yn(l,f){Ai++,dp[Ai]=l.current,l.current=f}var go={},Li=Hn(go),$i=Hn(!1),vo=go;function Fa(l,f){var y=l.type.contextTypes;if(!y)return go;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var b={},D;for(D in y)b[D]=f[D];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=f,l.__reactInternalMemoizedMaskedChildContext=b),b}function Gi(l){return l=l.childContextTypes,l!=null}function nc(){wn($i),wn(Li)}function pp(l,f,y){if(Li.current!==go)throw Error(t(168));yn(Li,f),yn($i,y)}function ic(l,f,y){var w=l.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var b in w)if(!(b in f))throw Error(t(108,Re(l)||"Unknown",b));return V({},y,w)}function Oa(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||go,vo=Li.current,yn(Li,l),yn($i,$i.current),!0}function mp(l,f,y){var w=l.stateNode;if(!w)throw Error(t(169));y?(l=ic(l,f,vo),w.__reactInternalMemoizedMergedChildContext=l,wn($i),wn(Li),yn(Li,l)):wn($i),yn($i,y)}var ms=null,rc=!1,ph=!1;function sc(l){ms===null?ms=[l]:ms.push(l)}function Ng(l){rc=!0,sc(l)}function zs(){if(!ph&&ms!==null){ph=!0;var l=0,f=cn;try{var y=ms;for(cn=1;l<y.length;l++){var w=y[l];do w=w(!0);while(w!==null)}ms=null,rc=!1}catch(b){throw ms!==null&&(ms=ms.slice(l+1)),Se(Ft,zs),b}finally{cn=f,ph=!1}}return null}var Na=[],dr=0,mh=null,gh=0,er=[],Si=0,Ua=null,tt=1,Kr="";function yo(l,f){Na[dr++]=gh,Na[dr++]=mh,mh=l,gh=f}function gp(l,f,y){er[Si++]=tt,er[Si++]=Kr,er[Si++]=Ua,Ua=l;var w=tt;l=Kr;var b=32-zn(w)-1;w&=~(1<<b),y+=1;var D=32-zn(f)+b;if(30<D){var z=b-b%5;D=(w&(1<<z)-1).toString(32),w>>=z,b-=z,tt=1<<32-zn(f)+b|y<<b|w,Kr=D+l}else tt=1<<D|y<<b|w,Kr=l}function vp(l){l.return!==null&&(yo(l,1),gp(l,1,0))}function _o(l){for(;l===mh;)mh=Na[--dr],Na[dr]=null,gh=Na[--dr],Na[dr]=null;for(;l===Ua;)Ua=er[--Si],er[Si]=null,Kr=er[--Si],er[Si]=null,tt=er[--Si],er[Si]=null}var Di=null,tr=null,bn=!1,Qr=null;function yp(l,f){var y=js(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=l,f=l.deletions,f===null?(l.deletions=[y],l.flags|=16):f.push(y)}function _p(l,f){switch(l.tag){case 5:var y=l.type;return f=f.nodeType!==1||y.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(l.stateNode=f,Di=l,tr=po(f.firstChild),!0):!1;case 6:return f=l.pendingProps===""||f.nodeType!==3?null:f,f!==null?(l.stateNode=f,Di=l,tr=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(y=Ua!==null?{id:tt,overflow:Kr}:null,l.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=js(18,null,null,0),y.stateNode=f,y.return=l,l.child=y,Di=l,tr=null,!0):!1;default:return!1}}function vh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function yh(l){if(bn){var f=tr;if(f){var y=f;if(!_p(l,f)){if(vh(l))throw Error(t(418));f=po(y.nextSibling);var w=Di;f&&_p(l,f)?yp(w,y):(l.flags=l.flags&-4097|2,bn=!1,Di=l)}}else{if(vh(l))throw Error(t(418));l.flags=l.flags&-4097|2,bn=!1,Di=l}}}function _h(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Di=l}function Hl(l){if(l!==Di)return!1;if(!bn)return _h(l),bn=!0,!1;var f;if((f=l.tag!==3)&&!(f=l.tag!==5)&&(f=l.type,f=f!=="head"&&f!=="body"&&!up(l.type,l.memoizedProps)),f&&(f=tr)){if(vh(l))throw xp(),Error(t(418));for(;f;)yp(l,f),f=po(f.nextSibling)}if(_h(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,f=0;l;){if(l.nodeType===8){var y=l.data;if(y==="/$"){if(f===0){tr=po(l.nextSibling);break e}f--}else y!=="$"&&y!=="$!"&&y!=="$?"||f++}l=l.nextSibling}tr=null}}else tr=Di?po(l.stateNode.nextSibling):null;return!0}function xp(){for(var l=tr;l;)l=po(l.nextSibling)}function ta(){tr=Di=null,bn=!1}function Vl(l){Qr===null?Qr=[l]:Qr.push(l)}var e_=R.ReactCurrentBatchConfig;function oc(l,f,y){if(l=y.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(t(309));var w=y.stateNode}if(!w)throw Error(t(147,l));var b=w,D=""+l;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===D?f.ref:(f=function(z){var ee=b.refs;z===null?delete ee[D]:ee[D]=z},f._stringRef=D,f)}if(typeof l!="string")throw Error(t(284));if(!y._owner)throw Error(t(290,l))}return l}function ac(l,f){throw l=Object.prototype.toString.call(f),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l))}function Ap(l){var f=l._init;return f(l._payload)}function Sp(l){function f(ve,fe){if(l){var _e=ve.deletions;_e===null?(ve.deletions=[fe],ve.flags|=16):_e.push(fe)}}function y(ve,fe){if(!l)return null;for(;fe!==null;)f(ve,fe),fe=fe.sibling;return null}function w(ve,fe){for(ve=new Map;fe!==null;)fe.key!==null?ve.set(fe.key,fe):ve.set(fe.index,fe),fe=fe.sibling;return ve}function b(ve,fe){return ve=eu(ve,fe),ve.index=0,ve.sibling=null,ve}function D(ve,fe,_e){return ve.index=_e,l?(_e=ve.alternate,_e!==null?(_e=_e.index,_e<fe?(ve.flags|=2,fe):_e):(ve.flags|=2,fe)):(ve.flags|=1048576,fe)}function z(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function ee(ve,fe,_e,$e){return fe===null||fe.tag!==6?(fe=__(_e,ve.mode,$e),fe.return=ve,fe):(fe=b(fe,_e),fe.return=ve,fe)}function ue(ve,fe,_e,$e){var Et=_e.type;return Et===O?Ve(ve,fe,_e.props.children,$e,_e.key):fe!==null&&(fe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===se&&Ap(Et)===fe.type)?($e=b(fe,_e.props),$e.ref=oc(ve,fe,_e),$e.return=ve,$e):($e=o0(_e.type,_e.key,_e.props,null,ve.mode,$e),$e.ref=oc(ve,fe,_e),$e.return=ve,$e)}function Ae(ve,fe,_e,$e){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==_e.containerInfo||fe.stateNode.implementation!==_e.implementation?(fe=x_(_e,ve.mode,$e),fe.return=ve,fe):(fe=b(fe,_e.children||[]),fe.return=ve,fe)}function Ve(ve,fe,_e,$e,Et){return fe===null||fe.tag!==7?(fe=wc(_e,ve.mode,$e,Et),fe.return=ve,fe):(fe=b(fe,_e),fe.return=ve,fe)}function Ke(ve,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=__(""+fe,ve.mode,_e),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case B:return _e=o0(fe.type,fe.key,fe.props,null,ve.mode,_e),_e.ref=oc(ve,null,fe),_e.return=ve,_e;case I:return fe=x_(fe,ve.mode,_e),fe.return=ve,fe;case se:var $e=fe._init;return Ke(ve,$e(fe._payload),_e)}if(_t(fe)||Y(fe))return fe=wc(fe,ve.mode,_e,null),fe.return=ve,fe;ac(ve,fe)}return null}function ze(ve,fe,_e,$e){var Et=fe!==null?fe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Et!==null?null:ee(ve,fe,""+_e,$e);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case B:return _e.key===Et?ue(ve,fe,_e,$e):null;case I:return _e.key===Et?Ae(ve,fe,_e,$e):null;case se:return Et=_e._init,ze(ve,fe,Et(_e._payload),$e)}if(_t(_e)||Y(_e))return Et!==null?null:Ve(ve,fe,_e,$e,null);ac(ve,_e)}return null}function ht(ve,fe,_e,$e,Et){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ve=ve.get(_e)||null,ee(fe,ve,""+$e,Et);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case B:return ve=ve.get($e.key===null?_e:$e.key)||null,ue(fe,ve,$e,Et);case I:return ve=ve.get($e.key===null?_e:$e.key)||null,Ae(fe,ve,$e,Et);case se:var Bt=$e._init;return ht(ve,fe,_e,Bt($e._payload),Et)}if(_t($e)||Y($e))return ve=ve.get(_e)||null,Ve(fe,ve,$e,Et,null);ac(fe,$e)}return null}function vt(ve,fe,_e,$e){for(var Et=null,Bt=null,Lt=fe,kt=fe=0,ji=null;Lt!==null&&kt<_e.length;kt++){Lt.index>kt?(ji=Lt,Lt=null):ji=Lt.sibling;var pn=ze(ve,Lt,_e[kt],$e);if(pn===null){Lt===null&&(Lt=ji);break}l&&Lt&&pn.alternate===null&&f(ve,Lt),fe=D(pn,fe,kt),Bt===null?Et=pn:Bt.sibling=pn,Bt=pn,Lt=ji}if(kt===_e.length)return y(ve,Lt),bn&&yo(ve,kt),Et;if(Lt===null){for(;kt<_e.length;kt++)Lt=Ke(ve,_e[kt],$e),Lt!==null&&(fe=D(Lt,fe,kt),Bt===null?Et=Lt:Bt.sibling=Lt,Bt=Lt);return bn&&yo(ve,kt),Et}for(Lt=w(ve,Lt);kt<_e.length;kt++)ji=ht(Lt,ve,kt,_e[kt],$e),ji!==null&&(l&&ji.alternate!==null&&Lt.delete(ji.key===null?kt:ji.key),fe=D(ji,fe,kt),Bt===null?Et=ji:Bt.sibling=ji,Bt=ji);return l&&Lt.forEach(function(tu){return f(ve,tu)}),bn&&yo(ve,kt),Et}function At(ve,fe,_e,$e){var Et=Y(_e);if(typeof Et!="function")throw Error(t(150));if(_e=Et.call(_e),_e==null)throw Error(t(151));for(var Bt=Et=null,Lt=fe,kt=fe=0,ji=null,pn=_e.next();Lt!==null&&!pn.done;kt++,pn=_e.next()){Lt.index>kt?(ji=Lt,Lt=null):ji=Lt.sibling;var tu=ze(ve,Lt,pn.value,$e);if(tu===null){Lt===null&&(Lt=ji);break}l&&Lt&&tu.alternate===null&&f(ve,Lt),fe=D(tu,fe,kt),Bt===null?Et=tu:Bt.sibling=tu,Bt=tu,Lt=ji}if(pn.done)return y(ve,Lt),bn&&yo(ve,kt),Et;if(Lt===null){for(;!pn.done;kt++,pn=_e.next())pn=Ke(ve,pn.value,$e),pn!==null&&(fe=D(pn,fe,kt),Bt===null?Et=pn:Bt.sibling=pn,Bt=pn);return bn&&yo(ve,kt),Et}for(Lt=w(ve,Lt);!pn.done;kt++,pn=_e.next())pn=ht(Lt,ve,kt,pn.value,$e),pn!==null&&(l&&pn.alternate!==null&&Lt.delete(pn.key===null?kt:pn.key),fe=D(pn,fe,kt),Bt===null?Et=pn:Bt.sibling=pn,Bt=pn);return l&&Lt.forEach(function(rD){return f(ve,rD)}),bn&&yo(ve,kt),Et}function hi(ve,fe,_e,$e){if(typeof _e=="object"&&_e!==null&&_e.type===O&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case B:e:{for(var Et=_e.key,Bt=fe;Bt!==null;){if(Bt.key===Et){if(Et=_e.type,Et===O){if(Bt.tag===7){y(ve,Bt.sibling),fe=b(Bt,_e.props.children),fe.return=ve,ve=fe;break e}}else if(Bt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===se&&Ap(Et)===Bt.type){y(ve,Bt.sibling),fe=b(Bt,_e.props),fe.ref=oc(ve,Bt,_e),fe.return=ve,ve=fe;break e}y(ve,Bt);break}else f(ve,Bt);Bt=Bt.sibling}_e.type===O?(fe=wc(_e.props.children,ve.mode,$e,_e.key),fe.return=ve,ve=fe):($e=o0(_e.type,_e.key,_e.props,null,ve.mode,$e),$e.ref=oc(ve,fe,_e),$e.return=ve,ve=$e)}return z(ve);case I:e:{for(Bt=_e.key;fe!==null;){if(fe.key===Bt)if(fe.tag===4&&fe.stateNode.containerInfo===_e.containerInfo&&fe.stateNode.implementation===_e.implementation){y(ve,fe.sibling),fe=b(fe,_e.children||[]),fe.return=ve,ve=fe;break e}else{y(ve,fe);break}else f(ve,fe);fe=fe.sibling}fe=x_(_e,ve.mode,$e),fe.return=ve,ve=fe}return z(ve);case se:return Bt=_e._init,hi(ve,fe,Bt(_e._payload),$e)}if(_t(_e))return vt(ve,fe,_e,$e);if(Y(_e))return At(ve,fe,_e,$e);ac(ve,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,fe!==null&&fe.tag===6?(y(ve,fe.sibling),fe=b(fe,_e),fe.return=ve,ve=fe):(y(ve,fe),fe=__(_e,ve.mode,$e),fe.return=ve,ve=fe),z(ve)):y(ve,fe)}return hi}var ka=Sp(!0),lc=Sp(!1),za=Hn(null),Ga=null,xo=null,Wl=null;function Ha(){Wl=xo=Ga=null}function uc(l){var f=za.current;wn(za),l._currentValue=f}function cc(l,f,y){for(;l!==null;){var w=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),l===y)break;l=l.return}}function na(l,f){Ga=l,Wl=xo=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&f)!==0&&(Xt=!0),l.firstContext=null)}function Pr(l){var f=l._currentValue;if(Wl!==l)if(l={context:l,memoizedValue:f,next:null},xo===null){if(Ga===null)throw Error(t(308));xo=l,Ga.dependencies={lanes:0,firstContext:l}}else xo=xo.next=l;return f}var Ao=null;function Mp(l){Ao===null?Ao=[l]:Ao.push(l)}function fc(l,f,y,w){var b=f.interleaved;return b===null?(y.next=y,Mp(f)):(y.next=b.next,b.next=y),f.interleaved=y,gs(l,w)}function gs(l,f){l.lanes|=f;var y=l.alternate;for(y!==null&&(y.lanes|=f),y=l,l=l.return;l!==null;)l.childLanes|=f,y=l.alternate,y!==null&&(y.childLanes|=f),y=l,l=l.return;return y.tag===3?y.stateNode:null}var gn=!1;function jt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qn(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function vn(l,f){return{eventTime:l,lane:f,tag:0,payload:null,callback:null,next:null}}function Dn(l,f,y){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(dn&2)!==0){var b=w.pending;return b===null?f.next=f:(f.next=b.next,b.next=f),w.pending=f,gs(l,y)}return b=w.interleaved,b===null?(f.next=f,Mp(w)):(f.next=b.next,b.next=f),w.interleaved=f,gs(l,y)}function Hi(l,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var w=f.lanes;w&=l.pendingLanes,y|=w,f.lanes=y,wl(l,y)}}function Va(l,f){var y=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var b=null,D=null;if(y=y.firstBaseUpdate,y!==null){do{var z={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};D===null?b=D=z:D=D.next=z,y=y.next}while(y!==null);D===null?b=D=f:D=D.next=f}else b=D=f;y={baseState:w.baseState,firstBaseUpdate:b,lastBaseUpdate:D,shared:w.shared,effects:w.effects},l.updateQueue=y;return}l=y.lastBaseUpdate,l===null?y.firstBaseUpdate=f:l.next=f,y.lastBaseUpdate=f}function Vn(l,f,y,w){var b=l.updateQueue;gn=!1;var D=b.firstBaseUpdate,z=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var ue=ee,Ae=ue.next;ue.next=null,z===null?D=Ae:z.next=Ae,z=ue;var Ve=l.alternate;Ve!==null&&(Ve=Ve.updateQueue,ee=Ve.lastBaseUpdate,ee!==z&&(ee===null?Ve.firstBaseUpdate=Ae:ee.next=Ae,Ve.lastBaseUpdate=ue))}if(D!==null){var Ke=b.baseState;z=0,Ve=Ae=ue=null,ee=D;do{var ze=ee.lane,ht=ee.eventTime;if((w&ze)===ze){Ve!==null&&(Ve=Ve.next={eventTime:ht,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var vt=l,At=ee;switch(ze=f,ht=y,At.tag){case 1:if(vt=At.payload,typeof vt=="function"){Ke=vt.call(ht,Ke,ze);break e}Ke=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=At.payload,ze=typeof vt=="function"?vt.call(ht,Ke,ze):vt,ze==null)break e;Ke=V({},Ke,ze);break e;case 2:gn=!0}}ee.callback!==null&&ee.lane!==0&&(l.flags|=64,ze=b.effects,ze===null?b.effects=[ee]:ze.push(ee))}else ht={eventTime:ht,lane:ze,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ve===null?(Ae=Ve=ht,ue=Ke):Ve=Ve.next=ht,z|=ze;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;ze=ee,ee=ze.next,ze.next=null,b.lastBaseUpdate=ze,b.shared.pending=null}}while(!0);if(Ve===null&&(ue=Ke),b.baseState=ue,b.firstBaseUpdate=Ae,b.lastBaseUpdate=Ve,f=b.shared.interleaved,f!==null){b=f;do z|=b.lane,b=b.next;while(b!==f)}else D===null&&(b.shared.lanes=0);xc|=z,l.lanes=z,l.memoizedState=Ke}}function jl(l,f,y){if(l=f.effects,f.effects=null,l!==null)for(f=0;f<l.length;f++){var w=l[f],b=w.callback;if(b!==null){if(w.callback=null,w=y,typeof b!="function")throw Error(t(191,b));b.call(w)}}}var Gs={},Br=Hn(Gs),Wa=Hn(Gs),So=Hn(Gs);function ni(l){if(l===Gs)throw Error(t(174));return l}function hc(l,f){switch(yn(So,f),yn(Wa,l),yn(Br,Gs),l=f.nodeType,l){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Ne(null,"");break;default:l=l===8?f.parentNode:f,f=l.namespaceURI||null,l=l.tagName,f=Ne(f,l)}wn(Br),yn(Br,f)}function ia(){wn(Br),wn(Wa),wn(So)}function ja(l){ni(So.current);var f=ni(Br.current),y=Ne(f,l.type);f!==y&&(yn(Wa,l),yn(Br,y))}function Xl(l){Wa.current===l&&(wn(Br),wn(Wa))}var Rn=Hn(0);function vs(l){for(var f=l;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Jl=[];function Hs(){for(var l=0;l<Jl.length;l++)Jl[l]._workInProgressVersionPrimary=null;Jl.length=0}var Xa=R.ReactCurrentDispatcher,Ja=R.ReactCurrentBatchConfig,Mo=0,En=null,Wn=null,fn=null,ys=!1,Vi=!1,ra=0,pr=0;function Ii(){throw Error(t(321))}function dc(l,f){if(f===null)return!1;for(var y=0;y<f.length&&y<l.length;y++)if(!Cr(l[y],f[y]))return!1;return!0}function pc(l,f,y,w,b,D){if(Mo=D,En=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Xa.current=l===null||l.memoizedState===null?Wg:jg,l=y(w,b),Vi){D=0;do{if(Vi=!1,ra=0,25<=D)throw Error(t(301));D+=1,fn=Wn=null,f.updateQueue=null,Xa.current=Xg,l=y(w,b)}while(Vi)}if(Xa.current=Th,f=Wn!==null&&Wn.next!==null,Mo=0,fn=Wn=En=null,ys=!1,f)throw Error(t(300));return l}function wp(){var l=ra!==0;return ra=0,l}function Fi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?En.memoizedState=fn=l:fn=fn.next=l,fn}function Lr(){if(Wn===null){var l=En.alternate;l=l!==null?l.memoizedState:null}else l=Wn.next;var f=fn===null?En.memoizedState:fn.next;if(f!==null)fn=f,Wn=l;else{if(l===null)throw Error(t(310));Wn=l,l={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},fn===null?En.memoizedState=fn=l:fn=fn.next=l}return fn}function Yl(l,f){return typeof f=="function"?f(l):f}function mc(l){var f=Lr(),y=f.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=l;var w=Wn,b=w.baseQueue,D=y.pending;if(D!==null){if(b!==null){var z=b.next;b.next=D.next,D.next=z}w.baseQueue=b=D,y.pending=null}if(b!==null){D=b.next,w=w.baseState;var ee=z=null,ue=null,Ae=D;do{var Ve=Ae.lane;if((Mo&Ve)===Ve)ue!==null&&(ue=ue.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),w=Ae.hasEagerState?Ae.eagerState:l(w,Ae.action);else{var Ke={lane:Ve,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};ue===null?(ee=ue=Ke,z=w):ue=ue.next=Ke,En.lanes|=Ve,xc|=Ve}Ae=Ae.next}while(Ae!==null&&Ae!==D);ue===null?z=w:ue.next=ee,Cr(w,f.memoizedState)||(Xt=!0),f.memoizedState=w,f.baseState=z,f.baseQueue=ue,y.lastRenderedState=w}if(l=y.interleaved,l!==null){b=l;do D=b.lane,En.lanes|=D,xc|=D,b=b.next;while(b!==l)}else b===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function wo(l){var f=Lr(),y=f.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=l;var w=y.dispatch,b=y.pending,D=f.memoizedState;if(b!==null){y.pending=null;var z=b=b.next;do D=l(D,z.action),z=z.next;while(z!==b);Cr(D,f.memoizedState)||(Xt=!0),f.memoizedState=D,f.baseQueue===null&&(f.baseState=D),y.lastRenderedState=D}return[D,w]}function Ep(){}function Tp(l,f){var y=En,w=Lr(),b=f(),D=!Cr(w.memoizedState,b);if(D&&(w.memoizedState=b,Xt=!0),w=w.queue,Rp(Ug.bind(null,y,w,l),[l]),w.getSnapshot!==f||D||fn!==null&&fn.memoizedState.tag&1){if(y.flags|=2048,_s(9,gc.bind(null,y,w,b,f),void 0,null),Wi===null)throw Error(t(349));(Mo&30)!==0||xh(y,f,b)}return b}function xh(l,f,y){l.flags|=16384,l={getSnapshot:f,value:y},f=En.updateQueue,f===null?(f={lastEffect:null,stores:null},En.updateQueue=f,f.stores=[l]):(y=f.stores,y===null?f.stores=[l]:y.push(l))}function gc(l,f,y,w){f.value=y,f.getSnapshot=w,kg(f)&&Cp(l)}function Ug(l,f,y){return y(function(){kg(f)&&Cp(l)})}function kg(l){var f=l.getSnapshot;l=l.value;try{var y=f();return!Cr(l,y)}catch{return!0}}function Cp(l){var f=gs(l,1);f!==null&&Ro(f,l,1,-1)}function bp(l){var f=Fi();return typeof l=="function"&&(l=l()),f.memoizedState=f.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:l},f.queue=l,l=l.dispatch=Ya.bind(null,En,l),[f.memoizedState,l]}function _s(l,f,y,w){return l={tag:l,create:f,destroy:y,deps:w,next:null},f=En.updateQueue,f===null?(f={lastEffect:null,stores:null},En.updateQueue=f,f.lastEffect=l.next=l):(y=f.lastEffect,y===null?f.lastEffect=l.next=l:(w=y.next,y.next=l,l.next=w,f.lastEffect=l)),l}function zg(){return Lr().memoizedState}function Vs(l,f,y,w){var b=Fi();En.flags|=l,b.memoizedState=_s(1|f,y,void 0,w===void 0?null:w)}function vc(l,f,y,w){var b=Lr();w=w===void 0?null:w;var D=void 0;if(Wn!==null){var z=Wn.memoizedState;if(D=z.destroy,w!==null&&dc(w,z.deps)){b.memoizedState=_s(f,y,D,w);return}}En.flags|=l,b.memoizedState=_s(1|f,y,D,w)}function nr(l,f){return Vs(8390656,8,l,f)}function Rp(l,f){return vc(2048,8,l,f)}function Pp(l,f){return vc(4,2,l,f)}function Gg(l,f){return vc(4,4,l,f)}function Hg(l,f){if(typeof f=="function")return l=l(),f(l),function(){f(null)};if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function Bp(l,f,y){return y=y!=null?y.concat([l]):null,vc(4,4,Hg.bind(null,f,l),y)}function Ah(){}function Vg(l,f){var y=Lr();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&dc(f,w[1])?w[0]:(y.memoizedState=[l,f],l)}function Dr(l,f){var y=Lr();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&dc(f,w[1])?w[0]:(l=l(),y.memoizedState=[l,f],l)}function Sh(l,f,y){return(Mo&21)===0?(l.baseState&&(l.baseState=!1,Xt=!0),l.memoizedState=y):(Cr(y,f)||(y=ur(),En.lanes|=y,xc|=y,l.baseState=!0),f)}function t_(l,f){var y=cn;cn=y!==0&&4>y?y:4,l(!0);var w=Ja.transition;Ja.transition={};try{l(!1),f()}finally{cn=y,Ja.transition=w}}function Eo(){return Lr().memoizedState}function Mh(l,f,y){var w=Zl(l);if(y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},yc(l))wh(f,y);else if(y=fc(l,f,y,w),y!==null){var b=Fr();Ro(y,l,w,b),Eh(y,f,w)}}function Ya(l,f,y){var w=Zl(l),b={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(yc(l))wh(f,b);else{var D=l.alternate;if(l.lanes===0&&(D===null||D.lanes===0)&&(D=f.lastRenderedReducer,D!==null))try{var z=f.lastRenderedState,ee=D(z,y);if(b.hasEagerState=!0,b.eagerState=ee,Cr(ee,z)){var ue=f.interleaved;ue===null?(b.next=b,Mp(f)):(b.next=ue.next,ue.next=b),f.interleaved=b;return}}catch{}finally{}y=fc(l,f,b,w),y!==null&&(b=Fr(),Ro(y,l,w,b),Eh(y,f,w))}}function yc(l){var f=l.alternate;return l===En||f!==null&&f===En}function wh(l,f){Vi=ys=!0;var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}function Eh(l,f,y){if((y&4194240)!==0){var w=f.lanes;w&=l.pendingLanes,y|=w,f.lanes=y,wl(l,y)}}var Th={readContext:Pr,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},Wg={readContext:Pr,useCallback:function(l,f){return Fi().memoizedState=[l,f===void 0?null:f],l},useContext:Pr,useEffect:nr,useImperativeHandle:function(l,f,y){return y=y!=null?y.concat([l]):null,Vs(4194308,4,Hg.bind(null,f,l),y)},useLayoutEffect:function(l,f){return Vs(4194308,4,l,f)},useInsertionEffect:function(l,f){return Vs(4,2,l,f)},useMemo:function(l,f){var y=Fi();return f=f===void 0?null:f,l=l(),y.memoizedState=[l,f],l},useReducer:function(l,f,y){var w=Fi();return f=y!==void 0?y(f):f,w.memoizedState=w.baseState=f,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:f},w.queue=l,l=l.dispatch=Mh.bind(null,En,l),[w.memoizedState,l]},useRef:function(l){var f=Fi();return l={current:l},f.memoizedState=l},useState:bp,useDebugValue:Ah,useDeferredValue:function(l){return Fi().memoizedState=l},useTransition:function(){var l=bp(!1),f=l[0];return l=t_.bind(null,l[1]),Fi().memoizedState=l,[f,l]},useMutableSource:function(){},useSyncExternalStore:function(l,f,y){var w=En,b=Fi();if(bn){if(y===void 0)throw Error(t(407));y=y()}else{if(y=f(),Wi===null)throw Error(t(349));(Mo&30)!==0||xh(w,f,y)}b.memoizedState=y;var D={value:y,getSnapshot:f};return b.queue=D,nr(Ug.bind(null,w,D,l),[l]),w.flags|=2048,_s(9,gc.bind(null,w,D,y,f),void 0,null),y},useId:function(){var l=Fi(),f=Wi.identifierPrefix;if(bn){var y=Kr,w=tt;y=(w&~(1<<32-zn(w)-1)).toString(32)+y,f=":"+f+"R"+y,y=ra++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=pr++,f=":"+f+"r"+y.toString(32)+":";return l.memoizedState=f},unstable_isNewReconciler:!1},jg={readContext:Pr,useCallback:Vg,useContext:Pr,useEffect:Rp,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:Gg,useMemo:Dr,useReducer:mc,useRef:zg,useState:function(){return mc(Yl)},useDebugValue:Ah,useDeferredValue:function(l){var f=Lr();return Sh(f,Wn.memoizedState,l)},useTransition:function(){var l=mc(Yl)[0],f=Lr().memoizedState;return[l,f]},useMutableSource:Ep,useSyncExternalStore:Tp,useId:Eo,unstable_isNewReconciler:!1},Xg={readContext:Pr,useCallback:Vg,useContext:Pr,useEffect:Rp,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:Gg,useMemo:Dr,useReducer:wo,useRef:zg,useState:function(){return wo(Yl)},useDebugValue:Ah,useDeferredValue:function(l){var f=Lr();return Wn===null?f.memoizedState=l:Sh(f,Wn.memoizedState,l)},useTransition:function(){var l=wo(Yl)[0],f=Lr().memoizedState;return[l,f]},useMutableSource:Ep,useSyncExternalStore:Tp,useId:Eo,unstable_isNewReconciler:!1};function qr(l,f){if(l&&l.defaultProps){f=V({},f),l=l.defaultProps;for(var y in l)f[y]===void 0&&(f[y]=l[y]);return f}return f}function _c(l,f,y,w){f=l.memoizedState,y=y(w,f),y=y==null?f:V({},f,y),l.memoizedState=y,l.lanes===0&&(l.updateQueue.baseState=y)}var Ch={isMounted:function(l){return(l=l._reactInternals)?so(l)===l:!1},enqueueSetState:function(l,f,y){l=l._reactInternals;var w=Fr(),b=Zl(l),D=vn(w,b);D.payload=f,y!=null&&(D.callback=y),f=Dn(l,D,b),f!==null&&(Ro(f,l,b,w),Hi(f,l,b))},enqueueReplaceState:function(l,f,y){l=l._reactInternals;var w=Fr(),b=Zl(l),D=vn(w,b);D.tag=1,D.payload=f,y!=null&&(D.callback=y),f=Dn(l,D,b),f!==null&&(Ro(f,l,b,w),Hi(f,l,b))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var y=Fr(),w=Zl(l),b=vn(y,w);b.tag=2,f!=null&&(b.callback=f),f=Dn(l,b,w),f!==null&&(Ro(f,l,w,y),Hi(f,l,w))}};function Jg(l,f,y,w,b,D,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,D,z):f.prototype&&f.prototype.isPureReactComponent?!Ra(y,w)||!Ra(b,D):!0}function d(l,f,y){var w=!1,b=go,D=f.contextType;return typeof D=="object"&&D!==null?D=Pr(D):(b=Gi(f)?vo:Li.current,w=f.contextTypes,D=(w=w!=null)?Fa(l,b):go),f=new f(y,D),l.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,l.stateNode=f,f._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=b,l.__reactInternalMemoizedMaskedChildContext=D),f}function m(l,f,y,w){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,w),f.state!==l&&Ch.enqueueReplaceState(f,f.state,null)}function M(l,f,y,w){var b=l.stateNode;b.props=y,b.state=l.memoizedState,b.refs={},jt(l);var D=f.contextType;typeof D=="object"&&D!==null?b.context=Pr(D):(D=Gi(f)?vo:Li.current,b.context=Fa(l,D)),b.state=l.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(_c(l,f,D,y),b.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(f=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),f!==b.state&&Ch.enqueueReplaceState(b,b.state,null),Vn(l,y,b,w),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308)}function T(l,f){try{var y="",w=f;do y+=Te(w),w=w.return;while(w);var b=y}catch(D){b=`
Error generating stack: `+D.message+`
`+D.stack}return{value:l,source:f,stack:b,digest:null}}function P(l,f,y){return{value:l,source:null,stack:y??null,digest:f??null}}function F(l,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var $=typeof WeakMap=="function"?WeakMap:Map;function he(l,f,y){y=vn(-1,y),y.tag=3,y.payload={element:null};var w=f.value;return y.callback=function(){e0||(e0=!0,f_=w),F(l,f)},y}function be(l,f,y){y=vn(-1,y),y.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var b=f.value;y.payload=function(){return w(b)},y.callback=function(){F(l,f)}}var D=l.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(y.callback=function(){F(l,f),typeof w!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var z=f.stack;this.componentDidCatch(f.value,{componentStack:z!==null?z:""})}),y}function Ze(l,f,y){var w=l.pingCache;if(w===null){w=l.pingCache=new $;var b=new Set;w.set(f,b)}else b=w.get(f),b===void 0&&(b=new Set,w.set(f,b));b.has(y)||(b.add(y),l=JL.bind(null,l,f,y),f.then(l,l))}function dt(l){do{var f;if((f=l.tag===13)&&(f=l.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return l;l=l.return}while(l!==null);return null}function zt(l,f,y,w,b){return(l.mode&1)===0?(l===f?l.flags|=65536:(l.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=vn(-1,1),f.tag=2,Dn(y,f,1))),y.lanes|=1),l):(l.flags|=65536,l.lanes=b,l)}var bt=R.ReactCurrentOwner,Xt=!1;function ut(l,f,y,w){f.child=l===null?lc(f,null,y,w):ka(f,l.child,y,w)}function Oi(l,f,y,w,b){y=y.render;var D=f.ref;return na(f,b),w=pc(l,f,y,w,D,b),y=wp(),l!==null&&!Xt?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~b,Ka(l,f,b)):(bn&&y&&vp(f),f.flags|=1,ut(l,f,w,b),f.child)}function Ir(l,f,y,w,b){if(l===null){var D=y.type;return typeof D=="function"&&!y_(D)&&D.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=D,xe(l,f,D,w,b)):(l=o0(y.type,null,w,f,f.mode,b),l.ref=f.ref,l.return=f,f.child=l)}if(D=l.child,(l.lanes&b)===0){var z=D.memoizedProps;if(y=y.compare,y=y!==null?y:Ra,y(z,w)&&l.ref===f.ref)return Ka(l,f,b)}return f.flags|=1,l=eu(D,w),l.ref=f.ref,l.return=f,f.child=l}function xe(l,f,y,w,b){if(l!==null){var D=l.memoizedProps;if(Ra(D,w)&&l.ref===f.ref)if(Xt=!1,f.pendingProps=w=D,(l.lanes&b)!==0)(l.flags&131072)!==0&&(Xt=!0);else return f.lanes=l.lanes,Ka(l,f,b)}return at(l,f,y,w,b)}function de(l,f,y){var w=f.pendingProps,b=w.children,D=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Rh,xs),xs|=y;else{if((y&1073741824)===0)return l=D!==null?D.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:l,cachePool:null,transitions:null},f.updateQueue=null,yn(Rh,xs),xs|=l,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=D!==null?D.baseLanes:y,yn(Rh,xs),xs|=w}else D!==null?(w=D.baseLanes|y,f.memoizedState=null):w=y,yn(Rh,xs),xs|=w;return ut(l,f,b,y),f.child}function we(l,f){var y=f.ref;(l===null&&y!==null||l!==null&&l.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function at(l,f,y,w,b){var D=Gi(y)?vo:Li.current;return D=Fa(f,D),na(f,b),y=pc(l,f,y,w,D,b),w=wp(),l!==null&&!Xt?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~b,Ka(l,f,b)):(bn&&w&&vp(f),f.flags|=1,ut(l,f,y,b),f.child)}function Mt(l,f,y,w,b){if(Gi(y)){var D=!0;Oa(f)}else D=!1;if(na(f,b),f.stateNode===null)Kg(l,f),d(f,y,w),M(f,y,w,b),w=!0;else if(l===null){var z=f.stateNode,ee=f.memoizedProps;z.props=ee;var ue=z.context,Ae=y.contextType;typeof Ae=="object"&&Ae!==null?Ae=Pr(Ae):(Ae=Gi(y)?vo:Li.current,Ae=Fa(f,Ae));var Ve=y.getDerivedStateFromProps,Ke=typeof Ve=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ke||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ee!==w||ue!==Ae)&&m(f,z,w,Ae),gn=!1;var ze=f.memoizedState;z.state=ze,Vn(f,w,z,b),ue=f.memoizedState,ee!==w||ze!==ue||$i.current||gn?(typeof Ve=="function"&&(_c(f,y,Ve,w),ue=f.memoizedState),(ee=gn||Jg(f,y,ee,w,ze,ue,Ae))?(Ke||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(f.flags|=4194308)):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=ue),z.props=w,z.state=ue,z.context=Ae,w=ee):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{z=f.stateNode,Qn(l,f),ee=f.memoizedProps,Ae=f.type===f.elementType?ee:qr(f.type,ee),z.props=Ae,Ke=f.pendingProps,ze=z.context,ue=y.contextType,typeof ue=="object"&&ue!==null?ue=Pr(ue):(ue=Gi(y)?vo:Li.current,ue=Fa(f,ue));var ht=y.getDerivedStateFromProps;(Ve=typeof ht=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ee!==Ke||ze!==ue)&&m(f,z,w,ue),gn=!1,ze=f.memoizedState,z.state=ze,Vn(f,w,z,b);var vt=f.memoizedState;ee!==Ke||ze!==vt||$i.current||gn?(typeof ht=="function"&&(_c(f,y,ht,w),vt=f.memoizedState),(Ae=gn||Jg(f,y,Ae,w,ze,vt,ue)||!1)?(Ve||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(w,vt,ue),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(w,vt,ue)),typeof z.componentDidUpdate=="function"&&(f.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof z.componentDidUpdate!="function"||ee===l.memoizedProps&&ze===l.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ee===l.memoizedProps&&ze===l.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=vt),z.props=w,z.state=vt,z.context=ue,w=Ae):(typeof z.componentDidUpdate!="function"||ee===l.memoizedProps&&ze===l.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ee===l.memoizedProps&&ze===l.memoizedState||(f.flags|=1024),w=!1)}return Wt(l,f,y,w,D,b)}function Wt(l,f,y,w,b,D){we(l,f);var z=(f.flags&128)!==0;if(!w&&!z)return b&&mp(f,y,!1),Ka(l,f,D);w=f.stateNode,bt.current=f;var ee=z&&typeof y.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,l!==null&&z?(f.child=ka(f,l.child,null,D),f.child=ka(f,null,ee,D)):ut(l,f,ee,D),f.memoizedState=w.state,b&&mp(f,y,!0),f.child}function Gt(l){var f=l.stateNode;f.pendingContext?pp(l,f.pendingContext,f.pendingContext!==f.context):f.context&&pp(l,f.context,!1),hc(l,f.containerInfo)}function an(l,f,y,w,b){return ta(),Vl(b),f.flags|=256,ut(l,f,y,w),f.child}var ii={dehydrated:null,treeContext:null,retryLane:0};function sn(l){return{baseLanes:l,cachePool:null,transitions:null}}function To(l,f,y){var w=f.pendingProps,b=Rn.current,D=!1,z=(f.flags&128)!==0,ee;if((ee=z)||(ee=l!==null&&l.memoizedState===null?!1:(b&2)!==0),ee?(D=!0,f.flags&=-129):(l===null||l.memoizedState!==null)&&(b|=1),yn(Rn,b&1),l===null)return yh(f),l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((f.mode&1)===0?f.lanes=1:l.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(z=w.children,l=w.fallback,D?(w=f.mode,D=f.child,z={mode:"hidden",children:z},(w&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=z):D=a0(z,w,0,null),l=wc(l,w,y,null),D.return=f,l.return=f,D.sibling=l,f.child=D,f.child.memoizedState=sn(y),f.memoizedState=ii,l):Lp(f,z));if(b=l.memoizedState,b!==null&&(ee=b.dehydrated,ee!==null))return FL(l,f,z,w,ee,b,y);if(D){D=w.fallback,z=f.mode,b=l.child,ee=b.sibling;var ue={mode:"hidden",children:w.children};return(z&1)===0&&f.child!==b?(w=f.child,w.childLanes=0,w.pendingProps=ue,f.deletions=null):(w=eu(b,ue),w.subtreeFlags=b.subtreeFlags&14680064),ee!==null?D=eu(ee,D):(D=wc(D,z,y,null),D.flags|=2),D.return=f,w.return=f,w.sibling=D,f.child=w,w=D,D=f.child,z=l.child.memoizedState,z=z===null?sn(y):{baseLanes:z.baseLanes|y,cachePool:null,transitions:z.transitions},D.memoizedState=z,D.childLanes=l.childLanes&~y,f.memoizedState=ii,w}return D=l.child,l=D.sibling,w=eu(D,{mode:"visible",children:w.children}),(f.mode&1)===0&&(w.lanes=y),w.return=f,w.sibling=null,l!==null&&(y=f.deletions,y===null?(f.deletions=[l],f.flags|=16):y.push(l)),f.child=w,f.memoizedState=null,w}function Lp(l,f){return f=a0({mode:"visible",children:f},l.mode,0,null),f.return=l,l.child=f}function Yg(l,f,y,w){return w!==null&&Vl(w),ka(f,l.child,null,y),l=Lp(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function FL(l,f,y,w,b,D,z){if(y)return f.flags&256?(f.flags&=-257,w=P(Error(t(422))),Yg(l,f,z,w)):f.memoizedState!==null?(f.child=l.child,f.flags|=128,null):(D=w.fallback,b=f.mode,w=a0({mode:"visible",children:w.children},b,0,null),D=wc(D,b,z,null),D.flags|=2,w.return=f,D.return=f,w.sibling=D,f.child=w,(f.mode&1)!==0&&ka(f,l.child,null,z),f.child.memoizedState=sn(z),f.memoizedState=ii,D);if((f.mode&1)===0)return Yg(l,f,z,null);if(b.data==="$!"){if(w=b.nextSibling&&b.nextSibling.dataset,w)var ee=w.dgst;return w=ee,D=Error(t(419)),w=P(D,w,void 0),Yg(l,f,z,w)}if(ee=(z&l.childLanes)!==0,Xt||ee){if(w=Wi,w!==null){switch(z&-z){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(w.suspendedLanes|z))!==0?0:b,b!==0&&b!==D.retryLane&&(D.retryLane=b,gs(l,b),Ro(w,l,b,-1))}return v_(),w=P(Error(t(421))),Yg(l,f,z,w)}return b.data==="$?"?(f.flags|=128,f.child=l.child,f=YL.bind(null,l),b._reactRetry=f,null):(l=D.treeContext,tr=po(b.nextSibling),Di=f,bn=!0,Qr=null,l!==null&&(er[Si++]=tt,er[Si++]=Kr,er[Si++]=Ua,tt=l.id,Kr=l.overflow,Ua=f),f=Lp(f,w.children),f.flags|=4096,f)}function bM(l,f,y){l.lanes|=f;var w=l.alternate;w!==null&&(w.lanes|=f),cc(l.return,f,y)}function n_(l,f,y,w,b){var D=l.memoizedState;D===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:b}:(D.isBackwards=f,D.rendering=null,D.renderingStartTime=0,D.last=w,D.tail=y,D.tailMode=b)}function RM(l,f,y){var w=f.pendingProps,b=w.revealOrder,D=w.tail;if(ut(l,f,w.children,y),w=Rn.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&bM(l,y,f);else if(l.tag===19)bM(l,y,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(yn(Rn,w),(f.mode&1)===0)f.memoizedState=null;else switch(b){case"forwards":for(y=f.child,b=null;y!==null;)l=y.alternate,l!==null&&vs(l)===null&&(b=y),y=y.sibling;y=b,y===null?(b=f.child,f.child=null):(b=y.sibling,y.sibling=null),n_(f,!1,b,y,D);break;case"backwards":for(y=null,b=f.child,f.child=null;b!==null;){if(l=b.alternate,l!==null&&vs(l)===null){f.child=b;break}l=b.sibling,b.sibling=y,y=b,b=l}n_(f,!0,y,null,D);break;case"together":n_(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Kg(l,f){(f.mode&1)===0&&l!==null&&(l.alternate=null,f.alternate=null,f.flags|=2)}function Ka(l,f,y){if(l!==null&&(f.dependencies=l.dependencies),xc|=f.lanes,(y&f.childLanes)===0)return null;if(l!==null&&f.child!==l.child)throw Error(t(153));if(f.child!==null){for(l=f.child,y=eu(l,l.pendingProps),f.child=y,y.return=f;l.sibling!==null;)l=l.sibling,y=y.sibling=eu(l,l.pendingProps),y.return=f;y.sibling=null}return f.child}function OL(l,f,y){switch(f.tag){case 3:Gt(f),ta();break;case 5:ja(f);break;case 1:Gi(f.type)&&Oa(f);break;case 4:hc(f,f.stateNode.containerInfo);break;case 10:var w=f.type._context,b=f.memoizedProps.value;yn(za,w._currentValue),w._currentValue=b;break;case 13:if(w=f.memoizedState,w!==null)return w.dehydrated!==null?(yn(Rn,Rn.current&1),f.flags|=128,null):(y&f.child.childLanes)!==0?To(l,f,y):(yn(Rn,Rn.current&1),l=Ka(l,f,y),l!==null?l.sibling:null);yn(Rn,Rn.current&1);break;case 19:if(w=(y&f.childLanes)!==0,(l.flags&128)!==0){if(w)return RM(l,f,y);f.flags|=128}if(b=f.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),yn(Rn,Rn.current),w)break;return null;case 22:case 23:return f.lanes=0,de(l,f,y)}return Ka(l,f,y)}var PM,i_,BM,LM;PM=function(l,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)l.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},i_=function(){},BM=function(l,f,y,w){var b=l.memoizedProps;if(b!==w){l=f.stateNode,ni(Br.current);var D=null;switch(y){case"input":b=Ce(l,b),w=Ce(l,w),D=[];break;case"select":b=V({},b,{value:void 0}),w=V({},w,{value:void 0}),D=[];break;case"textarea":b=en(l,b),w=en(l,w),D=[];break;default:typeof b.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=tc)}ae(y,w);var z;y=null;for(Ae in b)if(!w.hasOwnProperty(Ae)&&b.hasOwnProperty(Ae)&&b[Ae]!=null)if(Ae==="style"){var ee=b[Ae];for(z in ee)ee.hasOwnProperty(z)&&(y||(y={}),y[z]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(i.hasOwnProperty(Ae)?D||(D=[]):(D=D||[]).push(Ae,null));for(Ae in w){var ue=w[Ae];if(ee=b?.[Ae],w.hasOwnProperty(Ae)&&ue!==ee&&(ue!=null||ee!=null))if(Ae==="style")if(ee){for(z in ee)!ee.hasOwnProperty(z)||ue&&ue.hasOwnProperty(z)||(y||(y={}),y[z]="");for(z in ue)ue.hasOwnProperty(z)&&ee[z]!==ue[z]&&(y||(y={}),y[z]=ue[z])}else y||(D||(D=[]),D.push(Ae,y)),y=ue;else Ae==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ee=ee?ee.__html:void 0,ue!=null&&ee!==ue&&(D=D||[]).push(Ae,ue)):Ae==="children"?typeof ue!="string"&&typeof ue!="number"||(D=D||[]).push(Ae,""+ue):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ae)?(ue!=null&&Ae==="onScroll"&&Mn("scroll",l),D||ee===ue||(D=[])):(D=D||[]).push(Ae,ue))}y&&(D=D||[]).push("style",y);var Ae=D;(f.updateQueue=Ae)&&(f.flags|=4)}},LM=function(l,f,y,w){y!==w&&(f.flags|=4)};function Dp(l,f){if(!bn)switch(l.tailMode){case"hidden":f=l.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l.tail=null:y.sibling=null;break;case"collapsed":y=l.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function mr(l){var f=l.alternate!==null&&l.alternate.child===l.child,y=0,w=0;if(f)for(var b=l.child;b!==null;)y|=b.lanes|b.childLanes,w|=b.subtreeFlags&14680064,w|=b.flags&14680064,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)y|=b.lanes|b.childLanes,w|=b.subtreeFlags,w|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=w,l.childLanes=y,f}function NL(l,f,y){var w=f.pendingProps;switch(_o(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(f),null;case 1:return Gi(f.type)&&nc(),mr(f),null;case 3:return w=f.stateNode,ia(),wn($i),wn(Li),Hs(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(Hl(f)?f.flags|=4:l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Qr!==null&&(p_(Qr),Qr=null))),i_(l,f),mr(f),null;case 5:Xl(f);var b=ni(So.current);if(y=f.type,l!==null&&f.stateNode!=null)BM(l,f,y,w,b),l.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(t(166));return mr(f),null}if(l=ni(Br.current),Hl(f)){w=f.stateNode,y=f.type;var D=f.memoizedProps;switch(w[fi]=f,w[Gl]=D,l=(f.mode&1)!==0,y){case"dialog":Mn("cancel",w),Mn("close",w);break;case"iframe":case"object":case"embed":Mn("load",w);break;case"video":case"audio":for(b=0;b<$o.length;b++)Mn($o[b],w);break;case"source":Mn("error",w);break;case"img":case"image":case"link":Mn("error",w),Mn("load",w);break;case"details":Mn("toggle",w);break;case"input":Xe(w,D),Mn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!D.multiple},Mn("invalid",w);break;case"textarea":Z(w,D),Mn("invalid",w)}ae(y,D),b=null;for(var z in D)if(D.hasOwnProperty(z)){var ee=D[z];z==="children"?typeof ee=="string"?w.textContent!==ee&&(D.suppressHydrationWarning!==!0&&ec(w.textContent,ee,l),b=["children",ee]):typeof ee=="number"&&w.textContent!==""+ee&&(D.suppressHydrationWarning!==!0&&ec(w.textContent,ee,l),b=["children",""+ee]):i.hasOwnProperty(z)&&ee!=null&&z==="onScroll"&&Mn("scroll",w)}switch(y){case"input":Oe(w),it(w,D,!0);break;case"textarea":Oe(w),ye(w);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(w.onclick=tc)}w=b,f.updateQueue=w,w!==null&&(f.flags|=4)}else{z=b.nodeType===9?b:b.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ge(y)),l==="http://www.w3.org/1999/xhtml"?y==="script"?(l=z.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=z.createElement(y,{is:w.is}):(l=z.createElement(y),y==="select"&&(z=l,w.multiple?z.multiple=!0:w.size&&(z.size=w.size))):l=z.createElementNS(l,y),l[fi]=f,l[Gl]=w,PM(l,f,!1,!1),f.stateNode=l;e:{switch(z=Pe(y,w),y){case"dialog":Mn("cancel",l),Mn("close",l),b=w;break;case"iframe":case"object":case"embed":Mn("load",l),b=w;break;case"video":case"audio":for(b=0;b<$o.length;b++)Mn($o[b],l);b=w;break;case"source":Mn("error",l),b=w;break;case"img":case"image":case"link":Mn("error",l),Mn("load",l),b=w;break;case"details":Mn("toggle",l),b=w;break;case"input":Xe(l,w),b=Ce(l,w),Mn("invalid",l);break;case"option":b=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},b=V({},w,{value:void 0}),Mn("invalid",l);break;case"textarea":Z(l,w),b=en(l,w),Mn("invalid",l);break;default:b=w}ae(y,b),ee=b;for(D in ee)if(ee.hasOwnProperty(D)){var ue=ee[D];D==="style"?Qe(l,ue):D==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&mt(l,ue)):D==="children"?typeof ue=="string"?(y!=="textarea"||ue!=="")&&Je(l,ue):typeof ue=="number"&&Je(l,""+ue):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?ue!=null&&D==="onScroll"&&Mn("scroll",l):ue!=null&&E(l,D,ue,z))}switch(y){case"input":Oe(l),it(l,w,!1);break;case"textarea":Oe(l),ye(l);break;case"option":w.value!=null&&l.setAttribute("value",""+Ue(w.value));break;case"select":l.multiple=!!w.multiple,D=w.value,D!=null?It(l,!!w.multiple,D,!1):w.defaultValue!=null&&It(l,!!w.multiple,w.defaultValue,!0);break;default:typeof b.onClick=="function"&&(l.onclick=tc)}switch(y){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return mr(f),null;case 6:if(l&&f.stateNode!=null)LM(l,f,l.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(t(166));if(y=ni(So.current),ni(Br.current),Hl(f)){if(w=f.stateNode,y=f.memoizedProps,w[fi]=f,(D=w.nodeValue!==y)&&(l=Di,l!==null))switch(l.tag){case 3:ec(w.nodeValue,y,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&ec(w.nodeValue,y,(l.mode&1)!==0)}D&&(f.flags|=4)}else w=(y.nodeType===9?y:y.ownerDocument).createTextNode(w),w[fi]=f,f.stateNode=w}return mr(f),null;case 13:if(wn(Rn),w=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(bn&&tr!==null&&(f.mode&1)!==0&&(f.flags&128)===0)xp(),ta(),f.flags|=98560,D=!1;else if(D=Hl(f),w!==null&&w.dehydrated!==null){if(l===null){if(!D)throw Error(t(318));if(D=f.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(t(317));D[fi]=f}else ta(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mr(f),D=!1}else Qr!==null&&(p_(Qr),Qr=null),D=!0;if(!D)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=y,f):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(f.child.flags|=8192,(f.mode&1)!==0&&(l===null||(Rn.current&1)!==0?Ni===0&&(Ni=3):v_())),f.updateQueue!==null&&(f.flags|=4),mr(f),null);case 4:return ia(),i_(l,f),l===null&&Ul(f.stateNode.containerInfo),mr(f),null;case 10:return uc(f.type._context),mr(f),null;case 17:return Gi(f.type)&&nc(),mr(f),null;case 19:if(wn(Rn),D=f.memoizedState,D===null)return mr(f),null;if(w=(f.flags&128)!==0,z=D.rendering,z===null)if(w)Dp(D,!1);else{if(Ni!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(z=vs(l),z!==null){for(f.flags|=128,Dp(D,!1),w=z.updateQueue,w!==null&&(f.updateQueue=w,f.flags|=4),f.subtreeFlags=0,w=y,y=f.child;y!==null;)D=y,l=w,D.flags&=14680066,z=D.alternate,z===null?(D.childLanes=0,D.lanes=l,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=z.childLanes,D.lanes=z.lanes,D.child=z.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=z.memoizedProps,D.memoizedState=z.memoizedState,D.updateQueue=z.updateQueue,D.type=z.type,l=z.dependencies,D.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),y=y.sibling;return yn(Rn,Rn.current&1|2),f.child}l=l.sibling}D.tail!==null&&ft()>Ph&&(f.flags|=128,w=!0,Dp(D,!1),f.lanes=4194304)}else{if(!w)if(l=vs(z),l!==null){if(f.flags|=128,w=!0,y=l.updateQueue,y!==null&&(f.updateQueue=y,f.flags|=4),Dp(D,!0),D.tail===null&&D.tailMode==="hidden"&&!z.alternate&&!bn)return mr(f),null}else 2*ft()-D.renderingStartTime>Ph&&y!==1073741824&&(f.flags|=128,w=!0,Dp(D,!1),f.lanes=4194304);D.isBackwards?(z.sibling=f.child,f.child=z):(y=D.last,y!==null?y.sibling=z:f.child=z,D.last=z)}return D.tail!==null?(f=D.tail,D.rendering=f,D.tail=f.sibling,D.renderingStartTime=ft(),f.sibling=null,y=Rn.current,yn(Rn,w?y&1|2:y&1),f):(mr(f),null);case 22:case 23:return g_(),w=f.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(f.flags|=8192),w&&(f.mode&1)!==0?(xs&1073741824)!==0&&(mr(f),f.subtreeFlags&6&&(f.flags|=8192)):mr(f),null;case 24:return null;case 25:return null}throw Error(t(156,f.tag))}function UL(l,f){switch(_o(f),f.tag){case 1:return Gi(f.type)&&nc(),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return ia(),wn($i),wn(Li),Hs(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 5:return Xl(f),null;case 13:if(wn(Rn),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(t(340));ta()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return wn(Rn),null;case 4:return ia(),null;case 10:return uc(f.type._context),null;case 22:case 23:return g_(),null;case 24:return null;default:return null}}var Qg=!1,gr=!1,kL=typeof WeakSet=="function"?WeakSet:Set,gt=null;function bh(l,f){var y=l.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){ri(l,f,w)}else y.current=null}function r_(l,f,y){try{y()}catch(w){ri(l,f,w)}}var DM=!1;function zL(l,f){if(zl=Vr,l=Un(),yi(l)){if("selectionStart"in l)var y={start:l.selectionStart,end:l.selectionEnd};else e:{y=(y=l.ownerDocument)&&y.defaultView||window;var w=y.getSelection&&y.getSelection();if(w&&w.rangeCount!==0){y=w.anchorNode;var b=w.anchorOffset,D=w.focusNode;w=w.focusOffset;try{y.nodeType,D.nodeType}catch{y=null;break e}var z=0,ee=-1,ue=-1,Ae=0,Ve=0,Ke=l,ze=null;t:for(;;){for(var ht;Ke!==y||b!==0&&Ke.nodeType!==3||(ee=z+b),Ke!==D||w!==0&&Ke.nodeType!==3||(ue=z+w),Ke.nodeType===3&&(z+=Ke.nodeValue.length),(ht=Ke.firstChild)!==null;)ze=Ke,Ke=ht;for(;;){if(Ke===l)break t;if(ze===y&&++Ae===b&&(ee=z),ze===D&&++Ve===w&&(ue=z),(ht=Ke.nextSibling)!==null)break;Ke=ze,ze=Ke.parentNode}Ke=ht}y=ee===-1||ue===-1?null:{start:ee,end:ue}}else y=null}y=y||{start:0,end:0}}else y=null;for(lp={focusedElem:l,selectionRange:y},Vr=!1,gt=f;gt!==null;)if(f=gt,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,gt=l;else for(;gt!==null;){f=gt;try{var vt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var At=vt.memoizedProps,hi=vt.memoizedState,ve=f.stateNode,fe=ve.getSnapshotBeforeUpdate(f.elementType===f.type?At:qr(f.type,At),hi);ve.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var _e=f.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch($e){ri(f,f.return,$e)}if(l=f.sibling,l!==null){l.return=f.return,gt=l;break}gt=f.return}return vt=DM,DM=!1,vt}function Ip(l,f,y){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var b=w=w.next;do{if((b.tag&l)===l){var D=b.destroy;b.destroy=void 0,D!==void 0&&r_(f,y,D)}b=b.next}while(b!==w)}}function qg(l,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&l)===l){var w=y.create;y.destroy=w()}y=y.next}while(y!==f)}}function s_(l){var f=l.ref;if(f!==null){var y=l.stateNode;switch(l.tag){case 5:l=y;break;default:l=y}typeof f=="function"?f(l):f.current=l}}function IM(l){var f=l.alternate;f!==null&&(l.alternate=null,IM(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&(delete f[fi],delete f[Gl],delete f[Ia],delete f[fh],delete f[hh])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function FM(l){return l.tag===5||l.tag===3||l.tag===4}function OM(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||FM(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function o_(l,f,y){var w=l.tag;if(w===5||w===6)l=l.stateNode,f?y.nodeType===8?y.parentNode.insertBefore(l,f):y.insertBefore(l,f):(y.nodeType===8?(f=y.parentNode,f.insertBefore(l,y)):(f=y,f.appendChild(l)),y=y._reactRootContainer,y!=null||f.onclick!==null||(f.onclick=tc));else if(w!==4&&(l=l.child,l!==null))for(o_(l,f,y),l=l.sibling;l!==null;)o_(l,f,y),l=l.sibling}function a_(l,f,y){var w=l.tag;if(w===5||w===6)l=l.stateNode,f?y.insertBefore(l,f):y.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(a_(l,f,y),l=l.sibling;l!==null;)a_(l,f,y),l=l.sibling}var ir=null,Co=!1;function Kl(l,f,y){for(y=y.child;y!==null;)NM(l,f,y),y=y.sibling}function NM(l,f,y){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Jn,y)}catch{}switch(y.tag){case 5:gr||bh(y,f);case 6:var w=ir,b=Co;ir=null,Kl(l,f,y),ir=w,Co=b,ir!==null&&(Co?(l=ir,y=y.stateNode,l.nodeType===8?l.parentNode.removeChild(y):l.removeChild(y)):ir.removeChild(y.stateNode));break;case 18:ir!==null&&(Co?(l=ir,y=y.stateNode,l.nodeType===8?ch(l.parentNode,y):l.nodeType===1&&ch(l,y),Vu(l)):ch(ir,y.stateNode));break;case 4:w=ir,b=Co,ir=y.stateNode.containerInfo,Co=!0,Kl(l,f,y),ir=w,Co=b;break;case 0:case 11:case 14:case 15:if(!gr&&(w=y.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){b=w=w.next;do{var D=b,z=D.destroy;D=D.tag,z!==void 0&&((D&2)!==0||(D&4)!==0)&&r_(y,f,z),b=b.next}while(b!==w)}Kl(l,f,y);break;case 1:if(!gr&&(bh(y,f),w=y.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=y.memoizedProps,w.state=y.memoizedState,w.componentWillUnmount()}catch(ee){ri(y,f,ee)}Kl(l,f,y);break;case 21:Kl(l,f,y);break;case 22:y.mode&1?(gr=(w=gr)||y.memoizedState!==null,Kl(l,f,y),gr=w):Kl(l,f,y);break;default:Kl(l,f,y)}}function UM(l){var f=l.updateQueue;if(f!==null){l.updateQueue=null;var y=l.stateNode;y===null&&(y=l.stateNode=new kL),f.forEach(function(w){var b=KL.bind(null,l,w);y.has(w)||(y.add(w),w.then(b,b))})}}function bo(l,f){var y=f.deletions;if(y!==null)for(var w=0;w<y.length;w++){var b=y[w];try{var D=l,z=f,ee=z;e:for(;ee!==null;){switch(ee.tag){case 5:ir=ee.stateNode,Co=!1;break e;case 3:ir=ee.stateNode.containerInfo,Co=!0;break e;case 4:ir=ee.stateNode.containerInfo,Co=!0;break e}ee=ee.return}if(ir===null)throw Error(t(160));NM(D,z,b),ir=null,Co=!1;var ue=b.alternate;ue!==null&&(ue.return=null),b.return=null}catch(Ae){ri(b,f,Ae)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)kM(f,l),f=f.sibling}function kM(l,f){var y=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(bo(f,l),sa(l),w&4){try{Ip(3,l,l.return),qg(3,l)}catch(At){ri(l,l.return,At)}try{Ip(5,l,l.return)}catch(At){ri(l,l.return,At)}}break;case 1:bo(f,l),sa(l),w&512&&y!==null&&bh(y,y.return);break;case 5:if(bo(f,l),sa(l),w&512&&y!==null&&bh(y,y.return),l.flags&32){var b=l.stateNode;try{Je(b,"")}catch(At){ri(l,l.return,At)}}if(w&4&&(b=l.stateNode,b!=null)){var D=l.memoizedProps,z=y!==null?y.memoizedProps:D,ee=l.type,ue=l.updateQueue;if(l.updateQueue=null,ue!==null)try{ee==="input"&&D.type==="radio"&&D.name!=null&&Fe(b,D),Pe(ee,z);var Ae=Pe(ee,D);for(z=0;z<ue.length;z+=2){var Ve=ue[z],Ke=ue[z+1];Ve==="style"?Qe(b,Ke):Ve==="dangerouslySetInnerHTML"?mt(b,Ke):Ve==="children"?Je(b,Ke):E(b,Ve,Ke,Ae)}switch(ee){case"input":lt(b,D);break;case"textarea":G(b,D);break;case"select":var ze=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!D.multiple;var ht=D.value;ht!=null?It(b,!!D.multiple,ht,!1):ze!==!!D.multiple&&(D.defaultValue!=null?It(b,!!D.multiple,D.defaultValue,!0):It(b,!!D.multiple,D.multiple?[]:"",!1))}b[Gl]=D}catch(At){ri(l,l.return,At)}}break;case 6:if(bo(f,l),sa(l),w&4){if(l.stateNode===null)throw Error(t(162));b=l.stateNode,D=l.memoizedProps;try{b.nodeValue=D}catch(At){ri(l,l.return,At)}}break;case 3:if(bo(f,l),sa(l),w&4&&y!==null&&y.memoizedState.isDehydrated)try{Vu(f.containerInfo)}catch(At){ri(l,l.return,At)}break;case 4:bo(f,l),sa(l);break;case 13:bo(f,l),sa(l),b=l.child,b.flags&8192&&(D=b.memoizedState!==null,b.stateNode.isHidden=D,!D||b.alternate!==null&&b.alternate.memoizedState!==null||(c_=ft())),w&4&&UM(l);break;case 22:if(Ve=y!==null&&y.memoizedState!==null,l.mode&1?(gr=(Ae=gr)||Ve,bo(f,l),gr=Ae):bo(f,l),sa(l),w&8192){if(Ae=l.memoizedState!==null,(l.stateNode.isHidden=Ae)&&!Ve&&(l.mode&1)!==0)for(gt=l,Ve=l.child;Ve!==null;){for(Ke=gt=Ve;gt!==null;){switch(ze=gt,ht=ze.child,ze.tag){case 0:case 11:case 14:case 15:Ip(4,ze,ze.return);break;case 1:bh(ze,ze.return);var vt=ze.stateNode;if(typeof vt.componentWillUnmount=="function"){w=ze,y=ze.return;try{f=w,vt.props=f.memoizedProps,vt.state=f.memoizedState,vt.componentWillUnmount()}catch(At){ri(w,y,At)}}break;case 5:bh(ze,ze.return);break;case 22:if(ze.memoizedState!==null){HM(Ke);continue}}ht!==null?(ht.return=ze,gt=ht):HM(Ke)}Ve=Ve.sibling}e:for(Ve=null,Ke=l;;){if(Ke.tag===5){if(Ve===null){Ve=Ke;try{b=Ke.stateNode,Ae?(D=b.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(ee=Ke.stateNode,ue=Ke.memoizedProps.style,z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ee.style.display=qt("display",z))}catch(At){ri(l,l.return,At)}}}else if(Ke.tag===6){if(Ve===null)try{Ke.stateNode.nodeValue=Ae?"":Ke.memoizedProps}catch(At){ri(l,l.return,At)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===l)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===l)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===l)break e;Ve===Ke&&(Ve=null),Ke=Ke.return}Ve===Ke&&(Ve=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}break;case 19:bo(f,l),sa(l),w&4&&UM(l);break;case 21:break;default:bo(f,l),sa(l)}}function sa(l){var f=l.flags;if(f&2){try{e:{for(var y=l.return;y!==null;){if(FM(y)){var w=y;break e}y=y.return}throw Error(t(160))}switch(w.tag){case 5:var b=w.stateNode;w.flags&32&&(Je(b,""),w.flags&=-33);var D=OM(l);a_(l,D,b);break;case 3:case 4:var z=w.stateNode.containerInfo,ee=OM(l);o_(l,ee,z);break;default:throw Error(t(161))}}catch(ue){ri(l,l.return,ue)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function GL(l,f,y){gt=l,zM(l)}function zM(l,f,y){for(var w=(l.mode&1)!==0;gt!==null;){var b=gt,D=b.child;if(b.tag===22&&w){var z=b.memoizedState!==null||Qg;if(!z){var ee=b.alternate,ue=ee!==null&&ee.memoizedState!==null||gr;ee=Qg;var Ae=gr;if(Qg=z,(gr=ue)&&!Ae)for(gt=b;gt!==null;)z=gt,ue=z.child,z.tag===22&&z.memoizedState!==null?VM(b):ue!==null?(ue.return=z,gt=ue):VM(b);for(;D!==null;)gt=D,zM(D),D=D.sibling;gt=b,Qg=ee,gr=Ae}GM(l)}else(b.subtreeFlags&8772)!==0&&D!==null?(D.return=b,gt=D):GM(l)}}function GM(l){for(;gt!==null;){var f=gt;if((f.flags&8772)!==0){var y=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:gr||qg(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!gr)if(y===null)w.componentDidMount();else{var b=f.elementType===f.type?y.memoizedProps:qr(f.type,y.memoizedProps);w.componentDidUpdate(b,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var D=f.updateQueue;D!==null&&jl(f,D,w);break;case 3:var z=f.updateQueue;if(z!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=f.child.stateNode;break;case 1:y=f.child.stateNode}jl(f,z,y)}break;case 5:var ee=f.stateNode;if(y===null&&f.flags&4){y=ee;var ue=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&y.focus();break;case"img":ue.src&&(y.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ae=f.alternate;if(Ae!==null){var Ve=Ae.memoizedState;if(Ve!==null){var Ke=Ve.dehydrated;Ke!==null&&Vu(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gr||f.flags&512&&s_(f)}catch(ze){ri(f,f.return,ze)}}if(f===l){gt=null;break}if(y=f.sibling,y!==null){y.return=f.return,gt=y;break}gt=f.return}}function HM(l){for(;gt!==null;){var f=gt;if(f===l){gt=null;break}var y=f.sibling;if(y!==null){y.return=f.return,gt=y;break}gt=f.return}}function VM(l){for(;gt!==null;){var f=gt;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{qg(4,f)}catch(ue){ri(f,y,ue)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var b=f.return;try{w.componentDidMount()}catch(ue){ri(f,b,ue)}}var D=f.return;try{s_(f)}catch(ue){ri(f,D,ue)}break;case 5:var z=f.return;try{s_(f)}catch(ue){ri(f,z,ue)}}}catch(ue){ri(f,f.return,ue)}if(f===l){gt=null;break}var ee=f.sibling;if(ee!==null){ee.return=f.return,gt=ee;break}gt=f.return}}var HL=Math.ceil,Zg=R.ReactCurrentDispatcher,l_=R.ReactCurrentOwner,Ws=R.ReactCurrentBatchConfig,dn=0,Wi=null,Mi=null,rr=0,xs=0,Rh=Hn(0),Ni=0,Fp=null,xc=0,$g=0,u_=0,Op=null,Zr=null,c_=0,Ph=1/0,Qa=null,e0=!1,f_=null,Ql=null,t0=!1,ql=null,n0=0,Np=0,h_=null,i0=-1,r0=0;function Fr(){return(dn&6)!==0?ft():i0!==-1?i0:i0=ft()}function Zl(l){return(l.mode&1)===0?1:(dn&2)!==0&&rr!==0?rr&-rr:e_.transition!==null?(r0===0&&(r0=ur()),r0):(l=cn,l!==0||(l=window.event,l=l===void 0?16:Mg(l.type)),l)}function Ro(l,f,y,w){if(50<Np)throw Np=0,h_=null,Error(t(185));ku(l,y,w),((dn&2)===0||l!==Wi)&&(l===Wi&&((dn&2)===0&&($g|=y),Ni===4&&$l(l,rr)),$r(l,w),y===1&&dn===0&&(f.mode&1)===0&&(Ph=ft()+500,rc&&zs()))}function $r(l,f){var y=l.callbackNode;Pi(l,f);var w=Er(l,l===Wi?rr:0);if(w===0)y!==null&&ct(y),l.callbackNode=null,l.callbackPriority=0;else if(f=w&-w,l.callbackPriority!==f){if(y!=null&&ct(y),f===1)l.tag===0?Ng(jM.bind(null,l)):sc(jM.bind(null,l)),$y(function(){(dn&6)===0&&zs()}),y=null;else{switch(El(w)){case 1:y=Ft;break;case 4:y=Nt;break;case 16:y=An;break;case 536870912:y=Sn;break;default:y=An}y=$M(y,WM.bind(null,l))}l.callbackPriority=f,l.callbackNode=y}}function WM(l,f){if(i0=-1,r0=0,(dn&6)!==0)throw Error(t(327));var y=l.callbackNode;if(Bh()&&l.callbackNode!==y)return null;var w=Er(l,l===Wi?rr:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||f)f=s0(l,w);else{f=w;var b=dn;dn|=2;var D=JM();(Wi!==l||rr!==f)&&(Qa=null,Ph=ft()+500,Sc(l,f));do try{jL();break}catch(ee){XM(l,ee)}while(!0);Ha(),Zg.current=D,dn=b,Mi!==null?f=0:(Wi=null,rr=0,f=Ni)}if(f!==0){if(f===2&&(b=Xo(l),b!==0&&(w=b,f=d_(l,b))),f===1)throw y=Fp,Sc(l,0),$l(l,w),$r(l,ft()),y;if(f===6)$l(l,w);else{if(b=l.current.alternate,(w&30)===0&&!VL(b)&&(f=s0(l,w),f===2&&(D=Xo(l),D!==0&&(w=D,f=d_(l,D))),f===1))throw y=Fp,Sc(l,0),$l(l,w),$r(l,ft()),y;switch(l.finishedWork=b,l.finishedLanes=w,f){case 0:case 1:throw Error(t(345));case 2:Mc(l,Zr,Qa);break;case 3:if($l(l,w),(w&130023424)===w&&(f=c_+500-ft(),10<f)){if(Er(l,0)!==0)break;if(b=l.suspendedLanes,(b&w)!==w){Fr(),l.pingedLanes|=l.suspendedLanes&b;break}l.timeoutHandle=cp(Mc.bind(null,l,Zr,Qa),f);break}Mc(l,Zr,Qa);break;case 4:if($l(l,w),(w&4194240)===w)break;for(f=l.eventTimes,b=-1;0<w;){var z=31-zn(w);D=1<<z,z=f[z],z>b&&(b=z),w&=~D}if(w=b,w=ft()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*HL(w/1960))-w,10<w){l.timeoutHandle=cp(Mc.bind(null,l,Zr,Qa),w);break}Mc(l,Zr,Qa);break;case 5:Mc(l,Zr,Qa);break;default:throw Error(t(329))}}}return $r(l,ft()),l.callbackNode===y?WM.bind(null,l):null}function d_(l,f){var y=Op;return l.current.memoizedState.isDehydrated&&(Sc(l,f).flags|=256),l=s0(l,f),l!==2&&(f=Zr,Zr=y,f!==null&&p_(f)),l}function p_(l){Zr===null?Zr=l:Zr.push.apply(Zr,l)}function VL(l){for(var f=l;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var b=y[w],D=b.getSnapshot;b=b.value;try{if(!Cr(D(),b))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function $l(l,f){for(f&=~u_,f&=~$g,l.suspendedLanes|=f,l.pingedLanes&=~f,l=l.expirationTimes;0<f;){var y=31-zn(f),w=1<<y;l[y]=-1,f&=~w}}function jM(l){if((dn&6)!==0)throw Error(t(327));Bh();var f=Er(l,0);if((f&1)===0)return $r(l,ft()),null;var y=s0(l,f);if(l.tag!==0&&y===2){var w=Xo(l);w!==0&&(f=w,y=d_(l,w))}if(y===1)throw y=Fp,Sc(l,0),$l(l,f),$r(l,ft()),y;if(y===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=f,Mc(l,Zr,Qa),$r(l,ft()),null}function m_(l,f){var y=dn;dn|=1;try{return l(f)}finally{dn=y,dn===0&&(Ph=ft()+500,rc&&zs())}}function Ac(l){ql!==null&&ql.tag===0&&(dn&6)===0&&Bh();var f=dn;dn|=1;var y=Ws.transition,w=cn;try{if(Ws.transition=null,cn=1,l)return l()}finally{cn=w,Ws.transition=y,dn=f,(dn&6)===0&&zs()}}function g_(){xs=Rh.current,wn(Rh)}function Sc(l,f){l.finishedWork=null,l.finishedLanes=0;var y=l.timeoutHandle;if(y!==-1&&(l.timeoutHandle=-1,fp(y)),Mi!==null)for(y=Mi.return;y!==null;){var w=y;switch(_o(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&nc();break;case 3:ia(),wn($i),wn(Li),Hs();break;case 5:Xl(w);break;case 4:ia();break;case 13:wn(Rn);break;case 19:wn(Rn);break;case 10:uc(w.type._context);break;case 22:case 23:g_()}y=y.return}if(Wi=l,Mi=l=eu(l.current,null),rr=xs=f,Ni=0,Fp=null,u_=$g=xc=0,Zr=Op=null,Ao!==null){for(f=0;f<Ao.length;f++)if(y=Ao[f],w=y.interleaved,w!==null){y.interleaved=null;var b=w.next,D=y.pending;if(D!==null){var z=D.next;D.next=b,w.next=z}y.pending=w}Ao=null}return l}function XM(l,f){do{var y=Mi;try{if(Ha(),Xa.current=Th,ys){for(var w=En.memoizedState;w!==null;){var b=w.queue;b!==null&&(b.pending=null),w=w.next}ys=!1}if(Mo=0,fn=Wn=En=null,Vi=!1,ra=0,l_.current=null,y===null||y.return===null){Ni=1,Fp=f,Mi=null;break}e:{var D=l,z=y.return,ee=y,ue=f;if(f=rr,ee.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ae=ue,Ve=ee,Ke=Ve.tag;if((Ve.mode&1)===0&&(Ke===0||Ke===11||Ke===15)){var ze=Ve.alternate;ze?(Ve.updateQueue=ze.updateQueue,Ve.memoizedState=ze.memoizedState,Ve.lanes=ze.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var ht=dt(z);if(ht!==null){ht.flags&=-257,zt(ht,z,ee,D,f),ht.mode&1&&Ze(D,Ae,f),f=ht,ue=Ae;var vt=f.updateQueue;if(vt===null){var At=new Set;At.add(ue),f.updateQueue=At}else vt.add(ue);break e}else{if((f&1)===0){Ze(D,Ae,f),v_();break e}ue=Error(t(426))}}else if(bn&&ee.mode&1){var hi=dt(z);if(hi!==null){(hi.flags&65536)===0&&(hi.flags|=256),zt(hi,z,ee,D,f),Vl(T(ue,ee));break e}}D=ue=T(ue,ee),Ni!==4&&(Ni=2),Op===null?Op=[D]:Op.push(D),D=z;do{switch(D.tag){case 3:D.flags|=65536,f&=-f,D.lanes|=f;var ve=he(D,ue,f);Va(D,ve);break e;case 1:ee=ue;var fe=D.type,_e=D.stateNode;if((D.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Ql===null||!Ql.has(_e)))){D.flags|=65536,f&=-f,D.lanes|=f;var $e=be(D,ee,f);Va(D,$e);break e}}D=D.return}while(D!==null)}KM(y)}catch(Et){f=Et,Mi===y&&y!==null&&(Mi=y=y.return);continue}break}while(!0)}function JM(){var l=Zg.current;return Zg.current=Th,l===null?Th:l}function v_(){(Ni===0||Ni===3||Ni===2)&&(Ni=4),Wi===null||(xc&268435455)===0&&($g&268435455)===0||$l(Wi,rr)}function s0(l,f){var y=dn;dn|=2;var w=JM();(Wi!==l||rr!==f)&&(Qa=null,Sc(l,f));do try{WL();break}catch(b){XM(l,b)}while(!0);if(Ha(),dn=y,Zg.current=w,Mi!==null)throw Error(t(261));return Wi=null,rr=0,Ni}function WL(){for(;Mi!==null;)YM(Mi)}function jL(){for(;Mi!==null&&!Tt();)YM(Mi)}function YM(l){var f=ZM(l.alternate,l,xs);l.memoizedProps=l.pendingProps,f===null?KM(l):Mi=f,l_.current=null}function KM(l){var f=l;do{var y=f.alternate;if(l=f.return,(f.flags&32768)===0){if(y=NL(y,f,xs),y!==null){Mi=y;return}}else{if(y=UL(y,f),y!==null){y.flags&=32767,Mi=y;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Ni=6,Mi=null;return}}if(f=f.sibling,f!==null){Mi=f;return}Mi=f=l}while(f!==null);Ni===0&&(Ni=5)}function Mc(l,f,y){var w=cn,b=Ws.transition;try{Ws.transition=null,cn=1,XL(l,f,y,w)}finally{Ws.transition=b,cn=w}return null}function XL(l,f,y,w){do Bh();while(ql!==null);if((dn&6)!==0)throw Error(t(327));y=l.finishedWork;var b=l.finishedLanes;if(y===null)return null;if(l.finishedWork=null,l.finishedLanes=0,y===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var D=y.lanes|y.childLanes;if(Ky(l,D),l===Wi&&(Mi=Wi=null,rr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||t0||(t0=!0,$M(An,function(){return Bh(),null})),D=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||D){D=Ws.transition,Ws.transition=null;var z=cn;cn=1;var ee=dn;dn|=4,l_.current=null,zL(l,y),kM(y,l),_i(lp),Vr=!!zl,lp=zl=null,l.current=y,GL(y),Pt(),dn=ee,cn=z,Ws.transition=D}else l.current=y;if(t0&&(t0=!1,ql=l,n0=b),D=l.pendingLanes,D===0&&(Ql=null),pt(y.stateNode),$r(l,ft()),f!==null)for(w=l.onRecoverableError,y=0;y<f.length;y++)b=f[y],w(b.value,{componentStack:b.stack,digest:b.digest});if(e0)throw e0=!1,l=f_,f_=null,l;return(n0&1)!==0&&l.tag!==0&&Bh(),D=l.pendingLanes,(D&1)!==0?l===h_?Np++:(Np=0,h_=l):Np=0,zs(),null}function Bh(){if(ql!==null){var l=El(n0),f=Ws.transition,y=cn;try{if(Ws.transition=null,cn=16>l?16:l,ql===null)var w=!1;else{if(l=ql,ql=null,n0=0,(dn&6)!==0)throw Error(t(331));var b=dn;for(dn|=4,gt=l.current;gt!==null;){var D=gt,z=D.child;if((gt.flags&16)!==0){var ee=D.deletions;if(ee!==null){for(var ue=0;ue<ee.length;ue++){var Ae=ee[ue];for(gt=Ae;gt!==null;){var Ve=gt;switch(Ve.tag){case 0:case 11:case 15:Ip(8,Ve,D)}var Ke=Ve.child;if(Ke!==null)Ke.return=Ve,gt=Ke;else for(;gt!==null;){Ve=gt;var ze=Ve.sibling,ht=Ve.return;if(IM(Ve),Ve===Ae){gt=null;break}if(ze!==null){ze.return=ht,gt=ze;break}gt=ht}}}var vt=D.alternate;if(vt!==null){var At=vt.child;if(At!==null){vt.child=null;do{var hi=At.sibling;At.sibling=null,At=hi}while(At!==null)}}gt=D}}if((D.subtreeFlags&2064)!==0&&z!==null)z.return=D,gt=z;else e:for(;gt!==null;){if(D=gt,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Ip(9,D,D.return)}var ve=D.sibling;if(ve!==null){ve.return=D.return,gt=ve;break e}gt=D.return}}var fe=l.current;for(gt=fe;gt!==null;){z=gt;var _e=z.child;if((z.subtreeFlags&2064)!==0&&_e!==null)_e.return=z,gt=_e;else e:for(z=fe;gt!==null;){if(ee=gt,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:qg(9,ee)}}catch(Et){ri(ee,ee.return,Et)}if(ee===z){gt=null;break e}var $e=ee.sibling;if($e!==null){$e.return=ee.return,gt=$e;break e}gt=ee.return}}if(dn=b,zs(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Jn,l)}catch{}w=!0}return w}finally{cn=y,Ws.transition=f}}return!1}function QM(l,f,y){f=T(y,f),f=he(l,f,1),l=Dn(l,f,1),f=Fr(),l!==null&&(ku(l,1,f),$r(l,f))}function ri(l,f,y){if(l.tag===3)QM(l,l,y);else for(;f!==null;){if(f.tag===3){QM(f,l,y);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ql===null||!Ql.has(w))){l=T(y,l),l=be(f,l,1),f=Dn(f,l,1),l=Fr(),f!==null&&(ku(f,1,l),$r(f,l));break}}f=f.return}}function JL(l,f,y){var w=l.pingCache;w!==null&&w.delete(f),f=Fr(),l.pingedLanes|=l.suspendedLanes&y,Wi===l&&(rr&y)===y&&(Ni===4||Ni===3&&(rr&130023424)===rr&&500>ft()-c_?Sc(l,0):u_|=y),$r(l,f)}function qM(l,f){f===0&&((l.mode&1)===0?f=1:(f=Yn,Yn<<=1,(Yn&130023424)===0&&(Yn=4194304)));var y=Fr();l=gs(l,f),l!==null&&(ku(l,f,y),$r(l,y))}function YL(l){var f=l.memoizedState,y=0;f!==null&&(y=f.retryLane),qM(l,y)}function KL(l,f){var y=0;switch(l.tag){case 13:var w=l.stateNode,b=l.memoizedState;b!==null&&(y=b.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(t(314))}w!==null&&w.delete(f),qM(l,y)}var ZM;ZM=function(l,f,y){if(l!==null)if(l.memoizedProps!==f.pendingProps||$i.current)Xt=!0;else{if((l.lanes&y)===0&&(f.flags&128)===0)return Xt=!1,OL(l,f,y);Xt=(l.flags&131072)!==0}else Xt=!1,bn&&(f.flags&1048576)!==0&&gp(f,gh,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;Kg(l,f),l=f.pendingProps;var b=Fa(f,Li.current);na(f,y),b=pc(null,f,w,l,b,y);var D=wp();return f.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Gi(w)?(D=!0,Oa(f)):D=!1,f.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,jt(f),b.updater=Ch,f.stateNode=b,b._reactInternals=f,M(f,w,l,y),f=Wt(null,f,w,!0,D,y)):(f.tag=0,bn&&D&&vp(f),ut(null,f,b,y),f=f.child),f;case 16:w=f.elementType;e:{switch(Kg(l,f),l=f.pendingProps,b=w._init,w=b(w._payload),f.type=w,b=f.tag=qL(w),l=qr(w,l),b){case 0:f=at(null,f,w,l,y);break e;case 1:f=Mt(null,f,w,l,y);break e;case 11:f=Oi(null,f,w,l,y);break e;case 14:f=Ir(null,f,w,qr(w.type,l),y);break e}throw Error(t(306,w,""))}return f;case 0:return w=f.type,b=f.pendingProps,b=f.elementType===w?b:qr(w,b),at(l,f,w,b,y);case 1:return w=f.type,b=f.pendingProps,b=f.elementType===w?b:qr(w,b),Mt(l,f,w,b,y);case 3:e:{if(Gt(f),l===null)throw Error(t(387));w=f.pendingProps,D=f.memoizedState,b=D.element,Qn(l,f),Vn(f,w,null,y);var z=f.memoizedState;if(w=z.element,D.isDehydrated)if(D={element:w,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},f.updateQueue.baseState=D,f.memoizedState=D,f.flags&256){b=T(Error(t(423)),f),f=an(l,f,w,y,b);break e}else if(w!==b){b=T(Error(t(424)),f),f=an(l,f,w,y,b);break e}else for(tr=po(f.stateNode.containerInfo.firstChild),Di=f,bn=!0,Qr=null,y=lc(f,null,w,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(ta(),w===b){f=Ka(l,f,y);break e}ut(l,f,w,y)}f=f.child}return f;case 5:return ja(f),l===null&&yh(f),w=f.type,b=f.pendingProps,D=l!==null?l.memoizedProps:null,z=b.children,up(w,b)?z=null:D!==null&&up(w,D)&&(f.flags|=32),we(l,f),ut(l,f,z,y),f.child;case 6:return l===null&&yh(f),null;case 13:return To(l,f,y);case 4:return hc(f,f.stateNode.containerInfo),w=f.pendingProps,l===null?f.child=ka(f,null,w,y):ut(l,f,w,y),f.child;case 11:return w=f.type,b=f.pendingProps,b=f.elementType===w?b:qr(w,b),Oi(l,f,w,b,y);case 7:return ut(l,f,f.pendingProps,y),f.child;case 8:return ut(l,f,f.pendingProps.children,y),f.child;case 12:return ut(l,f,f.pendingProps.children,y),f.child;case 10:e:{if(w=f.type._context,b=f.pendingProps,D=f.memoizedProps,z=b.value,yn(za,w._currentValue),w._currentValue=z,D!==null)if(Cr(D.value,z)){if(D.children===b.children&&!$i.current){f=Ka(l,f,y);break e}}else for(D=f.child,D!==null&&(D.return=f);D!==null;){var ee=D.dependencies;if(ee!==null){z=D.child;for(var ue=ee.firstContext;ue!==null;){if(ue.context===w){if(D.tag===1){ue=vn(-1,y&-y),ue.tag=2;var Ae=D.updateQueue;if(Ae!==null){Ae=Ae.shared;var Ve=Ae.pending;Ve===null?ue.next=ue:(ue.next=Ve.next,Ve.next=ue),Ae.pending=ue}}D.lanes|=y,ue=D.alternate,ue!==null&&(ue.lanes|=y),cc(D.return,y,f),ee.lanes|=y;break}ue=ue.next}}else if(D.tag===10)z=D.type===f.type?null:D.child;else if(D.tag===18){if(z=D.return,z===null)throw Error(t(341));z.lanes|=y,ee=z.alternate,ee!==null&&(ee.lanes|=y),cc(z,y,f),z=D.sibling}else z=D.child;if(z!==null)z.return=D;else for(z=D;z!==null;){if(z===f){z=null;break}if(D=z.sibling,D!==null){D.return=z.return,z=D;break}z=z.return}D=z}ut(l,f,b.children,y),f=f.child}return f;case 9:return b=f.type,w=f.pendingProps.children,na(f,y),b=Pr(b),w=w(b),f.flags|=1,ut(l,f,w,y),f.child;case 14:return w=f.type,b=qr(w,f.pendingProps),b=qr(w.type,b),Ir(l,f,w,b,y);case 15:return xe(l,f,f.type,f.pendingProps,y);case 17:return w=f.type,b=f.pendingProps,b=f.elementType===w?b:qr(w,b),Kg(l,f),f.tag=1,Gi(w)?(l=!0,Oa(f)):l=!1,na(f,y),d(f,w,b),M(f,w,b,y),Wt(null,f,w,!0,l,y);case 19:return RM(l,f,y);case 22:return de(l,f,y)}throw Error(t(156,f.tag))};function $M(l,f){return Se(l,f)}function QL(l,f,y,w){this.tag=l,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(l,f,y,w){return new QL(l,f,y,w)}function y_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function qL(l){if(typeof l=="function")return y_(l)?1:0;if(l!=null){if(l=l.$$typeof,l===q)return 11;if(l===ie)return 14}return 2}function eu(l,f){var y=l.alternate;return y===null?(y=js(l.tag,f,l.key,l.mode),y.elementType=l.elementType,y.type=l.type,y.stateNode=l.stateNode,y.alternate=l,l.alternate=y):(y.pendingProps=f,y.type=l.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=l.flags&14680064,y.childLanes=l.childLanes,y.lanes=l.lanes,y.child=l.child,y.memoizedProps=l.memoizedProps,y.memoizedState=l.memoizedState,y.updateQueue=l.updateQueue,f=l.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=l.sibling,y.index=l.index,y.ref=l.ref,y}function o0(l,f,y,w,b,D){var z=2;if(w=l,typeof l=="function")y_(l)&&(z=1);else if(typeof l=="string")z=5;else e:switch(l){case O:return wc(y.children,b,D,f);case U:z=8,b|=8;break;case L:return l=js(12,y,f,b|2),l.elementType=L,l.lanes=D,l;case oe:return l=js(13,y,f,b),l.elementType=oe,l.lanes=D,l;case J:return l=js(19,y,f,b),l.elementType=J,l.lanes=D,l;case le:return a0(y,b,D,f);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:z=10;break e;case H:z=9;break e;case q:z=11;break e;case ie:z=14;break e;case se:z=16,w=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return f=js(z,y,f,b),f.elementType=l,f.type=w,f.lanes=D,f}function wc(l,f,y,w){return l=js(7,l,w,f),l.lanes=y,l}function a0(l,f,y,w){return l=js(22,l,w,f),l.elementType=le,l.lanes=y,l.stateNode={isHidden:!1},l}function __(l,f,y){return l=js(6,l,null,f),l.lanes=y,l}function x_(l,f,y){return f=js(4,l.children!==null?l.children:[],l.key,f),f.lanes=y,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}function ZL(l,f,y,w,b){this.tag=f,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=w,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function A_(l,f,y,w,b,D,z,ee,ue){return l=new ZL(l,f,y,ee,ue),f===1?(f=1,D===!0&&(f|=8)):f=0,D=js(3,null,null,f),l.current=D,D.stateNode=l,D.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},jt(D),l}function $L(l,f,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:w==null?null:""+w,children:l,containerInfo:f,implementation:y}}function ew(l){if(!l)return go;l=l._reactInternals;e:{if(so(l)!==l||l.tag!==1)throw Error(t(170));var f=l;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Gi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(t(171))}if(l.tag===1){var y=l.type;if(Gi(y))return ic(l,y,f)}return f}function tw(l,f,y,w,b,D,z,ee,ue){return l=A_(y,w,!0,l,b,D,z,ee,ue),l.context=ew(null),y=l.current,w=Fr(),b=Zl(y),D=vn(w,b),D.callback=f??null,Dn(y,D,b),l.current.lanes=b,ku(l,b,w),$r(l,w),l}function l0(l,f,y,w){var b=f.current,D=Fr(),z=Zl(b);return y=ew(y),f.context===null?f.context=y:f.pendingContext=y,f=vn(D,z),f.payload={element:l},w=w===void 0?null:w,w!==null&&(f.callback=w),l=Dn(b,f,z),l!==null&&(Ro(l,b,z,D),Hi(l,b,z)),z}function u0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function nw(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var y=l.retryLane;l.retryLane=y!==0&&y<f?y:f}}function S_(l,f){nw(l,f),(l=l.alternate)&&nw(l,f)}function eD(){return null}var iw=typeof reportError=="function"?reportError:function(l){console.error(l)};function M_(l){this._internalRoot=l}c0.prototype.render=M_.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(t(409));l0(l,f,null,null)},c0.prototype.unmount=M_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;Ac(function(){l0(null,l,null,null)}),f[Rr]=null}};function c0(l){this._internalRoot=l}c0.prototype.unstable_scheduleHydration=function(l){if(l){var f=Ff();l={blockedOn:null,target:l,priority:f};for(var y=0;y<Jo.length&&f!==0&&f<Jo[y].priority;y++);Jo.splice(y,0,l),y===0&&Uf(l)}};function w_(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function f0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function rw(){}function tD(l,f,y,w,b){if(b){if(typeof w=="function"){var D=w;w=function(){var Ae=u0(z);D.call(Ae)}}var z=tw(f,w,l,0,null,!1,!1,"",rw);return l._reactRootContainer=z,l[Rr]=z.current,Ul(l.nodeType===8?l.parentNode:l),Ac(),z}for(;b=l.lastChild;)l.removeChild(b);if(typeof w=="function"){var ee=w;w=function(){var Ae=u0(ue);ee.call(Ae)}}var ue=A_(l,0,!1,null,null,!1,!1,"",rw);return l._reactRootContainer=ue,l[Rr]=ue.current,Ul(l.nodeType===8?l.parentNode:l),Ac(function(){l0(f,ue,y,w)}),ue}function h0(l,f,y,w,b){var D=y._reactRootContainer;if(D){var z=D;if(typeof b=="function"){var ee=b;b=function(){var ue=u0(z);ee.call(ue)}}l0(f,z,l,b)}else z=tD(y,f,l,b,w);return u0(z)}zu=function(l){switch(l.tag){case 3:var f=l.stateNode;if(f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);y!==0&&(wl(f,y|1),$r(f,ft()),(dn&6)===0&&(Ph=ft()+500,zs()))}break;case 13:Ac(function(){var w=gs(l,1);if(w!==null){var b=Fr();Ro(w,l,1,b)}}),S_(l,1)}},jd=function(l){if(l.tag===13){var f=gs(l,134217728);if(f!==null){var y=Fr();Ro(f,l,134217728,y)}S_(l,134217728)}},Sg=function(l){if(l.tag===13){var f=Zl(l),y=gs(l,f);if(y!==null){var w=Fr();Ro(y,l,f,w)}S_(l,f)}},Ff=function(){return cn},Of=function(l,f){var y=cn;try{return cn=l,f()}finally{cn=y}},St=function(l,f,y){switch(f){case"input":if(lt(l,y),f=y.name,y.type==="radio"&&f!=null){for(y=l;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<y.length;f++){var w=y[f];if(w!==l&&w.form===l.form){var b=dh(w);if(!b)throw Error(t(90));ne(w),lt(w,b)}}}break;case"textarea":G(l,y);break;case"select":f=y.value,f!=null&&It(l,!!y.multiple,f,!1)}},xt=m_,Ht=Ac;var nD={usingClientEntryPoint:!1,Events:[mo,Kn,dh,Be,Ye,m_]},Up={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iD={bundleType:Up.bundleType,version:Up.version,rendererPackageName:Up.rendererPackageName,rendererConfig:Up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Me(l),l===null?null:l.stateNode},findFiberByHostInstance:Up.findFiberByHostInstance||eD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{Jn=d0.inject(iD),wt=d0}catch{}}return es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nD,es.createPortal=function(l,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w_(f))throw Error(t(200));return $L(l,f,null,y)},es.createRoot=function(l,f){if(!w_(l))throw Error(t(299));var y=!1,w="",b=iw;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onRecoverableError!==void 0&&(b=f.onRecoverableError)),f=A_(l,1,!1,null,null,y,!1,w,b),l[Rr]=f.current,Ul(l.nodeType===8?l.parentNode:l),new M_(f)},es.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=Me(f),l=l===null?null:l.stateNode,l},es.flushSync=function(l){return Ac(l)},es.hydrate=function(l,f,y){if(!f0(f))throw Error(t(200));return h0(null,l,f,!0,y)},es.hydrateRoot=function(l,f,y){if(!w_(l))throw Error(t(405));var w=y!=null&&y.hydratedSources||null,b=!1,D="",z=iw;if(y!=null&&(y.unstable_strictMode===!0&&(b=!0),y.identifierPrefix!==void 0&&(D=y.identifierPrefix),y.onRecoverableError!==void 0&&(z=y.onRecoverableError)),f=tw(f,null,l,1,y??null,b,!1,D,z),l[Rr]=f.current,Ul(l),w)for(l=0;l<w.length;l++)y=w[l],b=y._getVersion,b=b(y._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[y,b]:f.mutableSourceEagerHydrationData.push(y,b);return new c0(f)},es.render=function(l,f,y){if(!f0(f))throw Error(t(200));return h0(null,l,f,!1,y)},es.unmountComponentAtNode=function(l){if(!f0(l))throw Error(t(40));return l._reactRootContainer?(Ac(function(){h0(null,null,l,!1,function(){l._reactRootContainer=null,l[Rr]=null})}),!0):!1},es.unstable_batchedUpdates=m_,es.unstable_renderSubtreeIntoContainer=function(l,f,y,w){if(!f0(y))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return h0(l,f,y,!1,w)},es.version="18.3.1-next-f1338f8080-20240426",es}var hw;function Ab(){if(hw)return C_.exports;hw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),C_.exports=dD(),C_.exports}var pD=Ab();const mD=sy(pD);/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tm(){return Tm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Tm.apply(this,arguments)}var Yc;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Yc||(Yc={}));const dw="popstate";function gD(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return uA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Lv(i)}return yD(e,t,null,r)}function No(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vD(){return Math.random().toString(36).substr(2,8)}function pw(r,e){return{usr:r.state,key:r.key,idx:e}}function uA(r,e,t,n){return t===void 0&&(t=null),Tm({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?oy(e):e,{state:t,key:e&&e.key||n||vD()})}function Lv(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function oy(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function yD(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Yc.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Tm({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Yc.Pop;let A=h(),S=A==null?null:A-c;c=A,u&&u({action:a,location:x.location,delta:S})}function g(A,S){a=Yc.Push;let C=uA(x.location,A,S);c=h()+1;let E=pw(C,c),R=x.createHref(C);try{o.pushState(E,"",R)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(R)}s&&u&&u({action:a,location:x.location,delta:1})}function v(A,S){a=Yc.Replace;let C=uA(x.location,A,S);c=h();let E=pw(C,c),R=x.createHref(C);o.replaceState(E,"",R),s&&u&&u({action:a,location:x.location,delta:0})}function _(A){let S=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:Lv(A);return C=C.replace(/ $/,"%20"),No(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let x={get action(){return a},get location(){return r(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(dw,p),u=A,()=>{i.removeEventListener(dw,p),u=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let S=_(A);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(A){return o.go(A)}};return x}var mw;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(mw||(mw={}));function Sb(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function _D(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?oy(r):r;return{pathname:t?t.startsWith("/")?t:xD(t,e):e,search:SD(n),hash:MD(i)}}function xD(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function P_(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AD(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mb(r,e){let t=AD(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function wb(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=oy(r):(i=Tm({},r),No(!i.pathname||!i.pathname.includes("?"),P_("?","pathname","search",i)),No(!i.pathname||!i.pathname.includes("#"),P_("#","pathname","hash",i)),No(!i.search||!i.search.includes("#"),P_("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let u=_D(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Eb=r=>r.join("/").replace(/\/\/+/g,"/"),SD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,MD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Tb=["post","put","patch","delete"];new Set(Tb);const wD=["get",...Tb];new Set(wD);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(){return Dv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Dv.apply(this,arguments)}const Cb=te.createContext(null),Nd=te.createContext(null),N1=te.createContext(null),ay=te.createContext({outlet:null,matches:[],isDataRoute:!1});function ED(r,e){let{relative:t}=e===void 0?{}:e;ly()||No(!1);let{basename:n,navigator:i}=te.useContext(Nd),{hash:s,pathname:o,search:a}=Rb(r,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Eb([n,o])),i.createHref({pathname:u,search:a,hash:s})}function ly(){return te.useContext(N1)!=null}function U1(){return ly()||No(!1),te.useContext(N1).location}function bb(r){te.useContext(Nd).static||te.useLayoutEffect(r)}function TD(){let{isDataRoute:r}=te.useContext(ay);return r?BD():CD()}function CD(){ly()||No(!1);let r=te.useContext(Cb),{basename:e,future:t,navigator:n}=te.useContext(Nd),{matches:i}=te.useContext(ay),{pathname:s}=U1(),o=JSON.stringify(Mb(i,t.v7_relativeSplatPath)),a=te.useRef(!1);return bb(()=>{a.current=!0}),te.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=wb(c,JSON.parse(o),s,h.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Eb([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,r])}function Rb(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=te.useContext(Nd),{matches:i}=te.useContext(ay),{pathname:s}=U1(),o=JSON.stringify(Mb(i,n.v7_relativeSplatPath));return te.useMemo(()=>wb(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}var Pb=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Pb||{}),Bb=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Bb||{});function bD(r){let e=te.useContext(Cb);return e||No(!1),e}function RD(r){let e=te.useContext(ay);return e||No(!1),e}function PD(r){let e=RD(),t=e.matches[e.matches.length-1];return t.route.id||No(!1),t.route.id}function BD(){let{router:r}=bD(Pb.UseNavigateStable),e=PD(Bb.UseNavigateStable),t=te.useRef(!1);return bb(()=>{t.current=!0}),te.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Dv({fromRouteId:e},s)))},[r,e])}const gw={};function LD(r,e){gw[e]||(gw[e]=!0,console.warn(e))}const vw=(r,e,t)=>LD(r," React Router Future Flag Warning: "+e+". "+("You can use the `"+r+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function DD(r,e){r?.v7_startTransition===void 0&&vw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),r?.v7_relativeSplatPath===void 0&&vw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ID(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Yc.Pop,navigator:s,static:o=!1,future:a}=r;ly()&&No(!1);let u=e.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:u,navigator:s,static:o,future:Dv({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof n=="string"&&(n=oy(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,x=te.useMemo(()=>{let A=Sb(h,u);return A==null?null:{location:{pathname:A,search:p,hash:g,state:v,key:_},navigationType:i}},[u,h,p,g,v,_,i]);return x==null?null:te.createElement(Nd.Provider,{value:c},te.createElement(N1.Provider,{children:t,value:x}))}new Promise(()=>{});/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cA(){return cA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cA.apply(this,arguments)}function FD(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function OD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ND(r,e){return r.button===0&&(!e||e==="_self")&&!OD(r)}const UD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kD="6";try{window.__reactRouterVersion=kD}catch{}const zD="startTransition",yw=cD[zD];function GD(r){let{basename:e,children:t,future:n,window:i}=r,s=te.useRef();s.current==null&&(s.current=gD({window:i,v5Compat:!0}));let o=s.current,[a,u]=te.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},h=te.useCallback(p=>{c&&yw?yw(()=>u(p)):u(p)},[u,c]);return te.useLayoutEffect(()=>o.listen(h),[o,h]),te.useEffect(()=>DD(n),[n]),te.createElement(ID,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:n})}const HD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WD=te.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p}=e,g=FD(e,UD),{basename:v}=te.useContext(Nd),_,x=!1;if(typeof c=="string"&&VD.test(c)&&(_=c,HD))try{let E=new URL(window.location.href),R=c.startsWith("//")?new URL(E.protocol+c):new URL(c),B=Sb(R.pathname,v);R.origin===E.origin&&B!=null?c=B+R.search+R.hash:x=!0}catch{}let A=ED(c,{relative:i}),S=jD(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:p});function C(E){n&&n(E),E.defaultPrevented||S(E)}return te.createElement("a",cA({},g,{href:_||A,onClick:x||s?n:C,ref:t,target:u}))});var _w;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(_w||(_w={}));var xw;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(xw||(xw={}));function jD(r,e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=TD(),c=U1(),h=Rb(r,{relative:o});return te.useCallback(p=>{if(ND(p,t)){p.preventDefault();let g=n!==void 0?n:Lv(c)===Lv(h);u(r,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,h,n,i,t,r,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ud="159",zc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Lb=0,fA=1,Db=2,XD=3,Ib=0,uy=1,pm=2,Do=3,pa=0,Gr=1,Zs=2,JD=2,fl=0,rf=1,hA=2,dA=3,pA=4,Fb=5,du=100,Ob=101,Nb=102,mA=103,gA=104,Ub=200,kb=201,zb=202,Gb=203,Iv=204,Fv=205,Hb=206,Vb=207,Wb=208,jb=209,Xb=210,Jb=211,Yb=212,Kb=213,Qb=214,qb=0,Zb=1,$b=2,Cm=3,eR=4,tR=5,nR=6,iR=7,$m=0,rR=1,sR=2,ca=0,oR=1,aR=2,lR=3,k1=4,uR=5,vA="attached",cR="detached",cy=300,gl=301,wu=302,bm=303,Rm=304,kd=306,Eu=1e3,sr=1001,Ad=1002,oi=1003,Pm=1004,YD=1004,pd=1005,KD=1005,Zn=1006,fy=1007,QD=1007,ma=1008,qD=1008,fa=1009,fR=1010,hR=1011,hy=1012,z1=1013,ll=1014,Fo=1015,Sd=1016,G1=1017,H1=1018,vu=1020,dR=1021,kr=1023,pR=1024,mR=1025,yu=1026,mf=1027,gR=1028,V1=1029,vR=1030,W1=1031,j1=1033,yv=33776,_v=33777,xv=33778,Av=33779,yA=35840,_A=35841,xA=35842,AA=35843,X1=36196,SA=37492,MA=37496,wA=37808,EA=37809,TA=37810,CA=37811,bA=37812,RA=37813,PA=37814,BA=37815,LA=37816,DA=37817,IA=37818,FA=37819,OA=37820,NA=37821,Sv=36492,UA=36494,kA=36495,yR=36283,zA=36284,GA=36285,HA=36286,_R=2200,xR=2201,AR=2202,Md=2300,gf=2301,Mv=2302,Kc=2400,Qc=2401,Bm=2402,dy=2500,J1=2501,SR=0,Y1=1,Ov=2,K1=3e3,_u=3001,MR=3200,wR=3201,Lu=0,ER=1,Es="",mi="srgb",ko="srgb-linear",py="display-p3",eg="display-p3-linear",Lm="linear",In="srgb",Dm="rec709",Im="p3",ZD=0,Hc=7680,$D=7681,eI=7682,tI=7683,nI=34055,iI=34056,rI=5386,sI=512,oI=513,aI=514,lI=515,uI=516,cI=517,fI=518,VA=519,TR=512,CR=513,bR=514,Q1=515,RR=516,PR=517,BR=518,LR=519,Fm=35044,sf=35048,hI=35040,dI=35045,pI=35049,mI=35041,gI=35046,vI=35050,yI=35042,_I="100",WA="300 es",Nv=1035,Oo=2e3,wd=2001;let Al=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Aw=1234567;const of=Math.PI/180,Ed=180/Math.PI;function Rs(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(vr[r&255]+vr[r>>8&255]+vr[r>>16&255]+vr[r>>24&255]+"-"+vr[e&255]+vr[e>>8&255]+"-"+vr[e>>16&15|64]+vr[e>>24&255]+"-"+vr[t&63|128]+vr[t>>8&255]+"-"+vr[t>>16&255]+vr[t>>24&255]+vr[n&255]+vr[n>>8&255]+vr[n>>16&255]+vr[n>>24&255]).toLowerCase()}function ai(r,e,t){return Math.max(e,Math.min(t,r))}function q1(r,e){return(r%e+e)%e}function xI(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function AI(r,e,t){return r!==e?(t-r)/(e-r):0}function mm(r,e,t){return(1-t)*r+t*e}function SI(r,e,t,n){return mm(r,e,1-Math.exp(-t*n))}function MI(r,e=1){return e-Math.abs(q1(r,e*2)-e)}function wI(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function EI(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function TI(r,e){return r+Math.floor(Math.random()*(e-r+1))}function CI(r,e){return r+Math.random()*(e-r)}function bI(r){return r*(.5-Math.random())}function RI(r){r!==void 0&&(Aw=r);let e=Aw+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function PI(r){return r*of}function BI(r){return r*Ed}function jA(r){return(r&r-1)===0&&r!==0}function LI(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Uv(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function DI(r,e,t,n,i){const s=Math.cos,o=Math.sin,a=s(t/2),u=o(t/2),c=s((e+n)/2),h=o((e+n)/2),p=s((e-n)/2),g=o((e-n)/2),v=s((n-e)/2),_=o((n-e)/2);switch(i){case"XYX":r.set(a*h,u*p,u*g,a*c);break;case"YZY":r.set(u*g,a*h,u*p,a*c);break;case"ZXZ":r.set(u*p,u*g,a*h,a*c);break;case"XZX":r.set(a*h,u*_,u*v,a*c);break;case"YXY":r.set(u*v,a*h,u*_,a*c);break;case"ZYZ":r.set(u*_,u*v,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function is(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function Qt(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const Z1={DEG2RAD:of,RAD2DEG:Ed,generateUUID:Rs,clamp:ai,euclideanModulo:q1,mapLinear:xI,inverseLerp:AI,lerp:mm,damp:SI,pingpong:MI,smoothstep:wI,smootherstep:EI,randInt:TI,randFloat:CI,randFloatSpread:bI,seededRandom:RI,degToRad:PI,radToDeg:BI,isPowerOfTwo:jA,ceilPowerOfTwo:LI,floorPowerOfTwo:Uv,setQuaternionFromProperEuler:DI,normalize:Qt,denormalize:is};class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ai(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*i+e.x,this.y=s*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zt{constructor(e,t,n,i,s,o,a,u,c){Zt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,o,a,u,c)}set(e,t,n,i,s,o,a,u,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=s,h[5]=u,h[6]=n,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[3],u=n[6],c=n[1],h=n[4],p=n[7],g=n[2],v=n[5],_=n[8],x=i[0],A=i[3],S=i[6],C=i[1],E=i[4],R=i[7],B=i[2],I=i[5],O=i[8];return s[0]=o*x+a*C+u*B,s[3]=o*A+a*E+u*I,s[6]=o*S+a*R+u*O,s[1]=c*x+h*C+p*B,s[4]=c*A+h*E+p*I,s[7]=c*S+h*R+p*O,s[2]=g*x+v*C+_*B,s[5]=g*A+v*E+_*I,s[8]=g*S+v*R+_*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-n*s*h+n*a*u+i*s*c-i*o*u}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],h=e[8],p=h*o-a*c,g=a*u-h*s,v=c*s-o*u,_=t*p+n*g+i*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=p*x,e[1]=(i*c-h*n)*x,e[2]=(a*n-i*o)*x,e[3]=g*x,e[4]=(h*t-i*u)*x,e[5]=(i*s-a*t)*x,e[6]=v*x,e[7]=(n*u-c*t)*x,e[8]=(o*t-n*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,o,a){const u=Math.cos(s),c=Math.sin(s);return this.set(n*u,n*c,-n*(u*o+c*a)+o+e,-i*c,i*u,-i*(-c*o+u*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(B_.makeScale(e,t)),this}rotate(e){return this.premultiply(B_.makeRotation(-e)),this}translate(e,t){return this.premultiply(B_.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const B_=new Zt;function DR(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const II={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function id(r,e){return new II[r](e)}function Om(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function IR(){const r=Om("canvas");return r.style.display="block",r}const Sw={};function gm(r){r in Sw||(Sw[r]=!0,console.warn(r))}const Mw=new Zt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ww=new Zt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),p0={[ko]:{transfer:Lm,primaries:Dm,toReference:r=>r,fromReference:r=>r},[mi]:{transfer:In,primaries:Dm,toReference:r=>r.convertSRGBToLinear(),fromReference:r=>r.convertLinearToSRGB()},[eg]:{transfer:Lm,primaries:Im,toReference:r=>r.applyMatrix3(ww),fromReference:r=>r.applyMatrix3(Mw)},[py]:{transfer:In,primaries:Im,toReference:r=>r.convertSRGBToLinear().applyMatrix3(ww),fromReference:r=>r.applyMatrix3(Mw).convertLinearToSRGB()}},FI=new Set([ko,eg]),_n={enabled:!0,_workingColorSpace:ko,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(r){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!r},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(r){if(!FI.has(r))throw new Error(`Unsupported working color space, "${r}".`);this._workingColorSpace=r},convert:function(r,e,t){if(this.enabled===!1||e===t||!e||!t)return r;const n=p0[e].toReference,i=p0[t].fromReference;return i(n(r))},fromWorkingColorSpace:function(r,e){return this.convert(r,this._workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this._workingColorSpace)},getPrimaries:function(r){return p0[r].primaries},getTransfer:function(r){return r===Es?Lm:p0[r].transfer}};function md(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function L_(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Lh;class $1{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Lh===void 0&&(Lh=Om("canvas")),Lh.width=e.width,Lh.height=e.height;const n=Lh.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Lh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Om("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=md(s[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(md(t[n]/255)*255):t[n]=md(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let OI=0;class qc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:OI++}),this.uuid=Rs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(D_(i[o].image)):s.push(D_(i[o]))}else s=D_(i);n.url=s}return t||(e.images[this.uuid]=n),n}}function D_(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?$1.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let NI=0;class On extends Al{constructor(e=On.DEFAULT_IMAGE,t=On.DEFAULT_MAPPING,n=sr,i=sr,s=Zn,o=ma,a=kr,u=fa,c=On.DEFAULT_ANISOTROPY,h=Es){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:NI++}),this.uuid=Rs(),this.name="",this.source=new qc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=u,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(gm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===_u?mi:Es),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==cy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Eu:e.x=e.x-Math.floor(e.x);break;case sr:e.x=e.x<0?0:1;break;case Ad:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Eu:e.y=e.y-Math.floor(e.y);break;case sr:e.y=e.y<0?0:1;break;case Ad:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return gm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===mi?_u:K1}set encoding(e){gm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===_u?mi:Es}}On.DEFAULT_IMAGE=null;On.DEFAULT_MAPPING=cy;On.DEFAULT_ANISOTROPY=1;class xn{constructor(e=0,t=0,n=0,i=1){xn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const u=e.elements,c=u[0],h=u[4],p=u[8],g=u[1],v=u[5],_=u[9],x=u[2],A=u[6],S=u[10];if(Math.abs(h-g)<.01&&Math.abs(p-x)<.01&&Math.abs(_-A)<.01){if(Math.abs(h+g)<.1&&Math.abs(p+x)<.1&&Math.abs(_+A)<.1&&Math.abs(c+v+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(c+1)/2,R=(v+1)/2,B=(S+1)/2,I=(h+g)/4,O=(p+x)/4,U=(_+A)/4;return E>R&&E>B?E<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(E),i=I/n,s=O/n):R>B?R<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(R),n=I/i,s=U/i):B<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(B),n=O/s,i=U/s),this.set(n,i,s,t),this}let C=Math.sqrt((A-_)*(A-_)+(p-x)*(p-x)+(g-h)*(g-h));return Math.abs(C)<.001&&(C=1),this.x=(A-_)/C,this.y=(p-x)/C,this.z=(g-h)/C,this.w=Math.acos((c+v+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class FR extends Al{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new xn(0,0,e,t),this.scissorTest=!1,this.viewport=new xn(0,0,e,t);const i={width:e,height:t,depth:1};n.encoding!==void 0&&(gm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===_u?mi:Es),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Zn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new On(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zo extends FR{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class my extends On{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=oi,this.minFilter=oi,this.wrapR=sr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class UI extends zo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new my(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class eS extends On{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=oi,this.minFilter=oi,this.wrapR=sr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kI extends zo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new eS(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class zI extends zo{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ji{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,s,o,a){let u=n[i+0],c=n[i+1],h=n[i+2],p=n[i+3];const g=s[o+0],v=s[o+1],_=s[o+2],x=s[o+3];if(a===0){e[t+0]=u,e[t+1]=c,e[t+2]=h,e[t+3]=p;return}if(a===1){e[t+0]=g,e[t+1]=v,e[t+2]=_,e[t+3]=x;return}if(p!==x||u!==g||c!==v||h!==_){let A=1-a;const S=u*g+c*v+h*_+p*x,C=S>=0?1:-1,E=1-S*S;if(E>Number.EPSILON){const B=Math.sqrt(E),I=Math.atan2(B,S*C);A=Math.sin(A*I)/B,a=Math.sin(a*I)/B}const R=a*C;if(u=u*A+g*R,c=c*A+v*R,h=h*A+_*R,p=p*A+x*R,A===1-a){const B=1/Math.sqrt(u*u+c*c+h*h+p*p);u*=B,c*=B,h*=B,p*=B}}e[t]=u,e[t+1]=c,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,n,i,s,o){const a=n[i],u=n[i+1],c=n[i+2],h=n[i+3],p=s[o],g=s[o+1],v=s[o+2],_=s[o+3];return e[t]=a*_+h*p+u*v-c*g,e[t+1]=u*_+h*g+c*p-a*v,e[t+2]=c*_+h*v+a*g-u*p,e[t+3]=h*_-a*p-u*g-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,c=a(n/2),h=a(i/2),p=a(s/2),g=u(n/2),v=u(i/2),_=u(s/2);switch(o){case"XYZ":this._x=g*h*p+c*v*_,this._y=c*v*p-g*h*_,this._z=c*h*_+g*v*p,this._w=c*h*p-g*v*_;break;case"YXZ":this._x=g*h*p+c*v*_,this._y=c*v*p-g*h*_,this._z=c*h*_-g*v*p,this._w=c*h*p+g*v*_;break;case"ZXY":this._x=g*h*p-c*v*_,this._y=c*v*p+g*h*_,this._z=c*h*_+g*v*p,this._w=c*h*p-g*v*_;break;case"ZYX":this._x=g*h*p-c*v*_,this._y=c*v*p+g*h*_,this._z=c*h*_-g*v*p,this._w=c*h*p+g*v*_;break;case"YZX":this._x=g*h*p+c*v*_,this._y=c*v*p+g*h*_,this._z=c*h*_-g*v*p,this._w=c*h*p-g*v*_;break;case"XZY":this._x=g*h*p-c*v*_,this._y=c*v*p-g*h*_,this._z=c*h*_+g*v*p,this._w=c*h*p+g*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],o=t[1],a=t[5],u=t[9],c=t[2],h=t[6],p=t[10],g=n+a+p;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(h-u)*v,this._y=(s-c)*v,this._z=(o-i)*v}else if(n>a&&n>p){const v=2*Math.sqrt(1+n-a-p);this._w=(h-u)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+c)/v}else if(a>p){const v=2*Math.sqrt(1+a-n-p);this._w=(s-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(u+h)/v}else{const v=2*Math.sqrt(1+p-n-a);this._w=(o-i)/v,this._x=(s+c)/v,this._y=(u+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ai(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,o=e._w,a=t._x,u=t._y,c=t._z,h=t._w;return this._x=n*h+o*a+i*c-s*u,this._y=i*h+o*u+s*a-n*c,this._z=s*h+o*c+n*u-i*a,this._w=o*h-n*a-i*u-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*n+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(u),h=Math.atan2(c,a),p=Math.sin((1-t)*h)/c,g=Math.sin(t*h)/c;return this._w=o*p+this._w*g,this._x=n*p+this._x*g,this._y=i*p+this._y*g,this._z=s*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(s),n*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,n=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ew.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ew.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,o=e.y,a=e.z,u=e.w,c=2*(o*i-a*n),h=2*(a*t-s*i),p=2*(s*n-o*t);return this.x=t+u*c+o*p-a*h,this.y=n+u*h+a*c-s*p,this.z=i+u*p+s*h-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,o=t.x,a=t.y,u=t.z;return this.x=i*u-s*a,this.y=s*o-n*u,this.z=n*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return I_.copy(this).projectOnVector(e),this.sub(I_)}reflect(e){return this.sub(I_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ai(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const I_=new W,Ew=new Ji;class Sr{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Po.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Po.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Po.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Po):Po.fromBufferAttribute(s,o),Po.applyMatrix4(e.matrixWorld),this.expandByPoint(Po);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),m0.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),m0.copy(n.boundingBox)),m0.applyMatrix4(e.matrixWorld),this.union(m0)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Po),Po.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zp),g0.subVectors(this.max,zp),Dh.subVectors(e.a,zp),Ih.subVectors(e.b,zp),Fh.subVectors(e.c,zp),nu.subVectors(Ih,Dh),iu.subVectors(Fh,Ih),Ec.subVectors(Dh,Fh);let t=[0,-nu.z,nu.y,0,-iu.z,iu.y,0,-Ec.z,Ec.y,nu.z,0,-nu.x,iu.z,0,-iu.x,Ec.z,0,-Ec.x,-nu.y,nu.x,0,-iu.y,iu.x,0,-Ec.y,Ec.x,0];return!F_(t,Dh,Ih,Fh,g0)||(t=[1,0,0,0,1,0,0,0,1],!F_(t,Dh,Ih,Fh,g0))?!1:(v0.crossVectors(nu,iu),t=[v0.x,v0.y,v0.z],F_(t,Dh,Ih,Fh,g0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Po).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Po).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(qa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qa=[new W,new W,new W,new W,new W,new W,new W,new W],Po=new W,m0=new Sr,Dh=new W,Ih=new W,Fh=new W,nu=new W,iu=new W,Ec=new W,zp=new W,g0=new W,v0=new W,Tc=new W;function F_(r,e,t,n,i){for(let s=0,o=r.length-3;s<=o;s+=3){Tc.fromArray(r,s);const a=i.x*Math.abs(Tc.x)+i.y*Math.abs(Tc.y)+i.z*Math.abs(Tc.z),u=e.dot(Tc),c=t.dot(Tc),h=n.dot(Tc);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>a)return!1}return!0}const GI=new Sr,Gp=new W,O_=new W;class or{constructor(e=new W,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):GI.setFromPoints(e).getCenter(n);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Gp.subVectors(e,this.center);const t=Gp.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(Gp,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(O_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Gp.copy(e.center).add(O_)),this.expandByPoint(Gp.copy(e.center).sub(O_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Za=new W,N_=new W,y0=new W,ru=new W,U_=new W,_0=new W,k_=new W;class wf{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Za)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Za.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Za.copy(this.origin).addScaledVector(this.direction,t),Za.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){N_.copy(e).add(t).multiplyScalar(.5),y0.copy(t).sub(e).normalize(),ru.copy(this.origin).sub(N_);const s=e.distanceTo(t)*.5,o=-this.direction.dot(y0),a=ru.dot(this.direction),u=-ru.dot(y0),c=ru.lengthSq(),h=Math.abs(1-o*o);let p,g,v,_;if(h>0)if(p=o*u-a,g=o*a-u,_=s*h,p>=0)if(g>=-_)if(g<=_){const x=1/h;p*=x,g*=x,v=p*(p+o*g+2*a)+g*(o*p+g+2*u)+c}else g=s,p=Math.max(0,-(o*g+a)),v=-p*p+g*(g+2*u)+c;else g=-s,p=Math.max(0,-(o*g+a)),v=-p*p+g*(g+2*u)+c;else g<=-_?(p=Math.max(0,-(-o*s+a)),g=p>0?-s:Math.min(Math.max(-s,-u),s),v=-p*p+g*(g+2*u)+c):g<=_?(p=0,g=Math.min(Math.max(-s,-u),s),v=g*(g+2*u)+c):(p=Math.max(0,-(o*s+a)),g=p>0?s:Math.min(Math.max(-s,-u),s),v=-p*p+g*(g+2*u)+c);else g=o>0?-s:s,p=Math.max(0,-(o*g+a)),v=-p*p+g*(g+2*u)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(N_).addScaledVector(y0,g),v}intersectSphere(e,t){Za.subVectors(e.center,this.origin);const n=Za.dot(this.direction),i=Za.dot(Za)-n*n,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=n-o,u=n+o;return u<0?null:a<0?this.at(u,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,o,a,u;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(n=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(n=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),h>=0?(s=(e.min.y-g.y)*h,o=(e.max.y-g.y)*h):(s=(e.max.y-g.y)*h,o=(e.min.y-g.y)*h),n>o||s>i||((s>n||isNaN(n))&&(n=s),(o<i||isNaN(i))&&(i=o),p>=0?(a=(e.min.z-g.z)*p,u=(e.max.z-g.z)*p):(a=(e.max.z-g.z)*p,u=(e.min.z-g.z)*p),n>u||a>i)||((a>n||n!==n)&&(n=a),(u<i||i!==i)&&(i=u),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Za)!==null}intersectTriangle(e,t,n,i,s){U_.subVectors(t,e),_0.subVectors(n,e),k_.crossVectors(U_,_0);let o=this.direction.dot(k_),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ru.subVectors(this.origin,e);const u=a*this.direction.dot(_0.crossVectors(ru,_0));if(u<0)return null;const c=a*this.direction.dot(U_.cross(ru));if(c<0||u+c>o)return null;const h=-a*ru.dot(k_);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Rt{constructor(e,t,n,i,s,o,a,u,c,h,p,g,v,_,x,A){Rt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,o,a,u,c,h,p,g,v,_,x,A)}set(e,t,n,i,s,o,a,u,c,h,p,g,v,_,x,A){const S=this.elements;return S[0]=e,S[4]=t,S[8]=n,S[12]=i,S[1]=s,S[5]=o,S[9]=a,S[13]=u,S[2]=c,S[6]=h,S[10]=p,S[14]=g,S[3]=v,S[7]=_,S[11]=x,S[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Rt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Oh.setFromMatrixColumn(e,0).length(),s=1/Oh.setFromMatrixColumn(e,1).length(),o=1/Oh.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),u=Math.cos(i),c=Math.sin(i),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const g=o*h,v=o*p,_=a*h,x=a*p;t[0]=u*h,t[4]=-u*p,t[8]=c,t[1]=v+_*c,t[5]=g-x*c,t[9]=-a*u,t[2]=x-g*c,t[6]=_+v*c,t[10]=o*u}else if(e.order==="YXZ"){const g=u*h,v=u*p,_=c*h,x=c*p;t[0]=g+x*a,t[4]=_*a-v,t[8]=o*c,t[1]=o*p,t[5]=o*h,t[9]=-a,t[2]=v*a-_,t[6]=x+g*a,t[10]=o*u}else if(e.order==="ZXY"){const g=u*h,v=u*p,_=c*h,x=c*p;t[0]=g-x*a,t[4]=-o*p,t[8]=_+v*a,t[1]=v+_*a,t[5]=o*h,t[9]=x-g*a,t[2]=-o*c,t[6]=a,t[10]=o*u}else if(e.order==="ZYX"){const g=o*h,v=o*p,_=a*h,x=a*p;t[0]=u*h,t[4]=_*c-v,t[8]=g*c+x,t[1]=u*p,t[5]=x*c+g,t[9]=v*c-_,t[2]=-c,t[6]=a*u,t[10]=o*u}else if(e.order==="YZX"){const g=o*u,v=o*c,_=a*u,x=a*c;t[0]=u*h,t[4]=x-g*p,t[8]=_*p+v,t[1]=p,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=v*p+_,t[10]=g-x*p}else if(e.order==="XZY"){const g=o*u,v=o*c,_=a*u,x=a*c;t[0]=u*h,t[4]=-p,t[8]=c*h,t[1]=g*p+x,t[5]=o*h,t[9]=v*p-_,t[2]=_*p-v,t[6]=a*h,t[10]=x*p+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(HI,e,VI)}lookAt(e,t,n){const i=this.elements;return As.subVectors(e,t),As.lengthSq()===0&&(As.z=1),As.normalize(),su.crossVectors(n,As),su.lengthSq()===0&&(Math.abs(n.z)===1?As.x+=1e-4:As.z+=1e-4,As.normalize(),su.crossVectors(n,As)),su.normalize(),x0.crossVectors(As,su),i[0]=su.x,i[4]=x0.x,i[8]=As.x,i[1]=su.y,i[5]=x0.y,i[9]=As.y,i[2]=su.z,i[6]=x0.z,i[10]=As.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[4],u=n[8],c=n[12],h=n[1],p=n[5],g=n[9],v=n[13],_=n[2],x=n[6],A=n[10],S=n[14],C=n[3],E=n[7],R=n[11],B=n[15],I=i[0],O=i[4],U=i[8],L=i[12],N=i[1],H=i[5],q=i[9],oe=i[13],J=i[2],ie=i[6],se=i[10],le=i[14],Q=i[3],Y=i[7],V=i[11],k=i[15];return s[0]=o*I+a*N+u*J+c*Q,s[4]=o*O+a*H+u*ie+c*Y,s[8]=o*U+a*q+u*se+c*V,s[12]=o*L+a*oe+u*le+c*k,s[1]=h*I+p*N+g*J+v*Q,s[5]=h*O+p*H+g*ie+v*Y,s[9]=h*U+p*q+g*se+v*V,s[13]=h*L+p*oe+g*le+v*k,s[2]=_*I+x*N+A*J+S*Q,s[6]=_*O+x*H+A*ie+S*Y,s[10]=_*U+x*q+A*se+S*V,s[14]=_*L+x*oe+A*le+S*k,s[3]=C*I+E*N+R*J+B*Q,s[7]=C*O+E*H+R*ie+B*Y,s[11]=C*U+E*q+R*se+B*V,s[15]=C*L+E*oe+R*le+B*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],o=e[1],a=e[5],u=e[9],c=e[13],h=e[2],p=e[6],g=e[10],v=e[14],_=e[3],x=e[7],A=e[11],S=e[15];return _*(+s*u*p-i*c*p-s*a*g+n*c*g+i*a*v-n*u*v)+x*(+t*u*v-t*c*g+s*o*g-i*o*v+i*c*h-s*u*h)+A*(+t*c*p-t*a*v-s*o*p+n*o*v+s*a*h-n*c*h)+S*(-i*a*h-t*u*p+t*a*g+i*o*p-n*o*g+n*u*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],h=e[8],p=e[9],g=e[10],v=e[11],_=e[12],x=e[13],A=e[14],S=e[15],C=p*A*c-x*g*c+x*u*v-a*A*v-p*u*S+a*g*S,E=_*g*c-h*A*c-_*u*v+o*A*v+h*u*S-o*g*S,R=h*x*c-_*p*c+_*a*v-o*x*v-h*a*S+o*p*S,B=_*p*u-h*x*u-_*a*g+o*x*g+h*a*A-o*p*A,I=t*C+n*E+i*R+s*B;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/I;return e[0]=C*O,e[1]=(x*g*s-p*A*s-x*i*v+n*A*v+p*i*S-n*g*S)*O,e[2]=(a*A*s-x*u*s+x*i*c-n*A*c-a*i*S+n*u*S)*O,e[3]=(p*u*s-a*g*s-p*i*c+n*g*c+a*i*v-n*u*v)*O,e[4]=E*O,e[5]=(h*A*s-_*g*s+_*i*v-t*A*v-h*i*S+t*g*S)*O,e[6]=(_*u*s-o*A*s-_*i*c+t*A*c+o*i*S-t*u*S)*O,e[7]=(o*g*s-h*u*s+h*i*c-t*g*c-o*i*v+t*u*v)*O,e[8]=R*O,e[9]=(_*p*s-h*x*s-_*n*v+t*x*v+h*n*S-t*p*S)*O,e[10]=(o*x*s-_*a*s+_*n*c-t*x*c-o*n*S+t*a*S)*O,e[11]=(h*a*s-o*p*s-h*n*c+t*p*c+o*n*v-t*a*v)*O,e[12]=B*O,e[13]=(h*x*i-_*p*i+_*n*g-t*x*g-h*n*A+t*p*A)*O,e[14]=(_*a*i-o*x*i-_*n*u+t*x*u+o*n*A-t*a*A)*O,e[15]=(o*p*i-h*a*i+h*n*u-t*p*u-o*n*g+t*a*g)*O,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,o=e.x,a=e.y,u=e.z,c=s*o,h=s*a;return this.set(c*o+n,c*a-i*u,c*u+i*a,0,c*a+i*u,h*a+n,h*u-i*o,0,c*u-i*a,h*u+i*o,s*u*u+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,o){return this.set(1,n,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,o=t._y,a=t._z,u=t._w,c=s+s,h=o+o,p=a+a,g=s*c,v=s*h,_=s*p,x=o*h,A=o*p,S=a*p,C=u*c,E=u*h,R=u*p,B=n.x,I=n.y,O=n.z;return i[0]=(1-(x+S))*B,i[1]=(v+R)*B,i[2]=(_-E)*B,i[3]=0,i[4]=(v-R)*I,i[5]=(1-(g+S))*I,i[6]=(A+C)*I,i[7]=0,i[8]=(_+E)*O,i[9]=(A-C)*O,i[10]=(1-(g+x))*O,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=Oh.set(i[0],i[1],i[2]).length();const o=Oh.set(i[4],i[5],i[6]).length(),a=Oh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Bo.copy(this);const c=1/s,h=1/o,p=1/a;return Bo.elements[0]*=c,Bo.elements[1]*=c,Bo.elements[2]*=c,Bo.elements[4]*=h,Bo.elements[5]*=h,Bo.elements[6]*=h,Bo.elements[8]*=p,Bo.elements[9]*=p,Bo.elements[10]*=p,t.setFromRotationMatrix(Bo),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,i,s,o,a=Oo){const u=this.elements,c=2*s/(t-e),h=2*s/(n-i),p=(t+e)/(t-e),g=(n+i)/(n-i);let v,_;if(a===Oo)v=-(o+s)/(o-s),_=-2*o*s/(o-s);else if(a===wd)v=-o/(o-s),_=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=c,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=h,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,n,i,s,o,a=Oo){const u=this.elements,c=1/(t-e),h=1/(n-i),p=1/(o-s),g=(t+e)*c,v=(n+i)*h;let _,x;if(a===Oo)_=(o+s)*p,x=-2*p;else if(a===wd)_=s*p,x=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-v,u[2]=0,u[6]=0,u[10]=x,u[14]=-_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Oh=new W,Bo=new Rt,HI=new W(0,0,0),VI=new W(1,1,1),su=new W,x0=new W,As=new W,Tw=new Rt,Cw=new Ji;class Ef{constructor(e=0,t=0,n=0,i=Ef.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],u=i[1],c=i[5],h=i[9],p=i[2],g=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(ai(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(g,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ai(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(ai(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-ai(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(g,v),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ai(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-ai(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Tw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Tw,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Cw.setFromEuler(this),this.setFromQuaternion(Cw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ef.DEFAULT_ORDER="XYZ";class af{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let WI=0;const bw=new W,Nh=new Ji,$a=new Rt,A0=new W,Hp=new W,jI=new W,XI=new Ji,Rw=new W(1,0,0),Pw=new W(0,1,0),Bw=new W(0,0,1),JI={type:"added"},YI={type:"removed"};class un extends Al{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:WI++}),this.uuid=Rs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=un.DEFAULT_UP.clone();const e=new W,t=new Ef,n=new Ji,i=new W(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Rt},normalMatrix:{value:new Zt}}),this.matrix=new Rt,this.matrixWorld=new Rt,this.matrixAutoUpdate=un.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new af,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Nh.setFromAxisAngle(e,t),this.quaternion.multiply(Nh),this}rotateOnWorldAxis(e,t){return Nh.setFromAxisAngle(e,t),this.quaternion.premultiply(Nh),this}rotateX(e){return this.rotateOnAxis(Rw,e)}rotateY(e){return this.rotateOnAxis(Pw,e)}rotateZ(e){return this.rotateOnAxis(Bw,e)}translateOnAxis(e,t){return bw.copy(e).applyQuaternion(this.quaternion),this.position.add(bw.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Rw,e)}translateY(e){return this.translateOnAxis(Pw,e)}translateZ(e){return this.translateOnAxis(Bw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($a.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?A0.copy(e):A0.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Hp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$a.lookAt(Hp,A0,this.up):$a.lookAt(A0,Hp,this.up),this.quaternion.setFromRotationMatrix($a),i&&($a.extractRotation(i.matrixWorld),Nh.setFromRotationMatrix($a),this.quaternion.premultiply(Nh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(JI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(YI)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),$a.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$a.multiply(e.parent.matrixWorld)),e.applyMatrix4($a),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hp,e,jI),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hp,XI,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let c=0,h=u.length;c<h;c++){const p=u[c];s(e.shapes,p)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,c=this.material.length;u<c;u++)a.push(s(e.materials,this.material[u]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];i.animations.push(s(e.animations,u))}}if(t){const a=o(e.geometries),u=o(e.materials),c=o(e.textures),h=o(e.images),p=o(e.shapes),g=o(e.skeletons),v=o(e.animations),_=o(e.nodes);a.length>0&&(n.geometries=a),u.length>0&&(n.materials=u),c.length>0&&(n.textures=c),h.length>0&&(n.images=h),p.length>0&&(n.shapes=p),g.length>0&&(n.skeletons=g),v.length>0&&(n.animations=v),_.length>0&&(n.nodes=_)}return n.object=i,n;function o(a){const u=[];for(const c in a){const h=a[c];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}un.DEFAULT_UP=new W(0,1,0);un.DEFAULT_MATRIX_AUTO_UPDATE=!0;un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Lo=new W,el=new W,z_=new W,tl=new W,Uh=new W,kh=new W,Lw=new W,G_=new W,H_=new W,V_=new W;let S0=!1;class ns{constructor(e=new W,t=new W,n=new W){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Lo.subVectors(e,t),i.cross(Lo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){Lo.subVectors(i,t),el.subVectors(n,t),z_.subVectors(e,t);const o=Lo.dot(Lo),a=Lo.dot(el),u=Lo.dot(z_),c=el.dot(el),h=el.dot(z_),p=o*c-a*a;if(p===0)return s.set(-2,-1,-1);const g=1/p,v=(c*u-a*h)*g,_=(o*h-a*u)*g;return s.set(1-v-_,_,v)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,tl),tl.x>=0&&tl.y>=0&&tl.x+tl.y<=1}static getUV(e,t,n,i,s,o,a,u){return S0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),S0=!0),this.getInterpolation(e,t,n,i,s,o,a,u)}static getInterpolation(e,t,n,i,s,o,a,u){return this.getBarycoord(e,t,n,i,tl),u.setScalar(0),u.addScaledVector(s,tl.x),u.addScaledVector(o,tl.y),u.addScaledVector(a,tl.z),u}static isFrontFacing(e,t,n,i){return Lo.subVectors(n,t),el.subVectors(e,t),Lo.cross(el).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Lo.subVectors(this.c,this.b),el.subVectors(this.a,this.b),Lo.cross(el).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ns.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,s){return S0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),S0=!0),ns.getInterpolation(e,this.a,this.b,this.c,t,n,i,s)}getInterpolation(e,t,n,i,s){return ns.getInterpolation(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,s=this.c;let o,a;Uh.subVectors(i,n),kh.subVectors(s,n),G_.subVectors(e,n);const u=Uh.dot(G_),c=kh.dot(G_);if(u<=0&&c<=0)return t.copy(n);H_.subVectors(e,i);const h=Uh.dot(H_),p=kh.dot(H_);if(h>=0&&p<=h)return t.copy(i);const g=u*p-h*c;if(g<=0&&u>=0&&h<=0)return o=u/(u-h),t.copy(n).addScaledVector(Uh,o);V_.subVectors(e,s);const v=Uh.dot(V_),_=kh.dot(V_);if(_>=0&&v<=_)return t.copy(s);const x=v*c-u*_;if(x<=0&&c>=0&&_<=0)return a=c/(c-_),t.copy(n).addScaledVector(kh,a);const A=h*_-v*p;if(A<=0&&p-h>=0&&v-_>=0)return Lw.subVectors(s,i),a=(p-h)/(p-h+(v-_)),t.copy(i).addScaledVector(Lw,a);const S=1/(A+x+g);return o=x*S,a=g*S,t.copy(n).addScaledVector(Uh,o).addScaledVector(kh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const OR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ou={h:0,s:0,l:0},M0={h:0,s:0,l:0};function W_(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class ot{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=mi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,_n.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=_n.workingColorSpace){return this.r=e,this.g=t,this.b=n,_n.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=_n.workingColorSpace){if(e=q1(e,1),t=ai(t,0,1),n=ai(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=W_(o,s,e+1/3),this.g=W_(o,s,e),this.b=W_(o,s,e-1/3)}return _n.toWorkingColorSpace(this,i),this}setStyle(e,t=mi){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=mi){const n=OR[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=md(e.r),this.g=md(e.g),this.b=md(e.b),this}copyLinearToSRGB(e){return this.r=L_(e.r),this.g=L_(e.g),this.b=L_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mi){return _n.fromWorkingColorSpace(yr.copy(this),e),Math.round(ai(yr.r*255,0,255))*65536+Math.round(ai(yr.g*255,0,255))*256+Math.round(ai(yr.b*255,0,255))}getHexString(e=mi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=_n.workingColorSpace){_n.fromWorkingColorSpace(yr.copy(this),t);const n=yr.r,i=yr.g,s=yr.b,o=Math.max(n,i,s),a=Math.min(n,i,s);let u,c;const h=(a+o)/2;if(a===o)u=0,c=0;else{const p=o-a;switch(c=h<=.5?p/(o+a):p/(2-o-a),o){case n:u=(i-s)/p+(i<s?6:0);break;case i:u=(s-n)/p+2;break;case s:u=(n-i)/p+4;break}u/=6}return e.h=u,e.s=c,e.l=h,e}getRGB(e,t=_n.workingColorSpace){return _n.fromWorkingColorSpace(yr.copy(this),t),e.r=yr.r,e.g=yr.g,e.b=yr.b,e}getStyle(e=mi){_n.fromWorkingColorSpace(yr.copy(this),e);const t=yr.r,n=yr.g,i=yr.b;return e!==mi?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(ou),this.setHSL(ou.h+e,ou.s+t,ou.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ou),e.getHSL(M0);const n=mm(ou.h,M0.h,t),i=mm(ou.s,M0.s,t),s=mm(ou.l,M0.l,t);return this.setHSL(n,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*i,this.g=s[1]*t+s[4]*n+s[7]*i,this.b=s[2]*t+s[5]*n+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const yr=new ot;ot.NAMES=OR;let KI=0;class bi extends Al{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KI++}),this.uuid=Rs(),this.name="",this.type="Material",this.blending=rf,this.side=pa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Iv,this.blendDst=Fv,this.blendEquation=du,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ot(0,0,0),this.blendAlpha=0,this.depthFunc=Cm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=VA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hc,this.stencilZFail=Hc,this.stencilZPass=Hc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==rf&&(n.blending=this.blending),this.side!==pa&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Iv&&(n.blendSrc=this.blendSrc),this.blendDst!==Fv&&(n.blendDst=this.blendDst),this.blendEquation!==du&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Cm&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==VA&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hc&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Hc&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Hc&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Cs extends bi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$m,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const al=QI();function QI(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(n[u]=0,n[u|256]=32768,i[u]=24,i[u|256]=24):c<-14?(n[u]=1024>>-c-14,n[u|256]=1024>>-c-14|32768,i[u]=-c-1,i[u|256]=-c-1):c<=15?(n[u]=c+15<<10,n[u|256]=c+15<<10|32768,i[u]=13,i[u|256]=13):c<128?(n[u]=31744,n[u|256]=64512,i[u]=24,i[u|256]=24):(n[u]=31744,n[u|256]=64512,i[u]=13,i[u|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,h=0;for(;(c&8388608)===0;)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[u]=c|h}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ts(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=ai(r,-65504,65504),al.floatView[0]=r;const e=al.uint32View[0],t=e>>23&511;return al.baseTable[t]+((e&8388607)>>al.shiftTable[t])}function um(r){const e=r>>10;return al.uint32View[0]=al.mantissaTable[al.offsetTable[e]+(r&1023)]+al.exponentTable[e],al.floatView[0]}const qI={toHalfFloat:ts,fromHalfFloat:um},wi=new W,w0=new Le;class on{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Fm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Fo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn('THREE.BufferAttribute: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)w0.fromBufferAttribute(this,t),w0.applyMatrix3(e),this.setXY(t,w0.x,w0.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.applyMatrix3(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.applyMatrix4(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.applyNormalMatrix(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)wi.fromBufferAttribute(this,t),wi.transformDirection(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=is(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Qt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=is(t,this.array)),t}setX(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=is(t,this.array)),t}setY(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=is(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=is(t,this.array)),t}setW(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array),i=Qt(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array),i=Qt(i,this.array),s=Qt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Fm&&(e.usage=this.usage),e}}class ZI extends on{constructor(e,t,n){super(new Int8Array(e),t,n)}}class $I extends on{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class eF extends on{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class tF extends on{constructor(e,t,n){super(new Int16Array(e),t,n)}}class tS extends on{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class nF extends on{constructor(e,t,n){super(new Int32Array(e),t,n)}}class nS extends on{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class iF extends on{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=um(this.array[e*this.itemSize]);return this.normalized&&(t=is(t,this.array)),t}setX(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize]=ts(t),this}getY(e){let t=um(this.array[e*this.itemSize+1]);return this.normalized&&(t=is(t,this.array)),t}setY(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+1]=ts(t),this}getZ(e){let t=um(this.array[e*this.itemSize+2]);return this.normalized&&(t=is(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+2]=ts(t),this}getW(e){let t=um(this.array[e*this.itemSize+3]);return this.normalized&&(t=is(t,this.array)),t}setW(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+3]=ts(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array)),this.array[e+0]=ts(t),this.array[e+1]=ts(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array),i=Qt(i,this.array)),this.array[e+0]=ts(t),this.array[e+1]=ts(n),this.array[e+2]=ts(i),this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array),i=Qt(i,this.array),s=Qt(s,this.array)),this.array[e+0]=ts(t),this.array[e+1]=ts(n),this.array[e+2]=ts(i),this.array[e+3]=ts(s),this}}class yt extends on{constructor(e,t,n){super(new Float32Array(e),t,n)}}class rF extends on{constructor(e,t,n){super(new Float64Array(e),t,n)}}let sF=0;const Xs=new Rt,j_=new un,zh=new W,Ss=new Sr,Vp=new Sr,Xi=new W;class Vt extends Al{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sF++}),this.uuid=Rs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(DR(e)?nS:tS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Zt().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xs.makeRotationFromQuaternion(e),this.applyMatrix4(Xs),this}rotateX(e){return Xs.makeRotationX(e),this.applyMatrix4(Xs),this}rotateY(e){return Xs.makeRotationY(e),this.applyMatrix4(Xs),this}rotateZ(e){return Xs.makeRotationZ(e),this.applyMatrix4(Xs),this}translate(e,t,n){return Xs.makeTranslation(e,t,n),this.applyMatrix4(Xs),this}scale(e,t,n){return Xs.makeScale(e,t,n),this.applyMatrix4(Xs),this}lookAt(e){return j_.lookAt(e),j_.updateMatrix(),this.applyMatrix4(j_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zh).negate(),this.translate(zh.x,zh.y,zh.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new yt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const s=t[n];Ss.setFromBufferAttribute(s),this.morphTargetsRelative?(Xi.addVectors(this.boundingBox.min,Ss.min),this.boundingBox.expandByPoint(Xi),Xi.addVectors(this.boundingBox.max,Ss.max),this.boundingBox.expandByPoint(Xi)):(this.boundingBox.expandByPoint(Ss.min),this.boundingBox.expandByPoint(Ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new or);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new W,1/0);return}if(e){const n=this.boundingSphere.center;if(Ss.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Vp.setFromBufferAttribute(a),this.morphTargetsRelative?(Xi.addVectors(Ss.min,Vp.min),Ss.expandByPoint(Xi),Xi.addVectors(Ss.max,Vp.max),Ss.expandByPoint(Xi)):(Ss.expandByPoint(Vp.min),Ss.expandByPoint(Vp.max))}Ss.getCenter(n);let i=0;for(let s=0,o=e.count;s<o;s++)Xi.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(Xi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],u=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Xi.fromBufferAttribute(a,c),u&&(zh.fromBufferAttribute(e,c),Xi.add(zh)),i=Math.max(i,n.distanceToSquared(Xi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new on(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,c=[],h=[];for(let N=0;N<a;N++)c[N]=new W,h[N]=new W;const p=new W,g=new W,v=new W,_=new Le,x=new Le,A=new Le,S=new W,C=new W;function E(N,H,q){p.fromArray(i,N*3),g.fromArray(i,H*3),v.fromArray(i,q*3),_.fromArray(o,N*2),x.fromArray(o,H*2),A.fromArray(o,q*2),g.sub(p),v.sub(p),x.sub(_),A.sub(_);const oe=1/(x.x*A.y-A.x*x.y);isFinite(oe)&&(S.copy(g).multiplyScalar(A.y).addScaledVector(v,-x.y).multiplyScalar(oe),C.copy(v).multiplyScalar(x.x).addScaledVector(g,-A.x).multiplyScalar(oe),c[N].add(S),c[H].add(S),c[q].add(S),h[N].add(C),h[H].add(C),h[q].add(C))}let R=this.groups;R.length===0&&(R=[{start:0,count:n.length}]);for(let N=0,H=R.length;N<H;++N){const q=R[N],oe=q.start,J=q.count;for(let ie=oe,se=oe+J;ie<se;ie+=3)E(n[ie+0],n[ie+1],n[ie+2])}const B=new W,I=new W,O=new W,U=new W;function L(N){O.fromArray(s,N*3),U.copy(O);const H=c[N];B.copy(H),B.sub(O.multiplyScalar(O.dot(H))).normalize(),I.crossVectors(U,H);const oe=I.dot(h[N])<0?-1:1;u[N*4]=B.x,u[N*4+1]=B.y,u[N*4+2]=B.z,u[N*4+3]=oe}for(let N=0,H=R.length;N<H;++N){const q=R[N],oe=q.start,J=q.count;for(let ie=oe,se=oe+J;ie<se;ie+=3)L(n[ie+0]),L(n[ie+1]),L(n[ie+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new on(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let g=0,v=n.count;g<v;g++)n.setXYZ(g,0,0,0);const i=new W,s=new W,o=new W,a=new W,u=new W,c=new W,h=new W,p=new W;if(e)for(let g=0,v=e.count;g<v;g+=3){const _=e.getX(g+0),x=e.getX(g+1),A=e.getX(g+2);i.fromBufferAttribute(t,_),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,A),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),a.fromBufferAttribute(n,_),u.fromBufferAttribute(n,x),c.fromBufferAttribute(n,A),a.add(h),u.add(h),c.add(h),n.setXYZ(_,a.x,a.y,a.z),n.setXYZ(x,u.x,u.y,u.z),n.setXYZ(A,c.x,c.y,c.z)}else for(let g=0,v=t.count;g<v;g+=3)i.fromBufferAttribute(t,g+0),s.fromBufferAttribute(t,g+1),o.fromBufferAttribute(t,g+2),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),n.setXYZ(g+0,h.x,h.y,h.z),n.setXYZ(g+1,h.x,h.y,h.z),n.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Xi.fromBufferAttribute(e,t),Xi.normalize(),e.setXYZ(t,Xi.x,Xi.y,Xi.z)}toNonIndexed(){function e(a,u){const c=a.array,h=a.itemSize,p=a.normalized,g=new c.constructor(u.length*h);let v=0,_=0;for(let x=0,A=u.length;x<A;x++){a.isInterleavedBufferAttribute?v=u[x]*a.data.stride+a.offset:v=u[x]*h;for(let S=0;S<h;S++)g[_++]=c[v++]}return new on(g,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Vt,n=this.index.array,i=this.attributes;for(const a in i){const u=i[a],c=e(u,n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const u=[],c=s[a];for(let h=0,p=c.length;h<p;h++){const g=c[h],v=e(g,n);u.push(v)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const u in n){const c=n[u];e.data.attributes[u]=c.toJSON(e.data)}const i={};let s=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let p=0,g=c.length;p<g;p++){const v=c[p];h.push(v.toJSON(e.data))}h.length>0&&(i[u]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],p=s[c];for(let g=0,v=p.length;g<v;g++)h.push(p[g].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const p=o[c];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Dw=new Rt,Cc=new wf,E0=new or,Iw=new W,Gh=new W,Hh=new W,Vh=new W,X_=new W,T0=new W,C0=new Le,b0=new Le,R0=new Le,Fw=new W,Ow=new W,Nw=new W,P0=new W,B0=new W;class vi extends un{constructor(e=new Vt,t=new Cs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){T0.set(0,0,0);for(let u=0,c=s.length;u<c;u++){const h=a[u],p=s[u];h!==0&&(X_.fromBufferAttribute(p,e),o?T0.addScaledVector(X_,h):T0.addScaledVector(X_.sub(t),h))}t.add(T0)}return t}raycast(e,t){const n=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),E0.copy(n.boundingSphere),E0.applyMatrix4(s),Cc.copy(e.ray).recast(e.near),!(E0.containsPoint(Cc.origin)===!1&&(Cc.intersectSphere(E0,Iw)===null||Cc.origin.distanceToSquared(Iw)>(e.far-e.near)**2))&&(Dw.copy(s).invert(),Cc.copy(e.ray).applyMatrix4(Dw),!(n.boundingBox!==null&&Cc.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Cc)))}_computeIntersections(e,t,n){let i;const s=this.geometry,o=this.material,a=s.index,u=s.attributes.position,c=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,g=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let _=0,x=g.length;_<x;_++){const A=g[_],S=o[A.materialIndex],C=Math.max(A.start,v.start),E=Math.min(a.count,Math.min(A.start+A.count,v.start+v.count));for(let R=C,B=E;R<B;R+=3){const I=a.getX(R),O=a.getX(R+1),U=a.getX(R+2);i=L0(this,S,e,n,c,h,p,I,O,U),i&&(i.faceIndex=Math.floor(R/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const _=Math.max(0,v.start),x=Math.min(a.count,v.start+v.count);for(let A=_,S=x;A<S;A+=3){const C=a.getX(A),E=a.getX(A+1),R=a.getX(A+2);i=L0(this,o,e,n,c,h,p,C,E,R),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}else if(u!==void 0)if(Array.isArray(o))for(let _=0,x=g.length;_<x;_++){const A=g[_],S=o[A.materialIndex],C=Math.max(A.start,v.start),E=Math.min(u.count,Math.min(A.start+A.count,v.start+v.count));for(let R=C,B=E;R<B;R+=3){const I=R,O=R+1,U=R+2;i=L0(this,S,e,n,c,h,p,I,O,U),i&&(i.faceIndex=Math.floor(R/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const _=Math.max(0,v.start),x=Math.min(u.count,v.start+v.count);for(let A=_,S=x;A<S;A+=3){const C=A,E=A+1,R=A+2;i=L0(this,o,e,n,c,h,p,C,E,R),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}}}function oF(r,e,t,n,i,s,o,a){let u;if(e.side===Gr?u=n.intersectTriangle(o,s,i,!0,a):u=n.intersectTriangle(i,s,o,e.side===pa,a),u===null)return null;B0.copy(a),B0.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(B0);return c<t.near||c>t.far?null:{distance:c,point:B0.clone(),object:r}}function L0(r,e,t,n,i,s,o,a,u,c){r.getVertexPosition(a,Gh),r.getVertexPosition(u,Hh),r.getVertexPosition(c,Vh);const h=oF(r,e,t,n,Gh,Hh,Vh,P0);if(h){i&&(C0.fromBufferAttribute(i,a),b0.fromBufferAttribute(i,u),R0.fromBufferAttribute(i,c),h.uv=ns.getInterpolation(P0,Gh,Hh,Vh,C0,b0,R0,new Le)),s&&(C0.fromBufferAttribute(s,a),b0.fromBufferAttribute(s,u),R0.fromBufferAttribute(s,c),h.uv1=ns.getInterpolation(P0,Gh,Hh,Vh,C0,b0,R0,new Le),h.uv2=h.uv1),o&&(Fw.fromBufferAttribute(o,a),Ow.fromBufferAttribute(o,u),Nw.fromBufferAttribute(o,c),h.normal=ns.getInterpolation(P0,Gh,Hh,Vh,Fw,Ow,Nw,new W),h.normal.dot(n.direction)>0&&h.normal.multiplyScalar(-1));const p={a,b:u,c,normal:new W,materialIndex:0};ns.getNormal(Gh,Hh,Vh,p.normal),h.face=p}return h}class Tf extends Vt{constructor(e=1,t=1,n=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const u=[],c=[],h=[],p=[];let g=0,v=0;_("z","y","x",-1,-1,n,t,e,o,s,0),_("z","y","x",1,-1,n,t,-e,o,s,1),_("x","z","y",1,1,e,n,t,i,o,2),_("x","z","y",1,-1,e,n,-t,i,o,3),_("x","y","z",1,-1,e,t,n,i,s,4),_("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(u),this.setAttribute("position",new yt(c,3)),this.setAttribute("normal",new yt(h,3)),this.setAttribute("uv",new yt(p,2));function _(x,A,S,C,E,R,B,I,O,U,L){const N=R/O,H=B/U,q=R/2,oe=B/2,J=I/2,ie=O+1,se=U+1;let le=0,Q=0;const Y=new W;for(let V=0;V<se;V++){const k=V*H-oe;for(let K=0;K<ie;K++){const re=K*N-q;Y[x]=re*C,Y[A]=k*E,Y[S]=J,c.push(Y.x,Y.y,Y.z),Y[x]=0,Y[A]=0,Y[S]=I>0?1:-1,h.push(Y.x,Y.y,Y.z),p.push(K/O),p.push(1-V/U),le+=1}}for(let V=0;V<U;V++)for(let k=0;k<O;k++){const K=g+k+ie*V,re=g+k+ie*(V+1),j=g+(k+1)+ie*(V+1),Te=g+(k+1)+ie*V;u.push(K,re,Te),u.push(re,j,Te),Q+=6}a.addGroup(v,Q,L),v+=Q,g+=le}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Td(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Nr(r){const e={};for(let t=0;t<r.length;t++){const n=Td(r[t]);for(const i in n)e[i]=n[i]}return e}function aF(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function NR(r){return r.getRenderTarget()===null?r.outputColorSpace:_n.workingColorSpace}const UR={clone:Td,merge:Nr};var lF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ga extends bi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lF,this.fragmentShader=uF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Td(e.uniforms),this.uniformsGroups=aF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class tg extends un{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rt,this.projectionMatrix=new Rt,this.projectionMatrixInverse=new Rt,this.coordinateSystem=Oo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class jn extends tg{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ed*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(of*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ed*2*Math.atan(Math.tan(of*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(of*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/u,t-=o.offsetY*n/c,i*=o.width/u,n*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wh=-90,jh=1;class iS extends un{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new jn(Wh,jh,e,t);i.layers=this.layers,this.add(i);const s=new jn(Wh,jh,e,t);s.layers=this.layers,this.add(s);const o=new jn(Wh,jh,e,t);o.layers=this.layers,this.add(o);const a=new jn(Wh,jh,e,t);a.layers=this.layers,this.add(a);const u=new jn(Wh,jh,e,t);u.layers=this.layers,this.add(u);const c=new jn(Wh,jh,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,s,o,a,u]=t;for(const c of t)this.remove(c);if(e===Oo)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===wd)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,u,c,h]=this.children,p=e.getRenderTarget(),g=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const x=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,s),e.setRenderTarget(n,1,i),e.render(t,o),e.setRenderTarget(n,2,i),e.render(t,a),e.setRenderTarget(n,3,i),e.render(t,u),e.setRenderTarget(n,4,i),e.render(t,c),n.texture.generateMipmaps=x,e.setRenderTarget(n,5,i),e.render(t,h),e.setRenderTarget(p,g,v),e.xr.enabled=_,n.texture.needsPMREMUpdate=!0}}class ng extends On{constructor(e,t,n,i,s,o,a,u,c,h){e=e!==void 0?e:[],t=t!==void 0?t:gl,super(e,t,n,i,s,o,a,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rS extends zo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];t.encoding!==void 0&&(gm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===_u?mi:Es),this.texture=new ng(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Zn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Tf(5,5,5),s=new ga({name:"CubemapFromEquirect",uniforms:Td(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Gr,blending:fl});s.uniforms.tEquirect.value=t;const o=new vi(i,s),a=t.minFilter;return t.minFilter===ma&&(t.minFilter=Zn),new iS(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(s)}}const J_=new W,cF=new W,fF=new Zt;class sl{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=J_.subVectors(n,t).cross(cF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(J_),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||fF.getNormalMatrix(e),i=this.coplanarPoint(J_).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const bc=new or,D0=new W;class ig{constructor(e=new sl,t=new sl,n=new sl,i=new sl,s=new sl,o=new sl){this.planes=[e,t,n,i,s,o]}set(e,t,n,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Oo){const n=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],u=i[3],c=i[4],h=i[5],p=i[6],g=i[7],v=i[8],_=i[9],x=i[10],A=i[11],S=i[12],C=i[13],E=i[14],R=i[15];if(n[0].setComponents(u-s,g-c,A-v,R-S).normalize(),n[1].setComponents(u+s,g+c,A+v,R+S).normalize(),n[2].setComponents(u+o,g+h,A+_,R+C).normalize(),n[3].setComponents(u-o,g-h,A-_,R-C).normalize(),n[4].setComponents(u-a,g-p,A-x,R-E).normalize(),t===Oo)n[5].setComponents(u+a,g+p,A+x,R+E).normalize();else if(t===wd)n[5].setComponents(a,p,x,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),bc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bc)}intersectsSprite(e){return bc.center.set(0,0,0),bc.radius=.7071067811865476,bc.applyMatrix4(e.matrixWorld),this.intersectsSphere(bc)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(D0.x=i.normal.x>0?e.max.x:e.min.x,D0.y=i.normal.y>0?e.max.y:e.min.y,D0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(D0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function kR(){let r=null,e=!1,t=null,n=null;function i(s,o){t(s,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function hF(r,e){const t=e.isWebGL2,n=new WeakMap;function i(c,h){const p=c.array,g=c.usage,v=p.byteLength,_=r.createBuffer();r.bindBuffer(h,_),r.bufferData(h,p,g),c.onUploadCallback();let x;if(p instanceof Float32Array)x=r.FLOAT;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)x=r.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=r.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=r.SHORT;else if(p instanceof Uint32Array)x=r.UNSIGNED_INT;else if(p instanceof Int32Array)x=r.INT;else if(p instanceof Int8Array)x=r.BYTE;else if(p instanceof Uint8Array)x=r.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:_,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:v}}function s(c,h,p){const g=h.array,v=h._updateRange,_=h.updateRanges;if(r.bindBuffer(p,c),v.count===-1&&_.length===0&&r.bufferSubData(p,0,g),_.length!==0){for(let x=0,A=_.length;x<A;x++){const S=_[x];t?r.bufferSubData(p,S.start*g.BYTES_PER_ELEMENT,g,S.start,S.count):r.bufferSubData(p,S.start*g.BYTES_PER_ELEMENT,g.subarray(S.start,S.start+S.count))}h.clearUpdateRanges()}v.count!==-1&&(t?r.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g,v.offset,v.count):r.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=n.get(c);h&&(r.deleteBuffer(h.buffer),n.delete(c))}function u(c,h){if(c.isGLBufferAttribute){const g=n.get(c);(!g||g.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=n.get(c);if(p===void 0)n.set(c,i(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(p.buffer,c,h),p.version=c.version}}return{get:o,remove:a,update:u}}class rg extends Vt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(n),u=Math.floor(i),c=a+1,h=u+1,p=e/a,g=t/u,v=[],_=[],x=[],A=[];for(let S=0;S<h;S++){const C=S*g-o;for(let E=0;E<c;E++){const R=E*p-s;_.push(R,-C,0),x.push(0,0,1),A.push(E/a),A.push(1-S/u)}}for(let S=0;S<u;S++)for(let C=0;C<a;C++){const E=C+c*S,R=C+c*(S+1),B=C+1+c*(S+1),I=C+1+c*S;v.push(E,R,I),v.push(R,B,I)}this.setIndex(v),this.setAttribute("position",new yt(_,3)),this.setAttribute("normal",new yt(x,3)),this.setAttribute("uv",new yt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rg(e.width,e.height,e.widthSegments,e.heightSegments)}}var dF=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,pF=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,mF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,gF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vF=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,yF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_F=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,xF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,AF=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,SF=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,MF=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,wF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,EF=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,TF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,CF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,RF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,PF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,BF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,LF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,IF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,FF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,OF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,NF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,UF=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,zF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,GF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VF="gl_FragColor = linearToOutputTexel( gl_FragColor );",WF=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,jF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,XF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,JF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,KF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,QF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ZF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$F=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,e3=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,t3=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,n3=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,i3=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,r3=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,s3=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,o3=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,a3=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,l3=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,u3=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,c3=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,f3=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,h3=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,d3=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,p3=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,m3=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,g3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,v3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,y3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,_3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,x3=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,A3=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,S3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,M3=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,w3=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,E3=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,T3=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,C3=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,b3=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,R3=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,P3=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,B3=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,L3=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D3=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,I3=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,F3=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,O3=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,N3=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,U3=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,k3=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,z3=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,G3=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,H3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,V3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,W3=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,j3=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,X3=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,J3=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Y3=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,K3=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Q3=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,q3=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Z3=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$3=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,eO=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tO=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nO=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,iO=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rO=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sO=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oO=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,aO=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,lO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,fO=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hO=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dO=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mO=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vO=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,_O=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,xO=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,AO=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,SO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,MO=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wO=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EO=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,CO=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bO=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RO=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PO=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,BO=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LO=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DO=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,IO=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FO=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OO=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NO=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UO=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kO=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zO=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,GO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HO=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VO=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,WO=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Kt={alphahash_fragment:dF,alphahash_pars_fragment:pF,alphamap_fragment:mF,alphamap_pars_fragment:gF,alphatest_fragment:vF,alphatest_pars_fragment:yF,aomap_fragment:_F,aomap_pars_fragment:xF,batching_pars_vertex:AF,batching_vertex:SF,begin_vertex:MF,beginnormal_vertex:wF,bsdfs:EF,iridescence_fragment:TF,bumpmap_pars_fragment:CF,clipping_planes_fragment:bF,clipping_planes_pars_fragment:RF,clipping_planes_pars_vertex:PF,clipping_planes_vertex:BF,color_fragment:LF,color_pars_fragment:DF,color_pars_vertex:IF,color_vertex:FF,common:OF,cube_uv_reflection_fragment:NF,defaultnormal_vertex:UF,displacementmap_pars_vertex:kF,displacementmap_vertex:zF,emissivemap_fragment:GF,emissivemap_pars_fragment:HF,colorspace_fragment:VF,colorspace_pars_fragment:WF,envmap_fragment:jF,envmap_common_pars_fragment:XF,envmap_pars_fragment:JF,envmap_pars_vertex:YF,envmap_physical_pars_fragment:o3,envmap_vertex:KF,fog_vertex:QF,fog_pars_vertex:qF,fog_fragment:ZF,fog_pars_fragment:$F,gradientmap_pars_fragment:e3,lightmap_fragment:t3,lightmap_pars_fragment:n3,lights_lambert_fragment:i3,lights_lambert_pars_fragment:r3,lights_pars_begin:s3,lights_toon_fragment:a3,lights_toon_pars_fragment:l3,lights_phong_fragment:u3,lights_phong_pars_fragment:c3,lights_physical_fragment:f3,lights_physical_pars_fragment:h3,lights_fragment_begin:d3,lights_fragment_maps:p3,lights_fragment_end:m3,logdepthbuf_fragment:g3,logdepthbuf_pars_fragment:v3,logdepthbuf_pars_vertex:y3,logdepthbuf_vertex:_3,map_fragment:x3,map_pars_fragment:A3,map_particle_fragment:S3,map_particle_pars_fragment:M3,metalnessmap_fragment:w3,metalnessmap_pars_fragment:E3,morphcolor_vertex:T3,morphnormal_vertex:C3,morphtarget_pars_vertex:b3,morphtarget_vertex:R3,normal_fragment_begin:P3,normal_fragment_maps:B3,normal_pars_fragment:L3,normal_pars_vertex:D3,normal_vertex:I3,normalmap_pars_fragment:F3,clearcoat_normal_fragment_begin:O3,clearcoat_normal_fragment_maps:N3,clearcoat_pars_fragment:U3,iridescence_pars_fragment:k3,opaque_fragment:z3,packing:G3,premultiplied_alpha_fragment:H3,project_vertex:V3,dithering_fragment:W3,dithering_pars_fragment:j3,roughnessmap_fragment:X3,roughnessmap_pars_fragment:J3,shadowmap_pars_fragment:Y3,shadowmap_pars_vertex:K3,shadowmap_vertex:Q3,shadowmask_pars_fragment:q3,skinbase_vertex:Z3,skinning_pars_vertex:$3,skinning_vertex:eO,skinnormal_vertex:tO,specularmap_fragment:nO,specularmap_pars_fragment:iO,tonemapping_fragment:rO,tonemapping_pars_fragment:sO,transmission_fragment:oO,transmission_pars_fragment:aO,uv_pars_fragment:lO,uv_pars_vertex:uO,uv_vertex:cO,worldpos_vertex:fO,background_vert:hO,background_frag:dO,backgroundCube_vert:pO,backgroundCube_frag:mO,cube_vert:gO,cube_frag:vO,depth_vert:yO,depth_frag:_O,distanceRGBA_vert:xO,distanceRGBA_frag:AO,equirect_vert:SO,equirect_frag:MO,linedashed_vert:wO,linedashed_frag:EO,meshbasic_vert:TO,meshbasic_frag:CO,meshlambert_vert:bO,meshlambert_frag:RO,meshmatcap_vert:PO,meshmatcap_frag:BO,meshnormal_vert:LO,meshnormal_frag:DO,meshphong_vert:IO,meshphong_frag:FO,meshphysical_vert:OO,meshphysical_frag:NO,meshtoon_vert:UO,meshtoon_frag:kO,points_vert:zO,points_frag:GO,shadow_vert:HO,shadow_frag:VO,sprite_vert:WO,sprite_frag:jO},st={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Zt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Zt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Zt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Zt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Zt},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Zt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Zt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Zt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Zt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0},uvTransform:{value:new Zt}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}}},Io={basic:{uniforms:Nr([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:Kt.meshbasic_vert,fragmentShader:Kt.meshbasic_frag},lambert:{uniforms:Nr([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new ot(0)}}]),vertexShader:Kt.meshlambert_vert,fragmentShader:Kt.meshlambert_frag},phong:{uniforms:Nr([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:Kt.meshphong_vert,fragmentShader:Kt.meshphong_frag},standard:{uniforms:Nr([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag},toon:{uniforms:Nr([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new ot(0)}}]),vertexShader:Kt.meshtoon_vert,fragmentShader:Kt.meshtoon_frag},matcap:{uniforms:Nr([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:Kt.meshmatcap_vert,fragmentShader:Kt.meshmatcap_frag},points:{uniforms:Nr([st.points,st.fog]),vertexShader:Kt.points_vert,fragmentShader:Kt.points_frag},dashed:{uniforms:Nr([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kt.linedashed_vert,fragmentShader:Kt.linedashed_frag},depth:{uniforms:Nr([st.common,st.displacementmap]),vertexShader:Kt.depth_vert,fragmentShader:Kt.depth_frag},normal:{uniforms:Nr([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:Kt.meshnormal_vert,fragmentShader:Kt.meshnormal_frag},sprite:{uniforms:Nr([st.sprite,st.fog]),vertexShader:Kt.sprite_vert,fragmentShader:Kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Zt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Kt.background_vert,fragmentShader:Kt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Kt.backgroundCube_vert,fragmentShader:Kt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Kt.cube_vert,fragmentShader:Kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kt.equirect_vert,fragmentShader:Kt.equirect_frag},distanceRGBA:{uniforms:Nr([st.common,st.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kt.distanceRGBA_vert,fragmentShader:Kt.distanceRGBA_frag},shadow:{uniforms:Nr([st.lights,st.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:Kt.shadow_vert,fragmentShader:Kt.shadow_frag}};Io.physical={uniforms:Nr([Io.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Zt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Zt},clearcoatNormalScale:{value:new Le(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Zt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Zt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Zt},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Zt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Zt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Zt},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Zt},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Zt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Zt},anisotropyVector:{value:new Le},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Zt}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag};const I0={r:0,b:0,g:0};function XO(r,e,t,n,i,s,o){const a=new ot(0);let u=s===!0?0:1,c,h,p=null,g=0,v=null;function _(A,S){let C=!1,E=S.isScene===!0?S.background:null;E&&E.isTexture&&(E=(S.backgroundBlurriness>0?t:e).get(E)),E===null?x(a,u):E&&E.isColor&&(x(E,1),C=!0);const R=r.xr.getEnvironmentBlendMode();R==="additive"?n.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(r.autoClear||C)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),E&&(E.isCubeTexture||E.mapping===kd)?(h===void 0&&(h=new vi(new Tf(1,1,1),new ga({name:"BackgroundCubeMaterial",uniforms:Td(Io.backgroundCube.uniforms),vertexShader:Io.backgroundCube.vertexShader,fragmentShader:Io.backgroundCube.fragmentShader,side:Gr,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(B,I,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=E,h.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,h.material.toneMapped=_n.getTransfer(E.colorSpace)!==In,(p!==E||g!==E.version||v!==r.toneMapping)&&(h.material.needsUpdate=!0,p=E,g=E.version,v=r.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new vi(new rg(2,2),new ga({name:"BackgroundMaterial",uniforms:Td(Io.background.uniforms),vertexShader:Io.background.vertexShader,fragmentShader:Io.background.fragmentShader,side:pa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=_n.getTransfer(E.colorSpace)!==In,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(p!==E||g!==E.version||v!==r.toneMapping)&&(c.material.needsUpdate=!0,p=E,g=E.version,v=r.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function x(A,S){A.getRGB(I0,NR(r)),n.buffers.color.setClear(I0.r,I0.g,I0.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(A,S=1){a.set(A),u=S,x(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(A){u=A,x(a,u)},render:_}}function JO(r,e,t,n){const i=r.getParameter(r.MAX_VERTEX_ATTRIBS),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||s!==null,a={},u=A(null);let c=u,h=!1;function p(J,ie,se,le,Q){let Y=!1;if(o){const V=x(le,se,ie);c!==V&&(c=V,v(c.object)),Y=S(J,le,se,Q),Y&&C(J,le,se,Q)}else{const V=ie.wireframe===!0;(c.geometry!==le.id||c.program!==se.id||c.wireframe!==V)&&(c.geometry=le.id,c.program=se.id,c.wireframe=V,Y=!0)}Q!==null&&t.update(Q,r.ELEMENT_ARRAY_BUFFER),(Y||h)&&(h=!1,U(J,ie,se,le),Q!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.get(Q).buffer))}function g(){return n.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}function v(J){return n.isWebGL2?r.bindVertexArray(J):s.bindVertexArrayOES(J)}function _(J){return n.isWebGL2?r.deleteVertexArray(J):s.deleteVertexArrayOES(J)}function x(J,ie,se){const le=se.wireframe===!0;let Q=a[J.id];Q===void 0&&(Q={},a[J.id]=Q);let Y=Q[ie.id];Y===void 0&&(Y={},Q[ie.id]=Y);let V=Y[le];return V===void 0&&(V=A(g()),Y[le]=V),V}function A(J){const ie=[],se=[],le=[];for(let Q=0;Q<i;Q++)ie[Q]=0,se[Q]=0,le[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ie,enabledAttributes:se,attributeDivisors:le,object:J,attributes:{},index:null}}function S(J,ie,se,le){const Q=c.attributes,Y=ie.attributes;let V=0;const k=se.getAttributes();for(const K in k)if(k[K].location>=0){const j=Q[K];let Te=Y[K];if(Te===void 0&&(K==="instanceMatrix"&&J.instanceMatrix&&(Te=J.instanceMatrix),K==="instanceColor"&&J.instanceColor&&(Te=J.instanceColor)),j===void 0||j.attribute!==Te||Te&&j.data!==Te.data)return!0;V++}return c.attributesNum!==V||c.index!==le}function C(J,ie,se,le){const Q={},Y=ie.attributes;let V=0;const k=se.getAttributes();for(const K in k)if(k[K].location>=0){let j=Y[K];j===void 0&&(K==="instanceMatrix"&&J.instanceMatrix&&(j=J.instanceMatrix),K==="instanceColor"&&J.instanceColor&&(j=J.instanceColor));const Te={};Te.attribute=j,j&&j.data&&(Te.data=j.data),Q[K]=Te,V++}c.attributes=Q,c.attributesNum=V,c.index=le}function E(){const J=c.newAttributes;for(let ie=0,se=J.length;ie<se;ie++)J[ie]=0}function R(J){B(J,0)}function B(J,ie){const se=c.newAttributes,le=c.enabledAttributes,Q=c.attributeDivisors;se[J]=1,le[J]===0&&(r.enableVertexAttribArray(J),le[J]=1),Q[J]!==ie&&((n.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](J,ie),Q[J]=ie)}function I(){const J=c.newAttributes,ie=c.enabledAttributes;for(let se=0,le=ie.length;se<le;se++)ie[se]!==J[se]&&(r.disableVertexAttribArray(se),ie[se]=0)}function O(J,ie,se,le,Q,Y,V){V===!0?r.vertexAttribIPointer(J,ie,se,Q,Y):r.vertexAttribPointer(J,ie,se,le,Q,Y)}function U(J,ie,se,le){if(n.isWebGL2===!1&&(J.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const Q=le.attributes,Y=se.getAttributes(),V=ie.defaultAttributeValues;for(const k in Y){const K=Y[k];if(K.location>=0){let re=Q[k];if(re===void 0&&(k==="instanceMatrix"&&J.instanceMatrix&&(re=J.instanceMatrix),k==="instanceColor"&&J.instanceColor&&(re=J.instanceColor)),re!==void 0){const j=re.normalized,Te=re.itemSize,me=t.get(re);if(me===void 0)continue;const Re=me.buffer,Ue=me.type,We=me.bytesPerElement,De=n.isWebGL2===!0&&(Ue===r.INT||Ue===r.UNSIGNED_INT||re.gpuType===z1);if(re.isInterleavedBufferAttribute){const Oe=re.data,ne=Oe.stride,Ie=re.offset;if(Oe.isInstancedInterleavedBuffer){for(let Ce=0;Ce<K.locationSize;Ce++)B(K.location+Ce,Oe.meshPerAttribute);J.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let Ce=0;Ce<K.locationSize;Ce++)R(K.location+Ce);r.bindBuffer(r.ARRAY_BUFFER,Re);for(let Ce=0;Ce<K.locationSize;Ce++)O(K.location+Ce,Te/K.locationSize,Ue,j,ne*We,(Ie+Te/K.locationSize*Ce)*We,De)}else{if(re.isInstancedBufferAttribute){for(let Oe=0;Oe<K.locationSize;Oe++)B(K.location+Oe,re.meshPerAttribute);J.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Oe=0;Oe<K.locationSize;Oe++)R(K.location+Oe);r.bindBuffer(r.ARRAY_BUFFER,Re);for(let Oe=0;Oe<K.locationSize;Oe++)O(K.location+Oe,Te/K.locationSize,Ue,j,Te*We,Te/K.locationSize*Oe*We,De)}}else if(V!==void 0){const j=V[k];if(j!==void 0)switch(j.length){case 2:r.vertexAttrib2fv(K.location,j);break;case 3:r.vertexAttrib3fv(K.location,j);break;case 4:r.vertexAttrib4fv(K.location,j);break;default:r.vertexAttrib1fv(K.location,j)}}}}I()}function L(){q();for(const J in a){const ie=a[J];for(const se in ie){const le=ie[se];for(const Q in le)_(le[Q].object),delete le[Q];delete ie[se]}delete a[J]}}function N(J){if(a[J.id]===void 0)return;const ie=a[J.id];for(const se in ie){const le=ie[se];for(const Q in le)_(le[Q].object),delete le[Q];delete ie[se]}delete a[J.id]}function H(J){for(const ie in a){const se=a[ie];if(se[J.id]===void 0)continue;const le=se[J.id];for(const Q in le)_(le[Q].object),delete le[Q];delete se[J.id]}}function q(){oe(),h=!0,c!==u&&(c=u,v(c.object))}function oe(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:p,reset:q,resetDefaultState:oe,dispose:L,releaseStatesOfGeometry:N,releaseStatesOfProgram:H,initAttributes:E,enableAttribute:R,disableUnusedAttributes:I}}function YO(r,e,t,n){const i=n.isWebGL2;let s;function o(h){s=h}function a(h,p){r.drawArrays(s,h,p),t.update(p,s,1)}function u(h,p,g){if(g===0)return;let v,_;if(i)v=r,_="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,h,p,g),t.update(p,s,g)}function c(h,p,g){if(g===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<g;_++)this.render(h[_],p[_]);else{v.multiDrawArraysWEBGL(s,h,0,p,0,g);let _=0;for(let x=0;x<g;x++)_+=p[x];t.update(_,s,1)}}this.setMode=o,this.render=a,this.renderInstances=u,this.renderMultiDraw=c}function KO(r,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(O){if(O==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&r.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const u=s(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,p=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),g=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=r.getParameter(r.MAX_TEXTURE_SIZE),_=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),x=r.getParameter(r.MAX_VERTEX_ATTRIBS),A=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),S=r.getParameter(r.MAX_VARYING_VECTORS),C=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),E=g>0,R=o||e.has("OES_texture_float"),B=E&&R,I=o?r.getParameter(r.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:_,maxAttributes:x,maxVertexUniforms:A,maxVaryings:S,maxFragmentUniforms:C,vertexTextures:E,floatFragmentTextures:R,floatVertexTextures:B,maxSamples:I}}function QO(r){const e=this;let t=null,n=0,i=!1,s=!1;const o=new sl,a=new Zt,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g){const v=p.length!==0||g||n!==0||i;return i=g,n=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,g){t=h(p,g,0)},this.setState=function(p,g,v){const _=p.clippingPlanes,x=p.clipIntersection,A=p.clipShadows,S=r.get(p);if(!i||_===null||_.length===0||s&&!A)s?h(null):c();else{const C=s?0:n,E=C*4;let R=S.clippingState||null;u.value=R,R=h(_,g,E,v);for(let B=0;B!==E;++B)R[B]=t[B];S.clippingState=R,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=C}};function c(){u.value!==t&&(u.value=t,u.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function h(p,g,v,_){const x=p!==null?p.length:0;let A=null;if(x!==0){if(A=u.value,_!==!0||A===null){const S=v+x*4,C=g.matrixWorldInverse;a.getNormalMatrix(C),(A===null||A.length<S)&&(A=new Float32Array(S));for(let E=0,R=v;E!==x;++E,R+=4)o.copy(p[E]).applyMatrix4(C,a),o.normal.toArray(A,R),A[R+3]=o.constant}u.value=A,u.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,A}}function qO(r){let e=new WeakMap;function t(o,a){return a===bm?o.mapping=gl:a===Rm&&(o.mapping=wu),o}function n(o){if(o&&o.isTexture){const a=o.mapping;if(a===bm||a===Rm)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const c=new rS(u.height/2);return c.fromEquirectangularTexture(r,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Uo extends tg{constructor(e=-1,t=1,n=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,u=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const rd=4,Uw=[.125,.215,.35,.446,.526,.582],Jc=20,Y_=new Uo,kw=new ot;let K_=null,Q_=0,q_=0;const Vc=(1+Math.sqrt(5))/2,Xh=1/Vc,zw=[new W(1,1,1),new W(-1,1,1),new W(1,1,-1),new W(-1,1,-1),new W(0,Vc,Xh),new W(0,Vc,-Xh),new W(Xh,0,Vc),new W(-Xh,0,Vc),new W(Vc,Xh,0),new W(-Vc,Xh,0)];class XA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){K_=this._renderer.getRenderTarget(),Q_=this._renderer.getActiveCubeFace(),q_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Vw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Hw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(K_,Q_,q_),e.scissorTest=!1,F0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===gl||e.mapping===wu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),K_=this._renderer.getRenderTarget(),Q_=this._renderer.getActiveCubeFace(),q_=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Zn,minFilter:Zn,generateMipmaps:!1,type:Sd,format:kr,colorSpace:ko,depthBuffer:!1},i=Gw(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Gw(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ZO(s)),this._blurMaterial=$O(s,e,t)}return i}_compileMaterial(e){const t=new vi(this._lodPlanes[0],e);this._renderer.compile(t,Y_)}_sceneToCubeUV(e,t,n,i){const a=new jn(90,1,t,n),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,g=h.toneMapping;h.getClearColor(kw),h.toneMapping=ca,h.autoClear=!1;const v=new Cs({name:"PMREM.Background",side:Gr,depthWrite:!1,depthTest:!1}),_=new vi(new Tf,v);let x=!1;const A=e.background;A?A.isColor&&(v.color.copy(A),e.background=null,x=!0):(v.color.copy(kw),x=!0);for(let S=0;S<6;S++){const C=S%3;C===0?(a.up.set(0,u[S],0),a.lookAt(c[S],0,0)):C===1?(a.up.set(0,0,u[S]),a.lookAt(0,c[S],0)):(a.up.set(0,u[S],0),a.lookAt(0,0,c[S]));const E=this._cubeSize;F0(i,C*E,S>2?E:0,E,E),h.setRenderTarget(i),x&&h.render(_,a),h.render(e,a)}_.geometry.dispose(),_.material.dispose(),h.toneMapping=g,h.autoClear=p,e.background=A}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===gl||e.mapping===wu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Vw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Hw());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new vi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const u=this._cubeSize;F0(t,0,0,3*u,2*u),n.setRenderTarget(t),n.render(o,Y_)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=zw[(i-1)%zw.length];this._blur(e,i-1,i,s,o)}t.autoClear=n}_blur(e,t,n,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",s),this._halfBlur(o,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,o,a){const u=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new vi(this._lodPlanes[i],c),g=c.uniforms,v=this._sizeLods[n]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Jc-1),x=s/_,A=isFinite(s)?1+Math.floor(h*x):Jc;A>Jc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Jc}`);const S=[];let C=0;for(let O=0;O<Jc;++O){const U=O/x,L=Math.exp(-U*U/2);S.push(L),O===0?C+=L:O<A&&(C+=2*L)}for(let O=0;O<S.length;O++)S[O]=S[O]/C;g.envMap.value=e.texture,g.samples.value=A,g.weights.value=S,g.latitudinal.value=o==="latitudinal",a&&(g.poleAxis.value=a);const{_lodMax:E}=this;g.dTheta.value=_,g.mipInt.value=E-n;const R=this._sizeLods[i],B=3*R*(i>E-rd?i-E+rd:0),I=4*(this._cubeSize-R);F0(t,B,I,3*R,2*R),u.setRenderTarget(t),u.render(p,Y_)}}function ZO(r){const e=[],t=[],n=[];let i=r;const s=r-rd+1+Uw.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let u=1/a;o>r-rd?u=Uw[o-r+rd-1]:o===0&&(u=0),n.push(u);const c=1/(a-2),h=-c,p=1+c,g=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,_=6,x=3,A=2,S=1,C=new Float32Array(x*_*v),E=new Float32Array(A*_*v),R=new Float32Array(S*_*v);for(let I=0;I<v;I++){const O=I%3*2/3-1,U=I>2?0:-1,L=[O,U,0,O+2/3,U,0,O+2/3,U+1,0,O,U,0,O+2/3,U+1,0,O,U+1,0];C.set(L,x*_*I),E.set(g,A*_*I);const N=[I,I,I,I,I,I];R.set(N,S*_*I)}const B=new Vt;B.setAttribute("position",new on(C,x)),B.setAttribute("uv",new on(E,A)),B.setAttribute("faceIndex",new on(R,S)),e.push(B),i>rd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function Gw(r,e,t){const n=new zo(r,e,t);return n.texture.mapping=kd,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function F0(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function $O(r,e,t){const n=new Float32Array(Jc),i=new W(0,1,0);return new ga({name:"SphericalGaussianBlur",defines:{n:Jc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:sS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fl,depthTest:!1,depthWrite:!1})}function Hw(){return new ga({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fl,depthTest:!1,depthWrite:!1})}function Vw(){return new ga({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fl,depthTest:!1,depthWrite:!1})}function sS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eN(r){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const u=a.mapping,c=u===bm||u===Rm,h=u===gl||u===wu;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let p=e.get(a);return t===null&&(t=new XA(r)),p=c?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}else{if(e.has(a))return e.get(a).texture;{const p=a.image;if(c&&p&&p.height>0||h&&p&&i(p)){t===null&&(t=new XA(r));const g=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",s),g.texture}else return null}}}return a}function i(a){let u=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&u++;return u===c}function s(a){const u=a.target;u.removeEventListener("dispose",s);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function tN(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function nN(r,e,t,n){const i={},s=new WeakMap;function o(p){const g=p.target;g.index!==null&&e.remove(g.index);for(const _ in g.attributes)e.remove(g.attributes[_]);for(const _ in g.morphAttributes){const x=g.morphAttributes[_];for(let A=0,S=x.length;A<S;A++)e.remove(x[A])}g.removeEventListener("dispose",o),delete i[g.id];const v=s.get(g);v&&(e.remove(v),s.delete(g)),n.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,t.memory.geometries--}function a(p,g){return i[g.id]===!0||(g.addEventListener("dispose",o),i[g.id]=!0,t.memory.geometries++),g}function u(p){const g=p.attributes;for(const _ in g)e.update(g[_],r.ARRAY_BUFFER);const v=p.morphAttributes;for(const _ in v){const x=v[_];for(let A=0,S=x.length;A<S;A++)e.update(x[A],r.ARRAY_BUFFER)}}function c(p){const g=[],v=p.index,_=p.attributes.position;let x=0;if(v!==null){const C=v.array;x=v.version;for(let E=0,R=C.length;E<R;E+=3){const B=C[E+0],I=C[E+1],O=C[E+2];g.push(B,I,I,O,O,B)}}else if(_!==void 0){const C=_.array;x=_.version;for(let E=0,R=C.length/3-1;E<R;E+=3){const B=E+0,I=E+1,O=E+2;g.push(B,I,I,O,O,B)}}else return;const A=new(DR(g)?nS:tS)(g,1);A.version=x;const S=s.get(p);S&&e.remove(S),s.set(p,A)}function h(p){const g=s.get(p);if(g){const v=p.index;v!==null&&g.version<v.version&&c(p)}else c(p);return s.get(p)}return{get:a,update:u,getWireframeAttribute:h}}function iN(r,e,t,n){const i=n.isWebGL2;let s;function o(v){s=v}let a,u;function c(v){a=v.type,u=v.bytesPerElement}function h(v,_){r.drawElements(s,_,a,v*u),t.update(_,s,1)}function p(v,_,x){if(x===0)return;let A,S;if(i)A=r,S="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[S](s,_,a,v*u,x),t.update(_,s,x)}function g(v,_,x){if(x===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let S=0;S<x;S++)this.render(v[S]/u,_[S]);else{A.multiDrawElementsWEBGL(s,_,0,a,v,0,x);let S=0;for(let C=0;C<x;C++)S+=_[C];t.update(S,s,1)}}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=g}function rN(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case r.TRIANGLES:t.triangles+=a*(s/3);break;case r.LINES:t.lines+=a*(s/2);break;case r.LINE_STRIP:t.lines+=a*(s-1);break;case r.LINE_LOOP:t.lines+=a*s;break;case r.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function sN(r,e){return r[0]-e[0]}function oN(r,e){return Math.abs(e[1])-Math.abs(r[1])}function aN(r,e,t){const n={},i=new Float32Array(8),s=new WeakMap,o=new xn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function u(c,h,p){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const _=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,x=_!==void 0?_.length:0;let A=s.get(h);if(A===void 0||A.count!==x){let ie=function(){oe.dispose(),s.delete(h),h.removeEventListener("dispose",ie)};var v=ie;A!==void 0&&A.texture.dispose();const E=h.morphAttributes.position!==void 0,R=h.morphAttributes.normal!==void 0,B=h.morphAttributes.color!==void 0,I=h.morphAttributes.position||[],O=h.morphAttributes.normal||[],U=h.morphAttributes.color||[];let L=0;E===!0&&(L=1),R===!0&&(L=2),B===!0&&(L=3);let N=h.attributes.position.count*L,H=1;N>e.maxTextureSize&&(H=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const q=new Float32Array(N*H*4*x),oe=new my(q,N,H,x);oe.type=Fo,oe.needsUpdate=!0;const J=L*4;for(let se=0;se<x;se++){const le=I[se],Q=O[se],Y=U[se],V=N*H*4*se;for(let k=0;k<le.count;k++){const K=k*J;E===!0&&(o.fromBufferAttribute(le,k),q[V+K+0]=o.x,q[V+K+1]=o.y,q[V+K+2]=o.z,q[V+K+3]=0),R===!0&&(o.fromBufferAttribute(Q,k),q[V+K+4]=o.x,q[V+K+5]=o.y,q[V+K+6]=o.z,q[V+K+7]=0),B===!0&&(o.fromBufferAttribute(Y,k),q[V+K+8]=o.x,q[V+K+9]=o.y,q[V+K+10]=o.z,q[V+K+11]=Y.itemSize===4?o.w:1)}}A={count:x,texture:oe,size:new Le(N,H)},s.set(h,A),h.addEventListener("dispose",ie)}let S=0;for(let E=0;E<g.length;E++)S+=g[E];const C=h.morphTargetsRelative?1:1-S;p.getUniforms().setValue(r,"morphTargetBaseInfluence",C),p.getUniforms().setValue(r,"morphTargetInfluences",g),p.getUniforms().setValue(r,"morphTargetsTexture",A.texture,t),p.getUniforms().setValue(r,"morphTargetsTextureSize",A.size)}else{const _=g===void 0?0:g.length;let x=n[h.id];if(x===void 0||x.length!==_){x=[];for(let R=0;R<_;R++)x[R]=[R,0];n[h.id]=x}for(let R=0;R<_;R++){const B=x[R];B[0]=R,B[1]=g[R]}x.sort(oN);for(let R=0;R<8;R++)R<_&&x[R][1]?(a[R][0]=x[R][0],a[R][1]=x[R][1]):(a[R][0]=Number.MAX_SAFE_INTEGER,a[R][1]=0);a.sort(sN);const A=h.morphAttributes.position,S=h.morphAttributes.normal;let C=0;for(let R=0;R<8;R++){const B=a[R],I=B[0],O=B[1];I!==Number.MAX_SAFE_INTEGER&&O?(A&&h.getAttribute("morphTarget"+R)!==A[I]&&h.setAttribute("morphTarget"+R,A[I]),S&&h.getAttribute("morphNormal"+R)!==S[I]&&h.setAttribute("morphNormal"+R,S[I]),i[R]=O,C+=O):(A&&h.hasAttribute("morphTarget"+R)===!0&&h.deleteAttribute("morphTarget"+R),S&&h.hasAttribute("morphNormal"+R)===!0&&h.deleteAttribute("morphNormal"+R),i[R]=0)}const E=h.morphTargetsRelative?1:1-C;p.getUniforms().setValue(r,"morphTargetBaseInfluence",E),p.getUniforms().setValue(r,"morphTargetInfluences",i)}}return{update:u}}function lN(r,e,t,n){let i=new WeakMap;function s(u){const c=n.render.frame,h=u.geometry,p=e.get(u,h);if(i.get(p)!==c&&(e.update(p),i.set(p,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),i.get(u)!==c&&(t.update(u.instanceMatrix,r.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,r.ARRAY_BUFFER),i.set(u,c))),u.isSkinnedMesh){const g=u.skeleton;i.get(g)!==c&&(g.update(),i.set(g,c))}return p}function o(){i=new WeakMap}function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class oS extends On{constructor(e,t,n,i,s,o,a,u,c,h){if(h=h!==void 0?h:yu,h!==yu&&h!==mf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&h===yu&&(n=ll),n===void 0&&h===mf&&(n=vu),super(null,i,s,o,a,u,h,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:oi,this.minFilter=u!==void 0?u:oi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const zR=new On,GR=new oS(1,1);GR.compareFunction=Q1;const HR=new my,VR=new eS,WR=new ng,Ww=[],jw=[],Xw=new Float32Array(16),Jw=new Float32Array(9),Yw=new Float32Array(4);function zd(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let s=Ww[i];if(s===void 0&&(s=new Float32Array(i),Ww[i]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,r[o].toArray(s,a)}return s}function Ui(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function ki(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function gy(r,e){let t=jw[e];t===void 0&&(t=new Int32Array(e),jw[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function uN(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function cN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ui(t,e))return;r.uniform2fv(this.addr,e),ki(t,e)}}function fN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ui(t,e))return;r.uniform3fv(this.addr,e),ki(t,e)}}function hN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ui(t,e))return;r.uniform4fv(this.addr,e),ki(t,e)}}function dN(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ui(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),ki(t,e)}else{if(Ui(t,n))return;Yw.set(n),r.uniformMatrix2fv(this.addr,!1,Yw),ki(t,n)}}function pN(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ui(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),ki(t,e)}else{if(Ui(t,n))return;Jw.set(n),r.uniformMatrix3fv(this.addr,!1,Jw),ki(t,n)}}function mN(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ui(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),ki(t,e)}else{if(Ui(t,n))return;Xw.set(n),r.uniformMatrix4fv(this.addr,!1,Xw),ki(t,n)}}function gN(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function vN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ui(t,e))return;r.uniform2iv(this.addr,e),ki(t,e)}}function yN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ui(t,e))return;r.uniform3iv(this.addr,e),ki(t,e)}}function _N(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ui(t,e))return;r.uniform4iv(this.addr,e),ki(t,e)}}function xN(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function AN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ui(t,e))return;r.uniform2uiv(this.addr,e),ki(t,e)}}function SN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ui(t,e))return;r.uniform3uiv(this.addr,e),ki(t,e)}}function MN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ui(t,e))return;r.uniform4uiv(this.addr,e),ki(t,e)}}function wN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);const s=this.type===r.SAMPLER_2D_SHADOW?GR:zR;t.setTexture2D(e||s,i)}function EN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||VR,i)}function TN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||WR,i)}function CN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||HR,i)}function bN(r){switch(r){case 5126:return uN;case 35664:return cN;case 35665:return fN;case 35666:return hN;case 35674:return dN;case 35675:return pN;case 35676:return mN;case 5124:case 35670:return gN;case 35667:case 35671:return vN;case 35668:case 35672:return yN;case 35669:case 35673:return _N;case 5125:return xN;case 36294:return AN;case 36295:return SN;case 36296:return MN;case 35678:case 36198:case 36298:case 36306:case 35682:return wN;case 35679:case 36299:case 36307:return EN;case 35680:case 36300:case 36308:case 36293:return TN;case 36289:case 36303:case 36311:case 36292:return CN}}function RN(r,e){r.uniform1fv(this.addr,e)}function PN(r,e){const t=zd(e,this.size,2);r.uniform2fv(this.addr,t)}function BN(r,e){const t=zd(e,this.size,3);r.uniform3fv(this.addr,t)}function LN(r,e){const t=zd(e,this.size,4);r.uniform4fv(this.addr,t)}function DN(r,e){const t=zd(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function IN(r,e){const t=zd(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function FN(r,e){const t=zd(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function ON(r,e){r.uniform1iv(this.addr,e)}function NN(r,e){r.uniform2iv(this.addr,e)}function UN(r,e){r.uniform3iv(this.addr,e)}function kN(r,e){r.uniform4iv(this.addr,e)}function zN(r,e){r.uniform1uiv(this.addr,e)}function GN(r,e){r.uniform2uiv(this.addr,e)}function HN(r,e){r.uniform3uiv(this.addr,e)}function VN(r,e){r.uniform4uiv(this.addr,e)}function WN(r,e,t){const n=this.cache,i=e.length,s=gy(t,i);Ui(n,s)||(r.uniform1iv(this.addr,s),ki(n,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||zR,s[o])}function jN(r,e,t){const n=this.cache,i=e.length,s=gy(t,i);Ui(n,s)||(r.uniform1iv(this.addr,s),ki(n,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||VR,s[o])}function XN(r,e,t){const n=this.cache,i=e.length,s=gy(t,i);Ui(n,s)||(r.uniform1iv(this.addr,s),ki(n,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||WR,s[o])}function JN(r,e,t){const n=this.cache,i=e.length,s=gy(t,i);Ui(n,s)||(r.uniform1iv(this.addr,s),ki(n,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||HR,s[o])}function YN(r){switch(r){case 5126:return RN;case 35664:return PN;case 35665:return BN;case 35666:return LN;case 35674:return DN;case 35675:return IN;case 35676:return FN;case 5124:case 35670:return ON;case 35667:case 35671:return NN;case 35668:case 35672:return UN;case 35669:case 35673:return kN;case 5125:return zN;case 36294:return GN;case 36295:return HN;case 36296:return VN;case 35678:case 36198:case 36298:case 36306:case 35682:return WN;case 35679:case 36299:case 36307:return jN;case 35680:case 36300:case 36308:case 36293:return XN;case 36289:case 36303:case 36311:case 36292:return JN}}class KN{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=bN(t.type)}}class QN{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=YN(t.type)}}class qN{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],n)}}}const Z_=/(\w+)(\])?(\[|\.)?/g;function Kw(r,e){r.seq.push(e),r.map[e.id]=e}function ZN(r,e,t){const n=r.name,i=n.length;for(Z_.lastIndex=0;;){const s=Z_.exec(n),o=Z_.lastIndex;let a=s[1];const u=s[2]==="]",c=s[3];if(u&&(a=a|0),c===void 0||c==="["&&o+2===i){Kw(t,c===void 0?new KN(a,r,e):new QN(a,r,e));break}else{let p=t.map[a];p===void 0&&(p=new qN(a),Kw(t,p)),t=p}}}class wv{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);ZN(s,o,this)}}setValue(e,t,n,i){const s=this.map[t];s!==void 0&&s.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],u=n[a.id];u.needsUpdate!==!1&&a.setValue(e,u.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&n.push(o)}return n}}function Qw(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const $N=37297;let eU=0;function tU(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}function nU(r){const e=_n.getPrimaries(_n.workingColorSpace),t=_n.getPrimaries(r);let n;switch(e===t?n="":e===Im&&t===Dm?n="LinearDisplayP3ToLinearSRGB":e===Dm&&t===Im&&(n="LinearSRGBToLinearDisplayP3"),r){case ko:case eg:return[n,"LinearTransferOETF"];case mi:case py:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",r),[n,"LinearTransferOETF"]}}function qw(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+tU(r.getShaderSource(e),o)}else return i}function iU(r,e){const t=nU(e);return`vec4 ${r}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function rU(r,e){let t;switch(e){case oR:t="Linear";break;case aR:t="Reinhard";break;case lR:t="OptimizedCineon";break;case k1:t="ACESFilmic";break;case uR:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function sU(r){return[r.extensionDerivatives||r.envMapCubeUVHeight||r.bumpMap||r.normalMapTangentSpace||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(cm).join(`
`)}function oU(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function aU(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=r.getActiveAttrib(e,i),o=s.name;let a=1;s.type===r.FLOAT_MAT2&&(a=2),s.type===r.FLOAT_MAT3&&(a=3),s.type===r.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:r.getAttribLocation(e,o),locationSize:a}}return t}function cm(r){return r!==""}function Zw(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $w(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lU=/^[ \t]*#include +<([\w\d./]+)>/gm;function JA(r){return r.replace(lU,cU)}const uU=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function cU(r,e){let t=Kt[e];if(t===void 0){const n=uU.get(e);if(n!==void 0)t=Kt[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return JA(t)}const fU=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eE(r){return r.replace(fU,hU)}function hU(r,e,t,n){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function tE(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function dU(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===uy?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===pm?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Do&&(e="SHADOWMAP_TYPE_VSM"),e}function pU(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case gl:case wu:e="ENVMAP_TYPE_CUBE";break;case kd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function mU(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case wu:e="ENVMAP_MODE_REFRACTION";break}return e}function gU(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case $m:e="ENVMAP_BLENDING_MULTIPLY";break;case rR:e="ENVMAP_BLENDING_MIX";break;case sR:e="ENVMAP_BLENDING_ADD";break}return e}function vU(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function yU(r,e,t,n){const i=r.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const u=dU(t),c=pU(t),h=mU(t),p=gU(t),g=vU(t),v=t.isWebGL2?"":sU(t),_=oU(s),x=i.createProgram();let A,S,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(cm).join(`
`),A.length>0&&(A+=`
`),S=[v,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(cm).join(`
`),S.length>0&&(S+=`
`)):(A=[tE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(cm).join(`
`),S=[v,tE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ca?"#define TONE_MAPPING":"",t.toneMapping!==ca?Kt.tonemapping_pars_fragment:"",t.toneMapping!==ca?rU("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Kt.colorspace_pars_fragment,iU("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(cm).join(`
`)),o=JA(o),o=Zw(o,t),o=$w(o,t),a=JA(a),a=Zw(a,t),a=$w(a,t),o=eE(o),a=eE(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,S=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===WA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===WA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const E=C+A+o,R=C+S+a,B=Qw(i,i.VERTEX_SHADER,E),I=Qw(i,i.FRAGMENT_SHADER,R);i.attachShader(x,B),i.attachShader(x,I),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function O(H){if(r.debug.checkShaderErrors){const q=i.getProgramInfoLog(x).trim(),oe=i.getShaderInfoLog(B).trim(),J=i.getShaderInfoLog(I).trim();let ie=!0,se=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(ie=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,x,B,I);else{const le=qw(i,B,"vertex"),Q=qw(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+q+`
`+le+`
`+Q)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(oe===""||J==="")&&(se=!1);se&&(H.diagnostics={runnable:ie,programLog:q,vertexShader:{log:oe,prefix:A},fragmentShader:{log:J,prefix:S}})}i.deleteShader(B),i.deleteShader(I),U=new wv(i,x),L=aU(i,x)}let U;this.getUniforms=function(){return U===void 0&&O(this),U};let L;this.getAttributes=function(){return L===void 0&&O(this),L};let N=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(x,$N)),N},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=eU++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=B,this.fragmentShader=I,this}let _U=0;class xU{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new AU(e),t.set(e,n)),n}}class AU{constructor(e){this.id=_U++,this.code=e,this.usedTimes=0}}function SU(r,e,t,n,i,s,o){const a=new af,u=new xU,c=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let v=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(L){return L===0?"uv":`uv${L}`}function A(L,N,H,q,oe){const J=q.fog,ie=oe.geometry,se=L.isMeshStandardMaterial?q.environment:null,le=(L.isMeshStandardMaterial?t:e).get(L.envMap||se),Q=le&&le.mapping===kd?le.image.height:null,Y=_[L.type];L.precision!==null&&(v=i.getMaxPrecision(L.precision),v!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",v,"instead."));const V=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,k=V!==void 0?V.length:0;let K=0;ie.morphAttributes.position!==void 0&&(K=1),ie.morphAttributes.normal!==void 0&&(K=2),ie.morphAttributes.color!==void 0&&(K=3);let re,j,Te,me;if(Y){const Tn=Io[Y];re=Tn.vertexShader,j=Tn.fragmentShader}else re=L.vertexShader,j=L.fragmentShader,u.update(L),Te=u.getVertexShaderID(L),me=u.getFragmentShaderID(L);const Re=r.getRenderTarget(),Ue=oe.isInstancedMesh===!0,We=oe.isBatchedMesh===!0,De=!!L.map,Oe=!!L.matcap,ne=!!le,Ie=!!L.aoMap,Ce=!!L.lightMap,Xe=!!L.bumpMap,Fe=!!L.normalMap,lt=!!L.displacementMap,it=!!L.emissiveMap,rt=!!L.metalnessMap,_t=!!L.roughnessMap,It=L.anisotropy>0,en=L.clearcoat>0,Z=L.iridescence>0,G=L.sheen>0,ye=L.transmission>0,Ge=It&&!!L.anisotropyMap,Ne=en&&!!L.clearcoatMap,je=en&&!!L.clearcoatNormalMap,mt=en&&!!L.clearcoatRoughnessMap,Je=Z&&!!L.iridescenceMap,nt=Z&&!!L.iridescenceThicknessMap,Ct=G&&!!L.sheenColorMap,qt=G&&!!L.sheenRoughnessMap,Qe=!!L.specularMap,rn=!!L.specularColorMap,ae=!!L.specularIntensityMap,Pe=ye&&!!L.transmissionMap,ke=ye&&!!L.thicknessMap,He=!!L.gradientMap,St=!!L.alphaMap,ce=L.alphaTest>0,et=!!L.alphaHash,qe=!!L.extensions,Be=!!ie.attributes.uv1,Ye=!!ie.attributes.uv2,xt=!!ie.attributes.uv3;let Ht=ca;return L.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(Ht=r.toneMapping),{isWebGL2:h,shaderID:Y,shaderType:L.type,shaderName:L.name,vertexShader:re,fragmentShader:j,defines:L.defines,customVertexShaderID:Te,customFragmentShaderID:me,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:v,batching:We,instancing:Ue,instancingColor:Ue&&oe.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:Re===null?r.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:ko,map:De,matcap:Oe,envMap:ne,envMapMode:ne&&le.mapping,envMapCubeUVHeight:Q,aoMap:Ie,lightMap:Ce,bumpMap:Xe,normalMap:Fe,displacementMap:g&&lt,emissiveMap:it,normalMapObjectSpace:Fe&&L.normalMapType===ER,normalMapTangentSpace:Fe&&L.normalMapType===Lu,metalnessMap:rt,roughnessMap:_t,anisotropy:It,anisotropyMap:Ge,clearcoat:en,clearcoatMap:Ne,clearcoatNormalMap:je,clearcoatRoughnessMap:mt,iridescence:Z,iridescenceMap:Je,iridescenceThicknessMap:nt,sheen:G,sheenColorMap:Ct,sheenRoughnessMap:qt,specularMap:Qe,specularColorMap:rn,specularIntensityMap:ae,transmission:ye,transmissionMap:Pe,thicknessMap:ke,gradientMap:He,opaque:L.transparent===!1&&L.blending===rf,alphaMap:St,alphaTest:ce,alphaHash:et,combine:L.combine,mapUv:De&&x(L.map.channel),aoMapUv:Ie&&x(L.aoMap.channel),lightMapUv:Ce&&x(L.lightMap.channel),bumpMapUv:Xe&&x(L.bumpMap.channel),normalMapUv:Fe&&x(L.normalMap.channel),displacementMapUv:lt&&x(L.displacementMap.channel),emissiveMapUv:it&&x(L.emissiveMap.channel),metalnessMapUv:rt&&x(L.metalnessMap.channel),roughnessMapUv:_t&&x(L.roughnessMap.channel),anisotropyMapUv:Ge&&x(L.anisotropyMap.channel),clearcoatMapUv:Ne&&x(L.clearcoatMap.channel),clearcoatNormalMapUv:je&&x(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:mt&&x(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Je&&x(L.iridescenceMap.channel),iridescenceThicknessMapUv:nt&&x(L.iridescenceThicknessMap.channel),sheenColorMapUv:Ct&&x(L.sheenColorMap.channel),sheenRoughnessMapUv:qt&&x(L.sheenRoughnessMap.channel),specularMapUv:Qe&&x(L.specularMap.channel),specularColorMapUv:rn&&x(L.specularColorMap.channel),specularIntensityMapUv:ae&&x(L.specularIntensityMap.channel),transmissionMapUv:Pe&&x(L.transmissionMap.channel),thicknessMapUv:ke&&x(L.thicknessMap.channel),alphaMapUv:St&&x(L.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(Fe||It),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,vertexUv1s:Be,vertexUv2s:Ye,vertexUv3s:xt,pointsUvs:oe.isPoints===!0&&!!ie.attributes.uv&&(De||St),fog:!!J,useFog:L.fog===!0,fogExp2:J&&J.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:oe.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:k,morphTextureStride:K,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:r.shadowMap.enabled&&H.length>0,shadowMapType:r.shadowMap.type,toneMapping:Ht,useLegacyLights:r._useLegacyLights,decodeVideoTexture:De&&L.map.isVideoTexture===!0&&_n.getTransfer(L.map.colorSpace)===In,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Zs,flipSided:L.side===Gr,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:qe&&L.extensions.derivatives===!0,extensionFragDepth:qe&&L.extensions.fragDepth===!0,extensionDrawBuffers:qe&&L.extensions.drawBuffers===!0,extensionShaderTextureLOD:qe&&L.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()}}function S(L){const N=[];if(L.shaderID?N.push(L.shaderID):(N.push(L.customVertexShaderID),N.push(L.customFragmentShaderID)),L.defines!==void 0)for(const H in L.defines)N.push(H),N.push(L.defines[H]);return L.isRawShaderMaterial===!1&&(C(N,L),E(N,L),N.push(r.outputColorSpace)),N.push(L.customProgramCacheKey),N.join()}function C(L,N){L.push(N.precision),L.push(N.outputColorSpace),L.push(N.envMapMode),L.push(N.envMapCubeUVHeight),L.push(N.mapUv),L.push(N.alphaMapUv),L.push(N.lightMapUv),L.push(N.aoMapUv),L.push(N.bumpMapUv),L.push(N.normalMapUv),L.push(N.displacementMapUv),L.push(N.emissiveMapUv),L.push(N.metalnessMapUv),L.push(N.roughnessMapUv),L.push(N.anisotropyMapUv),L.push(N.clearcoatMapUv),L.push(N.clearcoatNormalMapUv),L.push(N.clearcoatRoughnessMapUv),L.push(N.iridescenceMapUv),L.push(N.iridescenceThicknessMapUv),L.push(N.sheenColorMapUv),L.push(N.sheenRoughnessMapUv),L.push(N.specularMapUv),L.push(N.specularColorMapUv),L.push(N.specularIntensityMapUv),L.push(N.transmissionMapUv),L.push(N.thicknessMapUv),L.push(N.combine),L.push(N.fogExp2),L.push(N.sizeAttenuation),L.push(N.morphTargetsCount),L.push(N.morphAttributeCount),L.push(N.numDirLights),L.push(N.numPointLights),L.push(N.numSpotLights),L.push(N.numSpotLightMaps),L.push(N.numHemiLights),L.push(N.numRectAreaLights),L.push(N.numDirLightShadows),L.push(N.numPointLightShadows),L.push(N.numSpotLightShadows),L.push(N.numSpotLightShadowsWithMaps),L.push(N.numLightProbes),L.push(N.shadowMapType),L.push(N.toneMapping),L.push(N.numClippingPlanes),L.push(N.numClipIntersection),L.push(N.depthPacking)}function E(L,N){a.disableAll(),N.isWebGL2&&a.enable(0),N.supportsVertexTextures&&a.enable(1),N.instancing&&a.enable(2),N.instancingColor&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),L.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.skinning&&a.enable(4),N.morphTargets&&a.enable(5),N.morphNormals&&a.enable(6),N.morphColors&&a.enable(7),N.premultipliedAlpha&&a.enable(8),N.shadowMapEnabled&&a.enable(9),N.useLegacyLights&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),L.push(a.mask)}function R(L){const N=_[L.type];let H;if(N){const q=Io[N];H=UR.clone(q.uniforms)}else H=L.uniforms;return H}function B(L,N){let H;for(let q=0,oe=c.length;q<oe;q++){const J=c[q];if(J.cacheKey===N){H=J,++H.usedTimes;break}}return H===void 0&&(H=new yU(r,N,L,s),c.push(H)),H}function I(L){if(--L.usedTimes===0){const N=c.indexOf(L);c[N]=c[c.length-1],c.pop(),L.destroy()}}function O(L){u.remove(L)}function U(){u.dispose()}return{getParameters:A,getProgramCacheKey:S,getUniforms:R,acquireProgram:B,releaseProgram:I,releaseShaderCache:O,programs:c,dispose:U}}function MU(){let r=new WeakMap;function e(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function t(s){r.delete(s)}function n(s,o,a){r.get(s)[o]=a}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function wU(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function nE(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function iE(){const r=[];let e=0;const t=[],n=[],i=[];function s(){e=0,t.length=0,n.length=0,i.length=0}function o(p,g,v,_,x,A){let S=r[e];return S===void 0?(S={id:p.id,object:p,geometry:g,material:v,groupOrder:_,renderOrder:p.renderOrder,z:x,group:A},r[e]=S):(S.id=p.id,S.object=p,S.geometry=g,S.material=v,S.groupOrder=_,S.renderOrder=p.renderOrder,S.z=x,S.group=A),e++,S}function a(p,g,v,_,x,A){const S=o(p,g,v,_,x,A);v.transmission>0?n.push(S):v.transparent===!0?i.push(S):t.push(S)}function u(p,g,v,_,x,A){const S=o(p,g,v,_,x,A);v.transmission>0?n.unshift(S):v.transparent===!0?i.unshift(S):t.unshift(S)}function c(p,g){t.length>1&&t.sort(p||wU),n.length>1&&n.sort(g||nE),i.length>1&&i.sort(g||nE)}function h(){for(let p=e,g=r.length;p<g;p++){const v=r[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:n,transparent:i,init:s,push:a,unshift:u,finish:h,sort:c}}function EU(){let r=new WeakMap;function e(n,i){const s=r.get(n);let o;return s===void 0?(o=new iE,r.set(n,[o])):i>=s.length?(o=new iE,s.push(o)):o=s[i],o}function t(){r=new WeakMap}return{get:e,dispose:t}}function TU(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new ot};break;case"SpotLight":t={position:new W,direction:new W,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":t={color:new ot,position:new W,halfWidth:new W,halfHeight:new W};break}return r[e.id]=t,t}}}function CU(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let bU=0;function RU(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function PU(r,e){const t=new TU,n=CU(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new W);const s=new W,o=new Rt,a=new Rt;function u(h,p){let g=0,v=0,_=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let x=0,A=0,S=0,C=0,E=0,R=0,B=0,I=0,O=0,U=0,L=0;h.sort(RU);const N=p===!0?Math.PI:1;for(let q=0,oe=h.length;q<oe;q++){const J=h[q],ie=J.color,se=J.intensity,le=J.distance,Q=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)g+=ie.r*se*N,v+=ie.g*se*N,_+=ie.b*se*N;else if(J.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(J.sh.coefficients[Y],se);L++}else if(J.isDirectionalLight){const Y=t.get(J);if(Y.color.copy(J.color).multiplyScalar(J.intensity*N),J.castShadow){const V=J.shadow,k=n.get(J);k.shadowBias=V.bias,k.shadowNormalBias=V.normalBias,k.shadowRadius=V.radius,k.shadowMapSize=V.mapSize,i.directionalShadow[x]=k,i.directionalShadowMap[x]=Q,i.directionalShadowMatrix[x]=J.shadow.matrix,R++}i.directional[x]=Y,x++}else if(J.isSpotLight){const Y=t.get(J);Y.position.setFromMatrixPosition(J.matrixWorld),Y.color.copy(ie).multiplyScalar(se*N),Y.distance=le,Y.coneCos=Math.cos(J.angle),Y.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),Y.decay=J.decay,i.spot[S]=Y;const V=J.shadow;if(J.map&&(i.spotLightMap[O]=J.map,O++,V.updateMatrices(J),J.castShadow&&U++),i.spotLightMatrix[S]=V.matrix,J.castShadow){const k=n.get(J);k.shadowBias=V.bias,k.shadowNormalBias=V.normalBias,k.shadowRadius=V.radius,k.shadowMapSize=V.mapSize,i.spotShadow[S]=k,i.spotShadowMap[S]=Q,I++}S++}else if(J.isRectAreaLight){const Y=t.get(J);Y.color.copy(ie).multiplyScalar(se),Y.halfWidth.set(J.width*.5,0,0),Y.halfHeight.set(0,J.height*.5,0),i.rectArea[C]=Y,C++}else if(J.isPointLight){const Y=t.get(J);if(Y.color.copy(J.color).multiplyScalar(J.intensity*N),Y.distance=J.distance,Y.decay=J.decay,J.castShadow){const V=J.shadow,k=n.get(J);k.shadowBias=V.bias,k.shadowNormalBias=V.normalBias,k.shadowRadius=V.radius,k.shadowMapSize=V.mapSize,k.shadowCameraNear=V.camera.near,k.shadowCameraFar=V.camera.far,i.pointShadow[A]=k,i.pointShadowMap[A]=Q,i.pointShadowMatrix[A]=J.shadow.matrix,B++}i.point[A]=Y,A++}else if(J.isHemisphereLight){const Y=t.get(J);Y.skyColor.copy(J.color).multiplyScalar(se*N),Y.groundColor.copy(J.groundColor).multiplyScalar(se*N),i.hemi[E]=Y,E++}}C>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=st.LTC_FLOAT_1,i.rectAreaLTC2=st.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=st.LTC_HALF_1,i.rectAreaLTC2=st.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=_;const H=i.hash;(H.directionalLength!==x||H.pointLength!==A||H.spotLength!==S||H.rectAreaLength!==C||H.hemiLength!==E||H.numDirectionalShadows!==R||H.numPointShadows!==B||H.numSpotShadows!==I||H.numSpotMaps!==O||H.numLightProbes!==L)&&(i.directional.length=x,i.spot.length=S,i.rectArea.length=C,i.point.length=A,i.hemi.length=E,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=I,i.spotShadowMap.length=I,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=I+O-U,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=L,H.directionalLength=x,H.pointLength=A,H.spotLength=S,H.rectAreaLength=C,H.hemiLength=E,H.numDirectionalShadows=R,H.numPointShadows=B,H.numSpotShadows=I,H.numSpotMaps=O,H.numLightProbes=L,i.version=bU++)}function c(h,p){let g=0,v=0,_=0,x=0,A=0;const S=p.matrixWorldInverse;for(let C=0,E=h.length;C<E;C++){const R=h[C];if(R.isDirectionalLight){const B=i.directional[g];B.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),B.direction.sub(s),B.direction.transformDirection(S),g++}else if(R.isSpotLight){const B=i.spot[_];B.position.setFromMatrixPosition(R.matrixWorld),B.position.applyMatrix4(S),B.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),B.direction.sub(s),B.direction.transformDirection(S),_++}else if(R.isRectAreaLight){const B=i.rectArea[x];B.position.setFromMatrixPosition(R.matrixWorld),B.position.applyMatrix4(S),a.identity(),o.copy(R.matrixWorld),o.premultiply(S),a.extractRotation(o),B.halfWidth.set(R.width*.5,0,0),B.halfHeight.set(0,R.height*.5,0),B.halfWidth.applyMatrix4(a),B.halfHeight.applyMatrix4(a),x++}else if(R.isPointLight){const B=i.point[v];B.position.setFromMatrixPosition(R.matrixWorld),B.position.applyMatrix4(S),v++}else if(R.isHemisphereLight){const B=i.hemi[A];B.direction.setFromMatrixPosition(R.matrixWorld),B.direction.transformDirection(S),A++}}}return{setup:u,setupView:c,state:i}}function rE(r,e){const t=new PU(r,e),n=[],i=[];function s(){n.length=0,i.length=0}function o(p){n.push(p)}function a(p){i.push(p)}function u(p){t.setup(n,p)}function c(p){t.setupView(n,p)}return{init:s,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:u,setupLightsView:c,pushLight:o,pushShadow:a}}function BU(r,e){let t=new WeakMap;function n(s,o=0){const a=t.get(s);let u;return a===void 0?(u=new rE(r,e),t.set(s,[u])):o>=a.length?(u=new rE(r,e),a.push(u)):u=a[o],u}function i(){t=new WeakMap}return{get:n,dispose:i}}class aS extends bi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=MR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lS extends bi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const LU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,DU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function IU(r,e,t){let n=new ig;const i=new Le,s=new Le,o=new xn,a=new aS({depthPacking:wR}),u=new lS,c={},h=t.maxTextureSize,p={[pa]:Gr,[Gr]:pa,[Zs]:Zs},g=new ga({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:LU,fragmentShader:DU}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const _=new Vt;_.setAttribute("position",new on(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new vi(_,g),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=uy;let S=this.type;this.render=function(B,I,O){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||B.length===0)return;const U=r.getRenderTarget(),L=r.getActiveCubeFace(),N=r.getActiveMipmapLevel(),H=r.state;H.setBlending(fl),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const q=S!==Do&&this.type===Do,oe=S===Do&&this.type!==Do;for(let J=0,ie=B.length;J<ie;J++){const se=B[J],le=se.shadow;if(le===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(le.autoUpdate===!1&&le.needsUpdate===!1)continue;i.copy(le.mapSize);const Q=le.getFrameExtents();if(i.multiply(Q),s.copy(le.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/Q.x),i.x=s.x*Q.x,le.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/Q.y),i.y=s.y*Q.y,le.mapSize.y=s.y)),le.map===null||q===!0||oe===!0){const V=this.type!==Do?{minFilter:oi,magFilter:oi}:{};le.map!==null&&le.map.dispose(),le.map=new zo(i.x,i.y,V),le.map.texture.name=se.name+".shadowMap",le.camera.updateProjectionMatrix()}r.setRenderTarget(le.map),r.clear();const Y=le.getViewportCount();for(let V=0;V<Y;V++){const k=le.getViewport(V);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),H.viewport(o),le.updateMatrices(se,V),n=le.getFrustum(),R(I,O,le.camera,se,this.type)}le.isPointLightShadow!==!0&&this.type===Do&&C(le,O),le.needsUpdate=!1}S=this.type,A.needsUpdate=!1,r.setRenderTarget(U,L,N)};function C(B,I){const O=e.update(x);g.defines.VSM_SAMPLES!==B.blurSamples&&(g.defines.VSM_SAMPLES=B.blurSamples,v.defines.VSM_SAMPLES=B.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),B.mapPass===null&&(B.mapPass=new zo(i.x,i.y)),g.uniforms.shadow_pass.value=B.map.texture,g.uniforms.resolution.value=B.mapSize,g.uniforms.radius.value=B.radius,r.setRenderTarget(B.mapPass),r.clear(),r.renderBufferDirect(I,null,O,g,x,null),v.uniforms.shadow_pass.value=B.mapPass.texture,v.uniforms.resolution.value=B.mapSize,v.uniforms.radius.value=B.radius,r.setRenderTarget(B.map),r.clear(),r.renderBufferDirect(I,null,O,v,x,null)}function E(B,I,O,U){let L=null;const N=O.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if(N!==void 0)L=N;else if(L=O.isPointLight===!0?u:a,r.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const H=L.uuid,q=I.uuid;let oe=c[H];oe===void 0&&(oe={},c[H]=oe);let J=oe[q];J===void 0&&(J=L.clone(),oe[q]=J),L=J}if(L.visible=I.visible,L.wireframe=I.wireframe,U===Do?L.side=I.shadowSide!==null?I.shadowSide:I.side:L.side=I.shadowSide!==null?I.shadowSide:p[I.side],L.alphaMap=I.alphaMap,L.alphaTest=I.alphaTest,L.map=I.map,L.clipShadows=I.clipShadows,L.clippingPlanes=I.clippingPlanes,L.clipIntersection=I.clipIntersection,L.displacementMap=I.displacementMap,L.displacementScale=I.displacementScale,L.displacementBias=I.displacementBias,L.wireframeLinewidth=I.wireframeLinewidth,L.linewidth=I.linewidth,O.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const H=r.properties.get(L);H.light=O}return L}function R(B,I,O,U,L){if(B.visible===!1)return;if(B.layers.test(I.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&L===Do)&&(!B.frustumCulled||n.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,B.matrixWorld);const q=e.update(B),oe=B.material;if(Array.isArray(oe)){const J=q.groups;for(let ie=0,se=J.length;ie<se;ie++){const le=J[ie],Q=oe[le.materialIndex];if(Q&&Q.visible){const Y=E(B,Q,U,L);B.onBeforeShadow(r,B,I,O,q,Y,le),r.renderBufferDirect(O,null,q,Y,B,le),B.onAfterShadow(r,B,I,O,q,Y,le)}}}else if(oe.visible){const J=E(B,oe,U,L);B.onBeforeShadow(r,B,I,O,q,J,null),r.renderBufferDirect(O,null,q,J,B,null),B.onAfterShadow(r,B,I,O,q,J,null)}}const H=B.children;for(let q=0,oe=H.length;q<oe;q++)R(H[q],I,O,U,L)}}function FU(r,e,t){const n=t.isWebGL2;function i(){let ce=!1;const et=new xn;let qe=null;const Be=new xn(0,0,0,0);return{setMask:function(Ye){qe!==Ye&&!ce&&(r.colorMask(Ye,Ye,Ye,Ye),qe=Ye)},setLocked:function(Ye){ce=Ye},setClear:function(Ye,xt,Ht,mn,Tn){Tn===!0&&(Ye*=mn,xt*=mn,Ht*=mn),et.set(Ye,xt,Ht,mn),Be.equals(et)===!1&&(r.clearColor(Ye,xt,Ht,mn),Be.copy(et))},reset:function(){ce=!1,qe=null,Be.set(-1,0,0,0)}}}function s(){let ce=!1,et=null,qe=null,Be=null;return{setTest:function(Ye){Ye?We(r.DEPTH_TEST):De(r.DEPTH_TEST)},setMask:function(Ye){et!==Ye&&!ce&&(r.depthMask(Ye),et=Ye)},setFunc:function(Ye){if(qe!==Ye){switch(Ye){case qb:r.depthFunc(r.NEVER);break;case Zb:r.depthFunc(r.ALWAYS);break;case $b:r.depthFunc(r.LESS);break;case Cm:r.depthFunc(r.LEQUAL);break;case eR:r.depthFunc(r.EQUAL);break;case tR:r.depthFunc(r.GEQUAL);break;case nR:r.depthFunc(r.GREATER);break;case iR:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}qe=Ye}},setLocked:function(Ye){ce=Ye},setClear:function(Ye){Be!==Ye&&(r.clearDepth(Ye),Be=Ye)},reset:function(){ce=!1,et=null,qe=null,Be=null}}}function o(){let ce=!1,et=null,qe=null,Be=null,Ye=null,xt=null,Ht=null,mn=null,Tn=null;return{setTest:function($t){ce||($t?We(r.STENCIL_TEST):De(r.STENCIL_TEST))},setMask:function($t){et!==$t&&!ce&&(r.stencilMask($t),et=$t)},setFunc:function($t,ui,zi){(qe!==$t||Be!==ui||Ye!==zi)&&(r.stencilFunc($t,ui,zi),qe=$t,Be=ui,Ye=zi)},setOp:function($t,ui,zi){(xt!==$t||Ht!==ui||mn!==zi)&&(r.stencilOp($t,ui,zi),xt=$t,Ht=ui,mn=zi)},setLocked:function($t){ce=$t},setClear:function($t){Tn!==$t&&(r.clearStencil($t),Tn=$t)},reset:function(){ce=!1,et=null,qe=null,Be=null,Ye=null,xt=null,Ht=null,mn=null,Tn=null}}}const a=new i,u=new s,c=new o,h=new WeakMap,p=new WeakMap;let g={},v={},_=new WeakMap,x=[],A=null,S=!1,C=null,E=null,R=null,B=null,I=null,O=null,U=null,L=new ot(0,0,0),N=0,H=!1,q=null,oe=null,J=null,ie=null,se=null;const le=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,Y=0;const V=r.getParameter(r.VERSION);V.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(V)[1]),Q=Y>=1):V.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),Q=Y>=2);let k=null,K={};const re=r.getParameter(r.SCISSOR_BOX),j=r.getParameter(r.VIEWPORT),Te=new xn().fromArray(re),me=new xn().fromArray(j);function Re(ce,et,qe,Be){const Ye=new Uint8Array(4),xt=r.createTexture();r.bindTexture(ce,xt),r.texParameteri(ce,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(ce,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Ht=0;Ht<qe;Ht++)n&&(ce===r.TEXTURE_3D||ce===r.TEXTURE_2D_ARRAY)?r.texImage3D(et,0,r.RGBA,1,1,Be,0,r.RGBA,r.UNSIGNED_BYTE,Ye):r.texImage2D(et+Ht,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,Ye);return xt}const Ue={};Ue[r.TEXTURE_2D]=Re(r.TEXTURE_2D,r.TEXTURE_2D,1),Ue[r.TEXTURE_CUBE_MAP]=Re(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(Ue[r.TEXTURE_2D_ARRAY]=Re(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),Ue[r.TEXTURE_3D]=Re(r.TEXTURE_3D,r.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),We(r.DEPTH_TEST),u.setFunc(Cm),it(!1),rt(fA),We(r.CULL_FACE),Fe(fl);function We(ce){g[ce]!==!0&&(r.enable(ce),g[ce]=!0)}function De(ce){g[ce]!==!1&&(r.disable(ce),g[ce]=!1)}function Oe(ce,et){return v[ce]!==et?(r.bindFramebuffer(ce,et),v[ce]=et,n&&(ce===r.DRAW_FRAMEBUFFER&&(v[r.FRAMEBUFFER]=et),ce===r.FRAMEBUFFER&&(v[r.DRAW_FRAMEBUFFER]=et)),!0):!1}function ne(ce,et){let qe=x,Be=!1;if(ce)if(qe=_.get(et),qe===void 0&&(qe=[],_.set(et,qe)),ce.isWebGLMultipleRenderTargets){const Ye=ce.texture;if(qe.length!==Ye.length||qe[0]!==r.COLOR_ATTACHMENT0){for(let xt=0,Ht=Ye.length;xt<Ht;xt++)qe[xt]=r.COLOR_ATTACHMENT0+xt;qe.length=Ye.length,Be=!0}}else qe[0]!==r.COLOR_ATTACHMENT0&&(qe[0]=r.COLOR_ATTACHMENT0,Be=!0);else qe[0]!==r.BACK&&(qe[0]=r.BACK,Be=!0);Be&&(t.isWebGL2?r.drawBuffers(qe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(qe))}function Ie(ce){return A!==ce?(r.useProgram(ce),A=ce,!0):!1}const Ce={[du]:r.FUNC_ADD,[Ob]:r.FUNC_SUBTRACT,[Nb]:r.FUNC_REVERSE_SUBTRACT};if(n)Ce[mA]=r.MIN,Ce[gA]=r.MAX;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(Ce[mA]=ce.MIN_EXT,Ce[gA]=ce.MAX_EXT)}const Xe={[Ub]:r.ZERO,[kb]:r.ONE,[zb]:r.SRC_COLOR,[Iv]:r.SRC_ALPHA,[Xb]:r.SRC_ALPHA_SATURATE,[Wb]:r.DST_COLOR,[Hb]:r.DST_ALPHA,[Gb]:r.ONE_MINUS_SRC_COLOR,[Fv]:r.ONE_MINUS_SRC_ALPHA,[jb]:r.ONE_MINUS_DST_COLOR,[Vb]:r.ONE_MINUS_DST_ALPHA,[Jb]:r.CONSTANT_COLOR,[Yb]:r.ONE_MINUS_CONSTANT_COLOR,[Kb]:r.CONSTANT_ALPHA,[Qb]:r.ONE_MINUS_CONSTANT_ALPHA};function Fe(ce,et,qe,Be,Ye,xt,Ht,mn,Tn,$t){if(ce===fl){S===!0&&(De(r.BLEND),S=!1);return}if(S===!1&&(We(r.BLEND),S=!0),ce!==Fb){if(ce!==C||$t!==H){if((E!==du||I!==du)&&(r.blendEquation(r.FUNC_ADD),E=du,I=du),$t)switch(ce){case rf:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case hA:r.blendFunc(r.ONE,r.ONE);break;case dA:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case pA:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case rf:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case hA:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case dA:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case pA:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}R=null,B=null,O=null,U=null,L.set(0,0,0),N=0,C=ce,H=$t}return}Ye=Ye||et,xt=xt||qe,Ht=Ht||Be,(et!==E||Ye!==I)&&(r.blendEquationSeparate(Ce[et],Ce[Ye]),E=et,I=Ye),(qe!==R||Be!==B||xt!==O||Ht!==U)&&(r.blendFuncSeparate(Xe[qe],Xe[Be],Xe[xt],Xe[Ht]),R=qe,B=Be,O=xt,U=Ht),(mn.equals(L)===!1||Tn!==N)&&(r.blendColor(mn.r,mn.g,mn.b,Tn),L.copy(mn),N=Tn),C=ce,H=!1}function lt(ce,et){ce.side===Zs?De(r.CULL_FACE):We(r.CULL_FACE);let qe=ce.side===Gr;et&&(qe=!qe),it(qe),ce.blending===rf&&ce.transparent===!1?Fe(fl):Fe(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),u.setFunc(ce.depthFunc),u.setTest(ce.depthTest),u.setMask(ce.depthWrite),a.setMask(ce.colorWrite);const Be=ce.stencilWrite;c.setTest(Be),Be&&(c.setMask(ce.stencilWriteMask),c.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),c.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),It(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?We(r.SAMPLE_ALPHA_TO_COVERAGE):De(r.SAMPLE_ALPHA_TO_COVERAGE)}function it(ce){q!==ce&&(ce?r.frontFace(r.CW):r.frontFace(r.CCW),q=ce)}function rt(ce){ce!==Lb?(We(r.CULL_FACE),ce!==oe&&(ce===fA?r.cullFace(r.BACK):ce===Db?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):De(r.CULL_FACE),oe=ce}function _t(ce){ce!==J&&(Q&&r.lineWidth(ce),J=ce)}function It(ce,et,qe){ce?(We(r.POLYGON_OFFSET_FILL),(ie!==et||se!==qe)&&(r.polygonOffset(et,qe),ie=et,se=qe)):De(r.POLYGON_OFFSET_FILL)}function en(ce){ce?We(r.SCISSOR_TEST):De(r.SCISSOR_TEST)}function Z(ce){ce===void 0&&(ce=r.TEXTURE0+le-1),k!==ce&&(r.activeTexture(ce),k=ce)}function G(ce,et,qe){qe===void 0&&(k===null?qe=r.TEXTURE0+le-1:qe=k);let Be=K[qe];Be===void 0&&(Be={type:void 0,texture:void 0},K[qe]=Be),(Be.type!==ce||Be.texture!==et)&&(k!==qe&&(r.activeTexture(qe),k=qe),r.bindTexture(ce,et||Ue[ce]),Be.type=ce,Be.texture=et)}function ye(){const ce=K[k];ce!==void 0&&ce.type!==void 0&&(r.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Ge(){try{r.compressedTexImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ne(){try{r.compressedTexImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function je(){try{r.texSubImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function mt(){try{r.texSubImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Je(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function nt(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ct(){try{r.texStorage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function qt(){try{r.texStorage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Qe(){try{r.texImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function rn(){try{r.texImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ae(ce){Te.equals(ce)===!1&&(r.scissor(ce.x,ce.y,ce.z,ce.w),Te.copy(ce))}function Pe(ce){me.equals(ce)===!1&&(r.viewport(ce.x,ce.y,ce.z,ce.w),me.copy(ce))}function ke(ce,et){let qe=p.get(et);qe===void 0&&(qe=new WeakMap,p.set(et,qe));let Be=qe.get(ce);Be===void 0&&(Be=r.getUniformBlockIndex(et,ce.name),qe.set(ce,Be))}function He(ce,et){const Be=p.get(et).get(ce);h.get(et)!==Be&&(r.uniformBlockBinding(et,Be,ce.__bindingPointIndex),h.set(et,Be))}function St(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),n===!0&&(r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),g={},k=null,K={},v={},_=new WeakMap,x=[],A=null,S=!1,C=null,E=null,R=null,B=null,I=null,O=null,U=null,L=new ot(0,0,0),N=0,H=!1,q=null,oe=null,J=null,ie=null,se=null,Te.set(0,0,r.canvas.width,r.canvas.height),me.set(0,0,r.canvas.width,r.canvas.height),a.reset(),u.reset(),c.reset()}return{buffers:{color:a,depth:u,stencil:c},enable:We,disable:De,bindFramebuffer:Oe,drawBuffers:ne,useProgram:Ie,setBlending:Fe,setMaterial:lt,setFlipSided:it,setCullFace:rt,setLineWidth:_t,setPolygonOffset:It,setScissorTest:en,activeTexture:Z,bindTexture:G,unbindTexture:ye,compressedTexImage2D:Ge,compressedTexImage3D:Ne,texImage2D:Qe,texImage3D:rn,updateUBOMapping:ke,uniformBlockBinding:He,texStorage2D:Ct,texStorage3D:qt,texSubImage2D:je,texSubImage3D:mt,compressedTexSubImage2D:Je,compressedTexSubImage3D:nt,scissor:ae,viewport:Pe,reset:St}}function OU(r,e,t,n,i,s,o){const a=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let x;const A=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(Z,G){return S?new OffscreenCanvas(Z,G):Om("canvas")}function E(Z,G,ye,Ge){let Ne=1;if((Z.width>Ge||Z.height>Ge)&&(Ne=Ge/Math.max(Z.width,Z.height)),Ne<1||G===!0)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const je=G?Uv:Math.floor,mt=je(Ne*Z.width),Je=je(Ne*Z.height);x===void 0&&(x=C(mt,Je));const nt=ye?C(mt,Je):x;return nt.width=mt,nt.height=Je,nt.getContext("2d").drawImage(Z,0,0,mt,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+mt+"x"+Je+")."),nt}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z;return Z}function R(Z){return jA(Z.width)&&jA(Z.height)}function B(Z){return a?!1:Z.wrapS!==sr||Z.wrapT!==sr||Z.minFilter!==oi&&Z.minFilter!==Zn}function I(Z,G){return Z.generateMipmaps&&G&&Z.minFilter!==oi&&Z.minFilter!==Zn}function O(Z){r.generateMipmap(Z)}function U(Z,G,ye,Ge,Ne=!1){if(a===!1)return G;if(Z!==null){if(r[Z]!==void 0)return r[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let je=G;if(G===r.RED&&(ye===r.FLOAT&&(je=r.R32F),ye===r.HALF_FLOAT&&(je=r.R16F),ye===r.UNSIGNED_BYTE&&(je=r.R8)),G===r.RED_INTEGER&&(ye===r.UNSIGNED_BYTE&&(je=r.R8UI),ye===r.UNSIGNED_SHORT&&(je=r.R16UI),ye===r.UNSIGNED_INT&&(je=r.R32UI),ye===r.BYTE&&(je=r.R8I),ye===r.SHORT&&(je=r.R16I),ye===r.INT&&(je=r.R32I)),G===r.RG&&(ye===r.FLOAT&&(je=r.RG32F),ye===r.HALF_FLOAT&&(je=r.RG16F),ye===r.UNSIGNED_BYTE&&(je=r.RG8)),G===r.RGBA){const mt=Ne?Lm:_n.getTransfer(Ge);ye===r.FLOAT&&(je=r.RGBA32F),ye===r.HALF_FLOAT&&(je=r.RGBA16F),ye===r.UNSIGNED_BYTE&&(je=mt===In?r.SRGB8_ALPHA8:r.RGBA8),ye===r.UNSIGNED_SHORT_4_4_4_4&&(je=r.RGBA4),ye===r.UNSIGNED_SHORT_5_5_5_1&&(je=r.RGB5_A1)}return(je===r.R16F||je===r.R32F||je===r.RG16F||je===r.RG32F||je===r.RGBA16F||je===r.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function L(Z,G,ye){return I(Z,ye)===!0||Z.isFramebufferTexture&&Z.minFilter!==oi&&Z.minFilter!==Zn?Math.log2(Math.max(G.width,G.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?G.mipmaps.length:1}function N(Z){return Z===oi||Z===Pm||Z===pd?r.NEAREST:r.LINEAR}function H(Z){const G=Z.target;G.removeEventListener("dispose",H),oe(G),G.isVideoTexture&&_.delete(G)}function q(Z){const G=Z.target;G.removeEventListener("dispose",q),ie(G)}function oe(Z){const G=n.get(Z);if(G.__webglInit===void 0)return;const ye=Z.source,Ge=A.get(ye);if(Ge){const Ne=Ge[G.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&J(Z),Object.keys(Ge).length===0&&A.delete(ye)}n.remove(Z)}function J(Z){const G=n.get(Z);r.deleteTexture(G.__webglTexture);const ye=Z.source,Ge=A.get(ye);delete Ge[G.__cacheKey],o.memory.textures--}function ie(Z){const G=Z.texture,ye=n.get(Z),Ge=n.get(G);if(Ge.__webglTexture!==void 0&&(r.deleteTexture(Ge.__webglTexture),o.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(ye.__webglFramebuffer[Ne]))for(let je=0;je<ye.__webglFramebuffer[Ne].length;je++)r.deleteFramebuffer(ye.__webglFramebuffer[Ne][je]);else r.deleteFramebuffer(ye.__webglFramebuffer[Ne]);ye.__webglDepthbuffer&&r.deleteRenderbuffer(ye.__webglDepthbuffer[Ne])}else{if(Array.isArray(ye.__webglFramebuffer))for(let Ne=0;Ne<ye.__webglFramebuffer.length;Ne++)r.deleteFramebuffer(ye.__webglFramebuffer[Ne]);else r.deleteFramebuffer(ye.__webglFramebuffer);if(ye.__webglDepthbuffer&&r.deleteRenderbuffer(ye.__webglDepthbuffer),ye.__webglMultisampledFramebuffer&&r.deleteFramebuffer(ye.__webglMultisampledFramebuffer),ye.__webglColorRenderbuffer)for(let Ne=0;Ne<ye.__webglColorRenderbuffer.length;Ne++)ye.__webglColorRenderbuffer[Ne]&&r.deleteRenderbuffer(ye.__webglColorRenderbuffer[Ne]);ye.__webglDepthRenderbuffer&&r.deleteRenderbuffer(ye.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let Ne=0,je=G.length;Ne<je;Ne++){const mt=n.get(G[Ne]);mt.__webglTexture&&(r.deleteTexture(mt.__webglTexture),o.memory.textures--),n.remove(G[Ne])}n.remove(G),n.remove(Z)}let se=0;function le(){se=0}function Q(){const Z=se;return Z>=u&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+u),se+=1,Z}function Y(Z){const G=[];return G.push(Z.wrapS),G.push(Z.wrapT),G.push(Z.wrapR||0),G.push(Z.magFilter),G.push(Z.minFilter),G.push(Z.anisotropy),G.push(Z.internalFormat),G.push(Z.format),G.push(Z.type),G.push(Z.generateMipmaps),G.push(Z.premultiplyAlpha),G.push(Z.flipY),G.push(Z.unpackAlignment),G.push(Z.colorSpace),G.join()}function V(Z,G){const ye=n.get(Z);if(Z.isVideoTexture&&It(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&ye.__version!==Z.version){const Ge=Z.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{We(ye,Z,G);return}}t.bindTexture(r.TEXTURE_2D,ye.__webglTexture,r.TEXTURE0+G)}function k(Z,G){const ye=n.get(Z);if(Z.version>0&&ye.__version!==Z.version){We(ye,Z,G);return}t.bindTexture(r.TEXTURE_2D_ARRAY,ye.__webglTexture,r.TEXTURE0+G)}function K(Z,G){const ye=n.get(Z);if(Z.version>0&&ye.__version!==Z.version){We(ye,Z,G);return}t.bindTexture(r.TEXTURE_3D,ye.__webglTexture,r.TEXTURE0+G)}function re(Z,G){const ye=n.get(Z);if(Z.version>0&&ye.__version!==Z.version){De(ye,Z,G);return}t.bindTexture(r.TEXTURE_CUBE_MAP,ye.__webglTexture,r.TEXTURE0+G)}const j={[Eu]:r.REPEAT,[sr]:r.CLAMP_TO_EDGE,[Ad]:r.MIRRORED_REPEAT},Te={[oi]:r.NEAREST,[Pm]:r.NEAREST_MIPMAP_NEAREST,[pd]:r.NEAREST_MIPMAP_LINEAR,[Zn]:r.LINEAR,[fy]:r.LINEAR_MIPMAP_NEAREST,[ma]:r.LINEAR_MIPMAP_LINEAR},me={[TR]:r.NEVER,[LR]:r.ALWAYS,[CR]:r.LESS,[Q1]:r.LEQUAL,[bR]:r.EQUAL,[BR]:r.GEQUAL,[RR]:r.GREATER,[PR]:r.NOTEQUAL};function Re(Z,G,ye){if(ye?(r.texParameteri(Z,r.TEXTURE_WRAP_S,j[G.wrapS]),r.texParameteri(Z,r.TEXTURE_WRAP_T,j[G.wrapT]),(Z===r.TEXTURE_3D||Z===r.TEXTURE_2D_ARRAY)&&r.texParameteri(Z,r.TEXTURE_WRAP_R,j[G.wrapR]),r.texParameteri(Z,r.TEXTURE_MAG_FILTER,Te[G.magFilter]),r.texParameteri(Z,r.TEXTURE_MIN_FILTER,Te[G.minFilter])):(r.texParameteri(Z,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(Z,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(Z===r.TEXTURE_3D||Z===r.TEXTURE_2D_ARRAY)&&r.texParameteri(Z,r.TEXTURE_WRAP_R,r.CLAMP_TO_EDGE),(G.wrapS!==sr||G.wrapT!==sr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(Z,r.TEXTURE_MAG_FILTER,N(G.magFilter)),r.texParameteri(Z,r.TEXTURE_MIN_FILTER,N(G.minFilter)),G.minFilter!==oi&&G.minFilter!==Zn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),G.compareFunction&&(r.texParameteri(Z,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(Z,r.TEXTURE_COMPARE_FUNC,me[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ge=e.get("EXT_texture_filter_anisotropic");if(G.magFilter===oi||G.minFilter!==pd&&G.minFilter!==ma||G.type===Fo&&e.has("OES_texture_float_linear")===!1||a===!1&&G.type===Sd&&e.has("OES_texture_half_float_linear")===!1)return;(G.anisotropy>1||n.get(G).__currentAnisotropy)&&(r.texParameterf(Z,Ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),n.get(G).__currentAnisotropy=G.anisotropy)}}function Ue(Z,G){let ye=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,G.addEventListener("dispose",H));const Ge=G.source;let Ne=A.get(Ge);Ne===void 0&&(Ne={},A.set(Ge,Ne));const je=Y(G);if(je!==Z.__cacheKey){Ne[je]===void 0&&(Ne[je]={texture:r.createTexture(),usedTimes:0},o.memory.textures++,ye=!0),Ne[je].usedTimes++;const mt=Ne[Z.__cacheKey];mt!==void 0&&(Ne[Z.__cacheKey].usedTimes--,mt.usedTimes===0&&J(G)),Z.__cacheKey=je,Z.__webglTexture=Ne[je].texture}return ye}function We(Z,G,ye){let Ge=r.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Ge=r.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Ge=r.TEXTURE_3D);const Ne=Ue(Z,G),je=G.source;t.bindTexture(Ge,Z.__webglTexture,r.TEXTURE0+ye);const mt=n.get(je);if(je.version!==mt.__version||Ne===!0){t.activeTexture(r.TEXTURE0+ye);const Je=_n.getPrimaries(_n.workingColorSpace),nt=G.colorSpace===Es?null:_n.getPrimaries(G.colorSpace),Ct=G.colorSpace===Es||Je===nt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,G.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,G.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ct);const qt=B(G)&&R(G.image)===!1;let Qe=E(G.image,qt,!1,h);Qe=en(G,Qe);const rn=R(Qe)||a,ae=s.convert(G.format,G.colorSpace);let Pe=s.convert(G.type),ke=U(G.internalFormat,ae,Pe,G.colorSpace,G.isVideoTexture);Re(Ge,G,rn);let He;const St=G.mipmaps,ce=a&&G.isVideoTexture!==!0&&ke!==X1,et=mt.__version===void 0||Ne===!0,qe=L(G,Qe,rn);if(G.isDepthTexture)ke=r.DEPTH_COMPONENT,a?G.type===Fo?ke=r.DEPTH_COMPONENT32F:G.type===ll?ke=r.DEPTH_COMPONENT24:G.type===vu?ke=r.DEPTH24_STENCIL8:ke=r.DEPTH_COMPONENT16:G.type===Fo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===yu&&ke===r.DEPTH_COMPONENT&&G.type!==hy&&G.type!==ll&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=ll,Pe=s.convert(G.type)),G.format===mf&&ke===r.DEPTH_COMPONENT&&(ke=r.DEPTH_STENCIL,G.type!==vu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=vu,Pe=s.convert(G.type))),et&&(ce?t.texStorage2D(r.TEXTURE_2D,1,ke,Qe.width,Qe.height):t.texImage2D(r.TEXTURE_2D,0,ke,Qe.width,Qe.height,0,ae,Pe,null));else if(G.isDataTexture)if(St.length>0&&rn){ce&&et&&t.texStorage2D(r.TEXTURE_2D,qe,ke,St[0].width,St[0].height);for(let Be=0,Ye=St.length;Be<Ye;Be++)He=St[Be],ce?t.texSubImage2D(r.TEXTURE_2D,Be,0,0,He.width,He.height,ae,Pe,He.data):t.texImage2D(r.TEXTURE_2D,Be,ke,He.width,He.height,0,ae,Pe,He.data);G.generateMipmaps=!1}else ce?(et&&t.texStorage2D(r.TEXTURE_2D,qe,ke,Qe.width,Qe.height),t.texSubImage2D(r.TEXTURE_2D,0,0,0,Qe.width,Qe.height,ae,Pe,Qe.data)):t.texImage2D(r.TEXTURE_2D,0,ke,Qe.width,Qe.height,0,ae,Pe,Qe.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){ce&&et&&t.texStorage3D(r.TEXTURE_2D_ARRAY,qe,ke,St[0].width,St[0].height,Qe.depth);for(let Be=0,Ye=St.length;Be<Ye;Be++)He=St[Be],G.format!==kr?ae!==null?ce?t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Be,0,0,0,He.width,He.height,Qe.depth,ae,He.data,0,0):t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,Be,ke,He.width,He.height,Qe.depth,0,He.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?t.texSubImage3D(r.TEXTURE_2D_ARRAY,Be,0,0,0,He.width,He.height,Qe.depth,ae,Pe,He.data):t.texImage3D(r.TEXTURE_2D_ARRAY,Be,ke,He.width,He.height,Qe.depth,0,ae,Pe,He.data)}else{ce&&et&&t.texStorage2D(r.TEXTURE_2D,qe,ke,St[0].width,St[0].height);for(let Be=0,Ye=St.length;Be<Ye;Be++)He=St[Be],G.format!==kr?ae!==null?ce?t.compressedTexSubImage2D(r.TEXTURE_2D,Be,0,0,He.width,He.height,ae,He.data):t.compressedTexImage2D(r.TEXTURE_2D,Be,ke,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?t.texSubImage2D(r.TEXTURE_2D,Be,0,0,He.width,He.height,ae,Pe,He.data):t.texImage2D(r.TEXTURE_2D,Be,ke,He.width,He.height,0,ae,Pe,He.data)}else if(G.isDataArrayTexture)ce?(et&&t.texStorage3D(r.TEXTURE_2D_ARRAY,qe,ke,Qe.width,Qe.height,Qe.depth),t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,Qe.width,Qe.height,Qe.depth,ae,Pe,Qe.data)):t.texImage3D(r.TEXTURE_2D_ARRAY,0,ke,Qe.width,Qe.height,Qe.depth,0,ae,Pe,Qe.data);else if(G.isData3DTexture)ce?(et&&t.texStorage3D(r.TEXTURE_3D,qe,ke,Qe.width,Qe.height,Qe.depth),t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,Qe.width,Qe.height,Qe.depth,ae,Pe,Qe.data)):t.texImage3D(r.TEXTURE_3D,0,ke,Qe.width,Qe.height,Qe.depth,0,ae,Pe,Qe.data);else if(G.isFramebufferTexture){if(et)if(ce)t.texStorage2D(r.TEXTURE_2D,qe,ke,Qe.width,Qe.height);else{let Be=Qe.width,Ye=Qe.height;for(let xt=0;xt<qe;xt++)t.texImage2D(r.TEXTURE_2D,xt,ke,Be,Ye,0,ae,Pe,null),Be>>=1,Ye>>=1}}else if(St.length>0&&rn){ce&&et&&t.texStorage2D(r.TEXTURE_2D,qe,ke,St[0].width,St[0].height);for(let Be=0,Ye=St.length;Be<Ye;Be++)He=St[Be],ce?t.texSubImage2D(r.TEXTURE_2D,Be,0,0,ae,Pe,He):t.texImage2D(r.TEXTURE_2D,Be,ke,ae,Pe,He);G.generateMipmaps=!1}else ce?(et&&t.texStorage2D(r.TEXTURE_2D,qe,ke,Qe.width,Qe.height),t.texSubImage2D(r.TEXTURE_2D,0,0,0,ae,Pe,Qe)):t.texImage2D(r.TEXTURE_2D,0,ke,ae,Pe,Qe);I(G,rn)&&O(Ge),mt.__version=je.version,G.onUpdate&&G.onUpdate(G)}Z.__version=G.version}function De(Z,G,ye){if(G.image.length!==6)return;const Ge=Ue(Z,G),Ne=G.source;t.bindTexture(r.TEXTURE_CUBE_MAP,Z.__webglTexture,r.TEXTURE0+ye);const je=n.get(Ne);if(Ne.version!==je.__version||Ge===!0){t.activeTexture(r.TEXTURE0+ye);const mt=_n.getPrimaries(_n.workingColorSpace),Je=G.colorSpace===Es?null:_n.getPrimaries(G.colorSpace),nt=G.colorSpace===Es||mt===Je?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,G.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,G.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,nt);const Ct=G.isCompressedTexture||G.image[0].isCompressedTexture,qt=G.image[0]&&G.image[0].isDataTexture,Qe=[];for(let Be=0;Be<6;Be++)!Ct&&!qt?Qe[Be]=E(G.image[Be],!1,!0,c):Qe[Be]=qt?G.image[Be].image:G.image[Be],Qe[Be]=en(G,Qe[Be]);const rn=Qe[0],ae=R(rn)||a,Pe=s.convert(G.format,G.colorSpace),ke=s.convert(G.type),He=U(G.internalFormat,Pe,ke,G.colorSpace),St=a&&G.isVideoTexture!==!0,ce=je.__version===void 0||Ge===!0;let et=L(G,rn,ae);Re(r.TEXTURE_CUBE_MAP,G,ae);let qe;if(Ct){St&&ce&&t.texStorage2D(r.TEXTURE_CUBE_MAP,et,He,rn.width,rn.height);for(let Be=0;Be<6;Be++){qe=Qe[Be].mipmaps;for(let Ye=0;Ye<qe.length;Ye++){const xt=qe[Ye];G.format!==kr?Pe!==null?St?t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye,0,0,xt.width,xt.height,Pe,xt.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye,He,xt.width,xt.height,0,xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):St?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye,0,0,xt.width,xt.height,Pe,ke,xt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye,He,xt.width,xt.height,0,Pe,ke,xt.data)}}}else{qe=G.mipmaps,St&&ce&&(qe.length>0&&et++,t.texStorage2D(r.TEXTURE_CUBE_MAP,et,He,Qe[0].width,Qe[0].height));for(let Be=0;Be<6;Be++)if(qt){St?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,0,0,Qe[Be].width,Qe[Be].height,Pe,ke,Qe[Be].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,He,Qe[Be].width,Qe[Be].height,0,Pe,ke,Qe[Be].data);for(let Ye=0;Ye<qe.length;Ye++){const Ht=qe[Ye].image[Be].image;St?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye+1,0,0,Ht.width,Ht.height,Pe,ke,Ht.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye+1,He,Ht.width,Ht.height,0,Pe,ke,Ht.data)}}else{St?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,0,0,Pe,ke,Qe[Be]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,He,Pe,ke,Qe[Be]);for(let Ye=0;Ye<qe.length;Ye++){const xt=qe[Ye];St?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye+1,0,0,Pe,ke,xt.image[Be]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Ye+1,He,Pe,ke,xt.image[Be])}}}I(G,ae)&&O(r.TEXTURE_CUBE_MAP),je.__version=Ne.version,G.onUpdate&&G.onUpdate(G)}Z.__version=G.version}function Oe(Z,G,ye,Ge,Ne,je){const mt=s.convert(ye.format,ye.colorSpace),Je=s.convert(ye.type),nt=U(ye.internalFormat,mt,Je,ye.colorSpace);if(!n.get(G).__hasExternalTextures){const qt=Math.max(1,G.width>>je),Qe=Math.max(1,G.height>>je);Ne===r.TEXTURE_3D||Ne===r.TEXTURE_2D_ARRAY?t.texImage3D(Ne,je,nt,qt,Qe,G.depth,0,mt,Je,null):t.texImage2D(Ne,je,nt,qt,Qe,0,mt,Je,null)}t.bindFramebuffer(r.FRAMEBUFFER,Z),_t(G)?g.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Ge,Ne,n.get(ye).__webglTexture,0,rt(G)):(Ne===r.TEXTURE_2D||Ne>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,Ge,Ne,n.get(ye).__webglTexture,je),t.bindFramebuffer(r.FRAMEBUFFER,null)}function ne(Z,G,ye){if(r.bindRenderbuffer(r.RENDERBUFFER,Z),G.depthBuffer&&!G.stencilBuffer){let Ge=a===!0?r.DEPTH_COMPONENT24:r.DEPTH_COMPONENT16;if(ye||_t(G)){const Ne=G.depthTexture;Ne&&Ne.isDepthTexture&&(Ne.type===Fo?Ge=r.DEPTH_COMPONENT32F:Ne.type===ll&&(Ge=r.DEPTH_COMPONENT24));const je=rt(G);_t(G)?g.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,je,Ge,G.width,G.height):r.renderbufferStorageMultisample(r.RENDERBUFFER,je,Ge,G.width,G.height)}else r.renderbufferStorage(r.RENDERBUFFER,Ge,G.width,G.height);r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,Z)}else if(G.depthBuffer&&G.stencilBuffer){const Ge=rt(G);ye&&_t(G)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Ge,r.DEPTH24_STENCIL8,G.width,G.height):_t(G)?g.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Ge,r.DEPTH24_STENCIL8,G.width,G.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,G.width,G.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,Z)}else{const Ge=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Ne=0;Ne<Ge.length;Ne++){const je=Ge[Ne],mt=s.convert(je.format,je.colorSpace),Je=s.convert(je.type),nt=U(je.internalFormat,mt,Je,je.colorSpace),Ct=rt(G);ye&&_t(G)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Ct,nt,G.width,G.height):_t(G)?g.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Ct,nt,G.width,G.height):r.renderbufferStorage(r.RENDERBUFFER,nt,G.width,G.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function Ie(Z,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,Z),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),V(G.depthTexture,0);const Ge=n.get(G.depthTexture).__webglTexture,Ne=rt(G);if(G.depthTexture.format===yu)_t(G)?g.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ge,0,Ne):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ge,0);else if(G.depthTexture.format===mf)_t(G)?g.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ge,0,Ne):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function Ce(Z){const G=n.get(Z),ye=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!G.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");Ie(G.__webglFramebuffer,Z)}else if(ye){G.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)t.bindFramebuffer(r.FRAMEBUFFER,G.__webglFramebuffer[Ge]),G.__webglDepthbuffer[Ge]=r.createRenderbuffer(),ne(G.__webglDepthbuffer[Ge],Z,!1)}else t.bindFramebuffer(r.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer=r.createRenderbuffer(),ne(G.__webglDepthbuffer,Z,!1);t.bindFramebuffer(r.FRAMEBUFFER,null)}function Xe(Z,G,ye){const Ge=n.get(Z);G!==void 0&&Oe(Ge.__webglFramebuffer,Z,Z.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),ye!==void 0&&Ce(Z)}function Fe(Z){const G=Z.texture,ye=n.get(Z),Ge=n.get(G);Z.addEventListener("dispose",q),Z.isWebGLMultipleRenderTargets!==!0&&(Ge.__webglTexture===void 0&&(Ge.__webglTexture=r.createTexture()),Ge.__version=G.version,o.memory.textures++);const Ne=Z.isWebGLCubeRenderTarget===!0,je=Z.isWebGLMultipleRenderTargets===!0,mt=R(Z)||a;if(Ne){ye.__webglFramebuffer=[];for(let Je=0;Je<6;Je++)if(a&&G.mipmaps&&G.mipmaps.length>0){ye.__webglFramebuffer[Je]=[];for(let nt=0;nt<G.mipmaps.length;nt++)ye.__webglFramebuffer[Je][nt]=r.createFramebuffer()}else ye.__webglFramebuffer[Je]=r.createFramebuffer()}else{if(a&&G.mipmaps&&G.mipmaps.length>0){ye.__webglFramebuffer=[];for(let Je=0;Je<G.mipmaps.length;Je++)ye.__webglFramebuffer[Je]=r.createFramebuffer()}else ye.__webglFramebuffer=r.createFramebuffer();if(je)if(i.drawBuffers){const Je=Z.texture;for(let nt=0,Ct=Je.length;nt<Ct;nt++){const qt=n.get(Je[nt]);qt.__webglTexture===void 0&&(qt.__webglTexture=r.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Z.samples>0&&_t(Z)===!1){const Je=je?G:[G];ye.__webglMultisampledFramebuffer=r.createFramebuffer(),ye.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let nt=0;nt<Je.length;nt++){const Ct=Je[nt];ye.__webglColorRenderbuffer[nt]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,ye.__webglColorRenderbuffer[nt]);const qt=s.convert(Ct.format,Ct.colorSpace),Qe=s.convert(Ct.type),rn=U(Ct.internalFormat,qt,Qe,Ct.colorSpace,Z.isXRRenderTarget===!0),ae=rt(Z);r.renderbufferStorageMultisample(r.RENDERBUFFER,ae,rn,Z.width,Z.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+nt,r.RENDERBUFFER,ye.__webglColorRenderbuffer[nt])}r.bindRenderbuffer(r.RENDERBUFFER,null),Z.depthBuffer&&(ye.__webglDepthRenderbuffer=r.createRenderbuffer(),ne(ye.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Ne){t.bindTexture(r.TEXTURE_CUBE_MAP,Ge.__webglTexture),Re(r.TEXTURE_CUBE_MAP,G,mt);for(let Je=0;Je<6;Je++)if(a&&G.mipmaps&&G.mipmaps.length>0)for(let nt=0;nt<G.mipmaps.length;nt++)Oe(ye.__webglFramebuffer[Je][nt],Z,G,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Je,nt);else Oe(ye.__webglFramebuffer[Je],Z,G,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0);I(G,mt)&&O(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(je){const Je=Z.texture;for(let nt=0,Ct=Je.length;nt<Ct;nt++){const qt=Je[nt],Qe=n.get(qt);t.bindTexture(r.TEXTURE_2D,Qe.__webglTexture),Re(r.TEXTURE_2D,qt,mt),Oe(ye.__webglFramebuffer,Z,qt,r.COLOR_ATTACHMENT0+nt,r.TEXTURE_2D,0),I(qt,mt)&&O(r.TEXTURE_2D)}t.unbindTexture()}else{let Je=r.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(a?Je=Z.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Je,Ge.__webglTexture),Re(Je,G,mt),a&&G.mipmaps&&G.mipmaps.length>0)for(let nt=0;nt<G.mipmaps.length;nt++)Oe(ye.__webglFramebuffer[nt],Z,G,r.COLOR_ATTACHMENT0,Je,nt);else Oe(ye.__webglFramebuffer,Z,G,r.COLOR_ATTACHMENT0,Je,0);I(G,mt)&&O(Je),t.unbindTexture()}Z.depthBuffer&&Ce(Z)}function lt(Z){const G=R(Z)||a,ye=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Ge=0,Ne=ye.length;Ge<Ne;Ge++){const je=ye[Ge];if(I(je,G)){const mt=Z.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D,Je=n.get(je).__webglTexture;t.bindTexture(mt,Je),O(mt),t.unbindTexture()}}}function it(Z){if(a&&Z.samples>0&&_t(Z)===!1){const G=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],ye=Z.width,Ge=Z.height;let Ne=r.COLOR_BUFFER_BIT;const je=[],mt=Z.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Je=n.get(Z),nt=Z.isWebGLMultipleRenderTargets===!0;if(nt)for(let Ct=0;Ct<G.length;Ct++)t.bindFramebuffer(r.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Ct,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Je.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Ct,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Je.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Je.__webglFramebuffer);for(let Ct=0;Ct<G.length;Ct++){je.push(r.COLOR_ATTACHMENT0+Ct),Z.depthBuffer&&je.push(mt);const qt=Je.__ignoreDepthValues!==void 0?Je.__ignoreDepthValues:!1;if(qt===!1&&(Z.depthBuffer&&(Ne|=r.DEPTH_BUFFER_BIT),Z.stencilBuffer&&(Ne|=r.STENCIL_BUFFER_BIT)),nt&&r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Je.__webglColorRenderbuffer[Ct]),qt===!0&&(r.invalidateFramebuffer(r.READ_FRAMEBUFFER,[mt]),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[mt])),nt){const Qe=n.get(G[Ct]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,Qe,0)}r.blitFramebuffer(0,0,ye,Ge,0,0,ye,Ge,Ne,r.NEAREST),v&&r.invalidateFramebuffer(r.READ_FRAMEBUFFER,je)}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),nt)for(let Ct=0;Ct<G.length;Ct++){t.bindFramebuffer(r.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Ct,r.RENDERBUFFER,Je.__webglColorRenderbuffer[Ct]);const qt=n.get(G[Ct]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Je.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Ct,r.TEXTURE_2D,qt,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Je.__webglMultisampledFramebuffer)}}function rt(Z){return Math.min(p,Z.samples)}function _t(Z){const G=n.get(Z);return a&&Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function It(Z){const G=o.render.frame;_.get(Z)!==G&&(_.set(Z,G),Z.update())}function en(Z,G){const ye=Z.colorSpace,Ge=Z.format,Ne=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||Z.format===Nv||ye!==ko&&ye!==Es&&(_n.getTransfer(ye)===In?a===!1?e.has("EXT_sRGB")===!0&&Ge===kr?(Z.format=Nv,Z.minFilter=Zn,Z.generateMipmaps=!1):G=$1.sRGBToLinear(G):(Ge!==kr||Ne!==fa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ye)),G}this.allocateTextureUnit=Q,this.resetTextureUnits=le,this.setTexture2D=V,this.setTexture2DArray=k,this.setTexture3D=K,this.setTextureCube=re,this.rebindTextures=Xe,this.setupRenderTarget=Fe,this.updateRenderTargetMipmap=lt,this.updateMultisampleRenderTarget=it,this.setupDepthRenderbuffer=Ce,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=_t}function jR(r,e,t){const n=t.isWebGL2;function i(s,o=Es){let a;const u=_n.getTransfer(o);if(s===fa)return r.UNSIGNED_BYTE;if(s===G1)return r.UNSIGNED_SHORT_4_4_4_4;if(s===H1)return r.UNSIGNED_SHORT_5_5_5_1;if(s===fR)return r.BYTE;if(s===hR)return r.SHORT;if(s===hy)return r.UNSIGNED_SHORT;if(s===z1)return r.INT;if(s===ll)return r.UNSIGNED_INT;if(s===Fo)return r.FLOAT;if(s===Sd)return n?r.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===dR)return r.ALPHA;if(s===kr)return r.RGBA;if(s===pR)return r.LUMINANCE;if(s===mR)return r.LUMINANCE_ALPHA;if(s===yu)return r.DEPTH_COMPONENT;if(s===mf)return r.DEPTH_STENCIL;if(s===Nv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===gR)return r.RED;if(s===V1)return r.RED_INTEGER;if(s===vR)return r.RG;if(s===W1)return r.RG_INTEGER;if(s===j1)return r.RGBA_INTEGER;if(s===yv||s===_v||s===xv||s===Av)if(u===In)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===yv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===_v)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===xv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Av)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===yv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===_v)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===xv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Av)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===yA||s===_A||s===xA||s===AA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===yA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===_A)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===xA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===AA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===X1)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===SA||s===MA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===SA)return u===In?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===MA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===wA||s===EA||s===TA||s===CA||s===bA||s===RA||s===PA||s===BA||s===LA||s===DA||s===IA||s===FA||s===OA||s===NA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===wA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===EA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===TA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===CA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===bA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===RA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===PA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===BA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===LA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===DA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===IA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===FA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===OA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===NA)return u===In?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Sv||s===UA||s===kA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Sv)return u===In?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===UA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===kA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===yR||s===zA||s===GA||s===HA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Sv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===zA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===GA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===HA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===vu?n?r.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):r[s]!==void 0?r[s]:null}return{convert:i}}class XR extends jn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ul extends un{constructor(){super(),this.isGroup=!0,this.type="Group"}}const NU={type:"move"};class $_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ul,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ul,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ul,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,s=null,o=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const A=t.getJointPose(x,n),S=this._getHandJoint(c,x);A!==null&&(S.matrix.fromArray(A.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=A.radius),S.visible=A!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],g=h.position.distanceTo(p.position),v=.02,_=.005;c.inputState.pinching&&g>v+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=v-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(NU)))}return a!==null&&(a.visible=i!==null),u!==null&&(u.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new ul;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class UU extends Al{constructor(e,t){super();const n=this;let i=null,s=1,o=null,a="local-floor",u=1,c=null,h=null,p=null,g=null,v=null,_=null;const x=t.getContextAttributes();let A=null,S=null;const C=[],E=[],R=new Le;let B=null;const I=new jn;I.layers.enable(1),I.viewport=new xn;const O=new jn;O.layers.enable(2),O.viewport=new xn;const U=[I,O],L=new XR;L.layers.enable(1),L.layers.enable(2);let N=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let j=C[re];return j===void 0&&(j=new $_,C[re]=j),j.getTargetRaySpace()},this.getControllerGrip=function(re){let j=C[re];return j===void 0&&(j=new $_,C[re]=j),j.getGripSpace()},this.getHand=function(re){let j=C[re];return j===void 0&&(j=new $_,C[re]=j),j.getHandSpace()};function q(re){const j=E.indexOf(re.inputSource);if(j===-1)return;const Te=C[j];Te!==void 0&&(Te.update(re.inputSource,re.frame,c||o),Te.dispatchEvent({type:re.type,data:re.inputSource}))}function oe(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",oe),i.removeEventListener("inputsourceschange",J);for(let re=0;re<C.length;re++){const j=E[re];j!==null&&(E[re]=null,C[re].disconnect(j))}N=null,H=null,e.setRenderTarget(A),v=null,g=null,p=null,i=null,S=null,K.stop(),n.isPresenting=!1,e.setPixelRatio(B),e.setSize(R.width,R.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return g!==null?g:v},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",oe),i.addEventListener("inputsourceschange",J),x.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(R),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,t,j),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),S=new zo(v.framebufferWidth,v.framebufferHeight,{format:kr,type:fa,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let j=null,Te=null,me=null;x.depth&&(me=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,j=x.stencil?mf:yu,Te=x.stencil?vu:ll);const Re={colorFormat:t.RGBA8,depthFormat:me,scaleFactor:s};p=new XRWebGLBinding(i,t),g=p.createProjectionLayer(Re),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),S=new zo(g.textureWidth,g.textureHeight,{format:kr,type:fa,depthTexture:new oS(g.textureWidth,g.textureHeight,Te,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const Ue=e.properties.get(S);Ue.__ignoreDepthValues=g.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(u),c=null,o=await i.requestReferenceSpace(a),K.setContext(i),K.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function J(re){for(let j=0;j<re.removed.length;j++){const Te=re.removed[j],me=E.indexOf(Te);me>=0&&(E[me]=null,C[me].disconnect(Te))}for(let j=0;j<re.added.length;j++){const Te=re.added[j];let me=E.indexOf(Te);if(me===-1){for(let Ue=0;Ue<C.length;Ue++)if(Ue>=E.length){E.push(Te),me=Ue;break}else if(E[Ue]===null){E[Ue]=Te,me=Ue;break}if(me===-1)break}const Re=C[me];Re&&Re.connect(Te)}}const ie=new W,se=new W;function le(re,j,Te){ie.setFromMatrixPosition(j.matrixWorld),se.setFromMatrixPosition(Te.matrixWorld);const me=ie.distanceTo(se),Re=j.projectionMatrix.elements,Ue=Te.projectionMatrix.elements,We=Re[14]/(Re[10]-1),De=Re[14]/(Re[10]+1),Oe=(Re[9]+1)/Re[5],ne=(Re[9]-1)/Re[5],Ie=(Re[8]-1)/Re[0],Ce=(Ue[8]+1)/Ue[0],Xe=We*Ie,Fe=We*Ce,lt=me/(-Ie+Ce),it=lt*-Ie;j.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(it),re.translateZ(lt),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const rt=We+lt,_t=De+lt,It=Xe-it,en=Fe+(me-it),Z=Oe*De/_t*rt,G=ne*De/_t*rt;re.projectionMatrix.makePerspective(It,en,Z,G,rt,_t),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function Q(re,j){j===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(j.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;L.near=O.near=I.near=re.near,L.far=O.far=I.far=re.far,(N!==L.near||H!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),N=L.near,H=L.far);const j=re.parent,Te=L.cameras;Q(L,j);for(let me=0;me<Te.length;me++)Q(Te[me],j);Te.length===2?le(L,I,O):L.projectionMatrix.copy(I.projectionMatrix),Y(re,L,j)};function Y(re,j,Te){Te===null?re.matrix.copy(j.matrixWorld):(re.matrix.copy(Te.matrixWorld),re.matrix.invert(),re.matrix.multiply(j.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(j.projectionMatrix),re.projectionMatrixInverse.copy(j.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=Ed*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(g===null&&v===null))return u},this.setFoveation=function(re){u=re,g!==null&&(g.fixedFoveation=re),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=re)};let V=null;function k(re,j){if(h=j.getViewerPose(c||o),_=j,h!==null){const Te=h.views;v!==null&&(e.setRenderTargetFramebuffer(S,v.framebuffer),e.setRenderTarget(S));let me=!1;Te.length!==L.cameras.length&&(L.cameras.length=0,me=!0);for(let Re=0;Re<Te.length;Re++){const Ue=Te[Re];let We=null;if(v!==null)We=v.getViewport(Ue);else{const Oe=p.getViewSubImage(g,Ue);We=Oe.viewport,Re===0&&(e.setRenderTargetTextures(S,Oe.colorTexture,g.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(S))}let De=U[Re];De===void 0&&(De=new jn,De.layers.enable(Re),De.viewport=new xn,U[Re]=De),De.matrix.fromArray(Ue.transform.matrix),De.matrix.decompose(De.position,De.quaternion,De.scale),De.projectionMatrix.fromArray(Ue.projectionMatrix),De.projectionMatrixInverse.copy(De.projectionMatrix).invert(),De.viewport.set(We.x,We.y,We.width,We.height),Re===0&&(L.matrix.copy(De.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),me===!0&&L.cameras.push(De)}}for(let Te=0;Te<C.length;Te++){const me=E[Te],Re=C[Te];me!==null&&Re!==void 0&&Re.update(me,j,c||o)}V&&V(re,j),j.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:j}),_=null}const K=new kR;K.setAnimationLoop(k),this.setAnimationLoop=function(re){V=re},this.dispose=function(){}}}function kU(r,e){function t(A,S){A.matrixAutoUpdate===!0&&A.updateMatrix(),S.value.copy(A.matrix)}function n(A,S){S.color.getRGB(A.fogColor.value,NR(r)),S.isFog?(A.fogNear.value=S.near,A.fogFar.value=S.far):S.isFogExp2&&(A.fogDensity.value=S.density)}function i(A,S,C,E,R){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(A,S):S.isMeshToonMaterial?(s(A,S),p(A,S)):S.isMeshPhongMaterial?(s(A,S),h(A,S)):S.isMeshStandardMaterial?(s(A,S),g(A,S),S.isMeshPhysicalMaterial&&v(A,S,R)):S.isMeshMatcapMaterial?(s(A,S),_(A,S)):S.isMeshDepthMaterial?s(A,S):S.isMeshDistanceMaterial?(s(A,S),x(A,S)):S.isMeshNormalMaterial?s(A,S):S.isLineBasicMaterial?(o(A,S),S.isLineDashedMaterial&&a(A,S)):S.isPointsMaterial?u(A,S,C,E):S.isSpriteMaterial?c(A,S):S.isShadowMaterial?(A.color.value.copy(S.color),A.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(A,S){A.opacity.value=S.opacity,S.color&&A.diffuse.value.copy(S.color),S.emissive&&A.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.bumpMap&&(A.bumpMap.value=S.bumpMap,t(S.bumpMap,A.bumpMapTransform),A.bumpScale.value=S.bumpScale,S.side===Gr&&(A.bumpScale.value*=-1)),S.normalMap&&(A.normalMap.value=S.normalMap,t(S.normalMap,A.normalMapTransform),A.normalScale.value.copy(S.normalScale),S.side===Gr&&A.normalScale.value.negate()),S.displacementMap&&(A.displacementMap.value=S.displacementMap,t(S.displacementMap,A.displacementMapTransform),A.displacementScale.value=S.displacementScale,A.displacementBias.value=S.displacementBias),S.emissiveMap&&(A.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,A.emissiveMapTransform)),S.specularMap&&(A.specularMap.value=S.specularMap,t(S.specularMap,A.specularMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest);const C=e.get(S).envMap;if(C&&(A.envMap.value=C,A.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=S.reflectivity,A.ior.value=S.ior,A.refractionRatio.value=S.refractionRatio),S.lightMap){A.lightMap.value=S.lightMap;const E=r._useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=S.lightMapIntensity*E,t(S.lightMap,A.lightMapTransform)}S.aoMap&&(A.aoMap.value=S.aoMap,A.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,A.aoMapTransform))}function o(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform))}function a(A,S){A.dashSize.value=S.dashSize,A.totalSize.value=S.dashSize+S.gapSize,A.scale.value=S.scale}function u(A,S,C,E){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.size.value=S.size*C,A.scale.value=E*.5,S.map&&(A.map.value=S.map,t(S.map,A.uvTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function c(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.rotation.value=S.rotation,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function h(A,S){A.specular.value.copy(S.specular),A.shininess.value=Math.max(S.shininess,1e-4)}function p(A,S){S.gradientMap&&(A.gradientMap.value=S.gradientMap)}function g(A,S){A.metalness.value=S.metalness,S.metalnessMap&&(A.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,A.metalnessMapTransform)),A.roughness.value=S.roughness,S.roughnessMap&&(A.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,A.roughnessMapTransform)),e.get(S).envMap&&(A.envMapIntensity.value=S.envMapIntensity)}function v(A,S,C){A.ior.value=S.ior,S.sheen>0&&(A.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),A.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(A.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,A.sheenColorMapTransform)),S.sheenRoughnessMap&&(A.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,A.sheenRoughnessMapTransform))),S.clearcoat>0&&(A.clearcoat.value=S.clearcoat,A.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(A.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,A.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(A.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Gr&&A.clearcoatNormalScale.value.negate())),S.iridescence>0&&(A.iridescence.value=S.iridescence,A.iridescenceIOR.value=S.iridescenceIOR,A.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(A.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,A.iridescenceMapTransform)),S.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),S.transmission>0&&(A.transmission.value=S.transmission,A.transmissionSamplerMap.value=C.texture,A.transmissionSamplerSize.value.set(C.width,C.height),S.transmissionMap&&(A.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,A.transmissionMapTransform)),A.thickness.value=S.thickness,S.thicknessMap&&(A.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=S.attenuationDistance,A.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(A.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(A.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=S.specularIntensity,A.specularColor.value.copy(S.specularColor),S.specularColorMap&&(A.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,A.specularColorMapTransform)),S.specularIntensityMap&&(A.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,A.specularIntensityMapTransform))}function _(A,S){S.matcap&&(A.matcap.value=S.matcap)}function x(A,S){const C=e.get(S).light;A.referencePosition.value.setFromMatrixPosition(C.matrixWorld),A.nearDistance.value=C.shadow.camera.near,A.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function zU(r,e,t,n){let i={},s={},o=[];const a=t.isWebGL2?r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(C,E){const R=E.program;n.uniformBlockBinding(C,R)}function c(C,E){let R=i[C.id];R===void 0&&(_(C),R=h(C),i[C.id]=R,C.addEventListener("dispose",A));const B=E.program;n.updateUBOMapping(C,B);const I=e.render.frame;s[C.id]!==I&&(g(C),s[C.id]=I)}function h(C){const E=p();C.__bindingPointIndex=E;const R=r.createBuffer(),B=C.__size,I=C.usage;return r.bindBuffer(r.UNIFORM_BUFFER,R),r.bufferData(r.UNIFORM_BUFFER,B,I),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,E,R),R}function p(){for(let C=0;C<a;C++)if(o.indexOf(C)===-1)return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(C){const E=i[C.id],R=C.uniforms,B=C.__cache;r.bindBuffer(r.UNIFORM_BUFFER,E);for(let I=0,O=R.length;I<O;I++){const U=R[I];if(v(U,I,B)===!0){const L=U.__offset,N=Array.isArray(U.value)?U.value:[U.value];let H=0;for(let q=0;q<N.length;q++){const oe=N[q],J=x(oe);typeof oe=="number"?(U.__data[0]=oe,r.bufferSubData(r.UNIFORM_BUFFER,L+H,U.__data)):oe.isMatrix3?(U.__data[0]=oe.elements[0],U.__data[1]=oe.elements[1],U.__data[2]=oe.elements[2],U.__data[3]=oe.elements[0],U.__data[4]=oe.elements[3],U.__data[5]=oe.elements[4],U.__data[6]=oe.elements[5],U.__data[7]=oe.elements[0],U.__data[8]=oe.elements[6],U.__data[9]=oe.elements[7],U.__data[10]=oe.elements[8],U.__data[11]=oe.elements[0]):(oe.toArray(U.__data,H),H+=J.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,L,U.__data)}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function v(C,E,R){const B=C.value;if(R[E]===void 0){if(typeof B=="number")R[E]=B;else{const I=Array.isArray(B)?B:[B],O=[];for(let U=0;U<I.length;U++)O.push(I[U].clone());R[E]=O}return!0}else if(typeof B=="number"){if(R[E]!==B)return R[E]=B,!0}else{const I=Array.isArray(R[E])?R[E]:[R[E]],O=Array.isArray(B)?B:[B];for(let U=0;U<I.length;U++){const L=I[U];if(L.equals(O[U])===!1)return L.copy(O[U]),!0}}return!1}function _(C){const E=C.uniforms;let R=0;const B=16;let I=0;for(let O=0,U=E.length;O<U;O++){const L=E[O],N={boundary:0,storage:0},H=Array.isArray(L.value)?L.value:[L.value];for(let q=0,oe=H.length;q<oe;q++){const J=H[q],ie=x(J);N.boundary+=ie.boundary,N.storage+=ie.storage}if(L.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=R,O>0){I=R%B;const q=B-I;I!==0&&q-N.boundary<0&&(R+=B-I,L.__offset=R)}R+=N.storage}return I=R%B,I>0&&(R+=B-I),C.__size=R,C.__cache={},this}function x(C){const E={boundary:0,storage:0};return typeof C=="number"?(E.boundary=4,E.storage=4):C.isVector2?(E.boundary=8,E.storage=8):C.isVector3||C.isColor?(E.boundary=16,E.storage=12):C.isVector4?(E.boundary=16,E.storage=16):C.isMatrix3?(E.boundary=48,E.storage=48):C.isMatrix4?(E.boundary=64,E.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),E}function A(C){const E=C.target;E.removeEventListener("dispose",A);const R=o.indexOf(E.__bindingPointIndex);o.splice(R,1),r.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function S(){for(const C in i)r.deleteBuffer(i[C]);o=[],i={},s={}}return{bind:u,update:c,dispose:S}}class uS{constructor(e={}){const{canvas:t=IR(),context:n=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let g;n!==null?g=n.getContextAttributes().alpha:g=o;const v=new Uint32Array(4),_=new Int32Array(4);let x=null,A=null;const S=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=mi,this._useLegacyLights=!1,this.toneMapping=ca,this.toneMappingExposure=1;const E=this;let R=!1,B=0,I=0,O=null,U=-1,L=null;const N=new xn,H=new xn;let q=null;const oe=new ot(0);let J=0,ie=t.width,se=t.height,le=1,Q=null,Y=null;const V=new xn(0,0,ie,se),k=new xn(0,0,ie,se);let K=!1;const re=new ig;let j=!1,Te=!1,me=null;const Re=new Rt,Ue=new Le,We=new W,De={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Oe(){return O===null?le:1}let ne=n;function Ie(X,ge){for(let Me=0;Me<X.length;Me++){const Ee=X[Me],Se=t.getContext(Ee,ge);if(Se!==null)return Se}return null}try{const X={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ud}`),t.addEventListener("webglcontextlost",St,!1),t.addEventListener("webglcontextrestored",ce,!1),t.addEventListener("webglcontextcreationerror",et,!1),ne===null){const ge=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&ge.shift(),ne=Ie(ge,X),ne===null)throw Ie(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ne instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Ce,Xe,Fe,lt,it,rt,_t,It,en,Z,G,ye,Ge,Ne,je,mt,Je,nt,Ct,qt,Qe,rn,ae,Pe;function ke(){Ce=new tN(ne),Xe=new KO(ne,Ce,e),Ce.init(Xe),rn=new jR(ne,Ce,Xe),Fe=new FU(ne,Ce,Xe),lt=new rN(ne),it=new MU,rt=new OU(ne,Ce,Fe,it,Xe,rn,lt),_t=new qO(E),It=new eN(E),en=new hF(ne,Xe),ae=new JO(ne,Ce,en,Xe),Z=new nN(ne,en,lt,ae),G=new lN(ne,Z,en,lt),Ct=new aN(ne,Xe,rt),mt=new QO(it),ye=new SU(E,_t,It,Ce,Xe,ae,mt),Ge=new kU(E,it),Ne=new EU,je=new BU(Ce,Xe),nt=new XO(E,_t,It,Fe,G,g,u),Je=new IU(E,G,Xe),Pe=new zU(ne,lt,Xe,Fe),qt=new YO(ne,Ce,lt,Xe),Qe=new iN(ne,Ce,lt,Xe),lt.programs=ye.programs,E.capabilities=Xe,E.extensions=Ce,E.properties=it,E.renderLists=Ne,E.shadowMap=Je,E.state=Fe,E.info=lt}ke();const He=new UU(E,ne);this.xr=He,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const X=Ce.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Ce.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(X){X!==void 0&&(le=X,this.setSize(ie,se,!1))},this.getSize=function(X){return X.set(ie,se)},this.setSize=function(X,ge,Me=!0){if(He.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ie=X,se=ge,t.width=Math.floor(X*le),t.height=Math.floor(ge*le),Me===!0&&(t.style.width=X+"px",t.style.height=ge+"px"),this.setViewport(0,0,X,ge)},this.getDrawingBufferSize=function(X){return X.set(ie*le,se*le).floor()},this.setDrawingBufferSize=function(X,ge,Me){ie=X,se=ge,le=Me,t.width=Math.floor(X*Me),t.height=Math.floor(ge*Me),this.setViewport(0,0,X,ge)},this.getCurrentViewport=function(X){return X.copy(N)},this.getViewport=function(X){return X.copy(V)},this.setViewport=function(X,ge,Me,Ee){X.isVector4?V.set(X.x,X.y,X.z,X.w):V.set(X,ge,Me,Ee),Fe.viewport(N.copy(V).multiplyScalar(le).floor())},this.getScissor=function(X){return X.copy(k)},this.setScissor=function(X,ge,Me,Ee){X.isVector4?k.set(X.x,X.y,X.z,X.w):k.set(X,ge,Me,Ee),Fe.scissor(H.copy(k).multiplyScalar(le).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(X){Fe.setScissorTest(K=X)},this.setOpaqueSort=function(X){Q=X},this.setTransparentSort=function(X){Y=X},this.getClearColor=function(X){return X.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(X=!0,ge=!0,Me=!0){let Ee=0;if(X){let Se=!1;if(O!==null){const ct=O.texture.format;Se=ct===j1||ct===W1||ct===V1}if(Se){const ct=O.texture.type,Tt=ct===fa||ct===ll||ct===hy||ct===vu||ct===G1||ct===H1,Pt=nt.getClearColor(),ft=nt.getClearAlpha(),Ut=Pt.r,Ft=Pt.g,Nt=Pt.b;Tt?(v[0]=Ut,v[1]=Ft,v[2]=Nt,v[3]=ft,ne.clearBufferuiv(ne.COLOR,0,v)):(_[0]=Ut,_[1]=Ft,_[2]=Nt,_[3]=ft,ne.clearBufferiv(ne.COLOR,0,_))}else Ee|=ne.COLOR_BUFFER_BIT}ge&&(Ee|=ne.DEPTH_BUFFER_BIT),Me&&(Ee|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",St,!1),t.removeEventListener("webglcontextrestored",ce,!1),t.removeEventListener("webglcontextcreationerror",et,!1),Ne.dispose(),je.dispose(),it.dispose(),_t.dispose(),It.dispose(),G.dispose(),ae.dispose(),Pe.dispose(),ye.dispose(),He.dispose(),He.removeEventListener("sessionstart",Tn),He.removeEventListener("sessionend",$t),me&&(me.dispose(),me=null),ui.stop()};function St(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const X=lt.autoReset,ge=Je.enabled,Me=Je.autoUpdate,Ee=Je.needsUpdate,Se=Je.type;ke(),lt.autoReset=X,Je.enabled=ge,Je.autoUpdate=Me,Je.needsUpdate=Ee,Je.type=Se}function et(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function qe(X){const ge=X.target;ge.removeEventListener("dispose",qe),Be(ge)}function Be(X){Ye(X),it.remove(X)}function Ye(X){const ge=it.get(X).programs;ge!==void 0&&(ge.forEach(function(Me){ye.releaseProgram(Me)}),X.isShaderMaterial&&ye.releaseShaderCache(X))}this.renderBufferDirect=function(X,ge,Me,Ee,Se,ct){ge===null&&(ge=De);const Tt=Se.isMesh&&Se.matrixWorld.determinant()<0,Pt=Wd(X,ge,Me,Ee,Se);Fe.setMaterial(Ee,Tt);let ft=Me.index,Ut=1;if(Ee.wireframe===!0){if(ft=Z.getWireframeAttribute(Me),ft===void 0)return;Ut=2}const Ft=Me.drawRange,Nt=Me.attributes.position;let An=Ft.start*Ut,Ri=(Ft.start+Ft.count)*Ut;ct!==null&&(An=Math.max(An,ct.start*Ut),Ri=Math.min(Ri,(ct.start+ct.count)*Ut)),ft!==null?(An=Math.max(An,0),Ri=Math.min(Ri,ft.count)):Nt!=null&&(An=Math.max(An,0),Ri=Math.min(Ri,Nt.count));const Sn=Ri-An;if(Sn<0||Sn===1/0)return;ae.setup(Se,Ee,Pt,Me,ft);let Jn,wt=qt;if(ft!==null&&(Jn=en.get(ft),wt=Qe,wt.setIndex(Jn)),Se.isMesh)Ee.wireframe===!0?(Fe.setLineWidth(Ee.wireframeLinewidth*Oe()),wt.setMode(ne.LINES)):wt.setMode(ne.TRIANGLES);else if(Se.isLine){let pt=Ee.linewidth;pt===void 0&&(pt=1),Fe.setLineWidth(pt*Oe()),Se.isLineSegments?wt.setMode(ne.LINES):Se.isLineLoop?wt.setMode(ne.LINE_LOOP):wt.setMode(ne.LINE_STRIP)}else Se.isPoints?wt.setMode(ne.POINTS):Se.isSprite&&wt.setMode(ne.TRIANGLES);if(Se.isBatchedMesh)wt.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else if(Se.isInstancedMesh)wt.renderInstances(An,Sn,Se.count);else if(Me.isInstancedBufferGeometry){const pt=Me._maxInstanceCount!==void 0?Me._maxInstanceCount:1/0,zn=Math.min(Me.instanceCount,pt);wt.renderInstances(An,Sn,zn)}else wt.render(An,Sn)};function xt(X,ge,Me){X.transparent===!0&&X.side===Zs&&X.forceSinglePass===!1?(X.side=Gr,X.needsUpdate=!0,jo(X,ge,Me),X.side=pa,X.needsUpdate=!0,jo(X,ge,Me),X.side=Zs):jo(X,ge,Me)}this.compile=function(X,ge,Me=null){Me===null&&(Me=X),A=je.get(Me),A.init(),C.push(A),Me.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ge.layers)&&(A.pushLight(Se),Se.castShadow&&A.pushShadow(Se))}),X!==Me&&X.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ge.layers)&&(A.pushLight(Se),Se.castShadow&&A.pushShadow(Se))}),A.setupLights(E._useLegacyLights);const Ee=new Set;return X.traverse(function(Se){const ct=Se.material;if(ct)if(Array.isArray(ct))for(let Tt=0;Tt<ct.length;Tt++){const Pt=ct[Tt];xt(Pt,Me,Se),Ee.add(Pt)}else xt(ct,Me,Se),Ee.add(ct)}),C.pop(),A=null,Ee},this.compileAsync=function(X,ge,Me=null){const Ee=this.compile(X,ge,Me);return new Promise(Se=>{function ct(){if(Ee.forEach(function(Tt){it.get(Tt).currentProgram.isReady()&&Ee.delete(Tt)}),Ee.size===0){Se(X);return}setTimeout(ct,10)}Ce.get("KHR_parallel_shader_compile")!==null?ct():setTimeout(ct,10)})};let Ht=null;function mn(X){Ht&&Ht(X)}function Tn(){ui.stop()}function $t(){ui.start()}const ui=new kR;ui.setAnimationLoop(mn),typeof self<"u"&&ui.setContext(self),this.setAnimationLoop=function(X){Ht=X,He.setAnimationLoop(X),X===null?ui.stop():ui.start()},He.addEventListener("sessionstart",Tn),He.addEventListener("sessionend",$t),this.render=function(X,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(ge),ge=He.getCamera()),X.isScene===!0&&X.onBeforeRender(E,X,ge,O),A=je.get(X,C.length),A.init(),C.push(A),Re.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),re.setFromProjectionMatrix(Re),Te=this.localClippingEnabled,j=mt.init(this.clippingPlanes,Te),x=Ne.get(X,S.length),x.init(),S.push(x),zi(X,ge,0,E.sortObjects),x.finish(),E.sortObjects===!0&&x.sort(Q,Y),this.info.render.frame++,j===!0&&mt.beginShadows();const Me=A.state.shadowsArray;if(Je.render(Me,X,ge),j===!0&&mt.endShadows(),this.info.autoReset===!0&&this.info.reset(),nt.render(x,X),A.setupLights(E._useLegacyLights),ge.isArrayCamera){const Ee=ge.cameras;for(let Se=0,ct=Ee.length;Se<ct;Se++){const Tt=Ee[Se];Uu(x,X,Tt,Tt.viewport)}}else Uu(x,X,ge);O!==null&&(rt.updateMultisampleRenderTarget(O),rt.updateRenderTargetMipmap(O)),X.isScene===!0&&X.onAfterRender(E,X,ge),ae.resetDefaultState(),U=-1,L=null,C.pop(),C.length>0?A=C[C.length-1]:A=null,S.pop(),S.length>0?x=S[S.length-1]:x=null};function zi(X,ge,Me,Ee){if(X.visible===!1)return;if(X.layers.test(ge.layers)){if(X.isGroup)Me=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ge);else if(X.isLight)A.pushLight(X),X.castShadow&&A.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||re.intersectsSprite(X)){Ee&&We.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Re);const Tt=G.update(X),Pt=X.material;Pt.visible&&x.push(X,Tt,Pt,Me,We.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||re.intersectsObject(X))){const Tt=G.update(X),Pt=X.material;if(Ee&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),We.copy(X.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),We.copy(Tt.boundingSphere.center)),We.applyMatrix4(X.matrixWorld).applyMatrix4(Re)),Array.isArray(Pt)){const ft=Tt.groups;for(let Ut=0,Ft=ft.length;Ut<Ft;Ut++){const Nt=ft[Ut],An=Pt[Nt.materialIndex];An&&An.visible&&x.push(X,Tt,An,Me,We.z,Nt)}}else Pt.visible&&x.push(X,Tt,Pt,Me,We.z,null)}}const ct=X.children;for(let Tt=0,Pt=ct.length;Tt<Pt;Tt++)zi(ct[Tt],ge,Me,Ee)}function Uu(X,ge,Me,Ee){const Se=X.opaque,ct=X.transmissive,Tt=X.transparent;A.setupLightsView(Me),j===!0&&mt.setGlobalState(E.clippingPlanes,Me),ct.length>0&&io(Se,ct,ge,Me),Ee&&Fe.viewport(N.copy(Ee)),Se.length>0&&ro(Se,ge,Me),ct.length>0&&ro(ct,ge,Me),Tt.length>0&&ro(Tt,ge,Me),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function io(X,ge,Me,Ee){if((Me.isScene===!0?Me.overrideMaterial:null)!==null)return;const ct=Xe.isWebGL2;me===null&&(me=new zo(1,1,{generateMipmaps:!0,type:Ce.has("EXT_color_buffer_half_float")?Sd:fa,minFilter:ma,samples:ct?4:0})),E.getDrawingBufferSize(Ue),ct?me.setSize(Ue.x,Ue.y):me.setSize(Uv(Ue.x),Uv(Ue.y));const Tt=E.getRenderTarget();E.setRenderTarget(me),E.getClearColor(oe),J=E.getClearAlpha(),J<1&&E.setClearColor(16777215,.5),E.clear();const Pt=E.toneMapping;E.toneMapping=ca,ro(X,Me,Ee),rt.updateMultisampleRenderTarget(me),rt.updateRenderTargetMipmap(me);let ft=!1;for(let Ut=0,Ft=ge.length;Ut<Ft;Ut++){const Nt=ge[Ut],An=Nt.object,Ri=Nt.geometry,Sn=Nt.material,Jn=Nt.group;if(Sn.side===Zs&&An.layers.test(Ee.layers)){const wt=Sn.side;Sn.side=Gr,Sn.needsUpdate=!0,cs(An,Me,Ee,Ri,Sn,Jn),Sn.side=wt,Sn.needsUpdate=!0,ft=!0}}ft===!0&&(rt.updateMultisampleRenderTarget(me),rt.updateRenderTargetMipmap(me)),E.setRenderTarget(Tt),E.setClearColor(oe,J),E.toneMapping=Pt}function ro(X,ge,Me){const Ee=ge.isScene===!0?ge.overrideMaterial:null;for(let Se=0,ct=X.length;Se<ct;Se++){const Tt=X[Se],Pt=Tt.object,ft=Tt.geometry,Ut=Ee===null?Tt.material:Ee,Ft=Tt.group;Pt.layers.test(Me.layers)&&cs(Pt,ge,Me,ft,Ut,Ft)}}function cs(X,ge,Me,Ee,Se,ct){X.onBeforeRender(E,ge,Me,Ee,Se,ct),X.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),Se.onBeforeRender(E,ge,Me,Ee,X,ct),Se.transparent===!0&&Se.side===Zs&&Se.forceSinglePass===!1?(Se.side=Gr,Se.needsUpdate=!0,E.renderBufferDirect(Me,ge,Ee,Se,X,ct),Se.side=pa,Se.needsUpdate=!0,E.renderBufferDirect(Me,ge,Ee,Se,X,ct),Se.side=Zs):E.renderBufferDirect(Me,ge,Ee,Se,X,ct),X.onAfterRender(E,ge,Me,Ee,Se,ct)}function jo(X,ge,Me){ge.isScene!==!0&&(ge=De);const Ee=it.get(X),Se=A.state.lights,ct=A.state.shadowsArray,Tt=Se.state.version,Pt=ye.getParameters(X,Se.state,ct,ge,Me),ft=ye.getProgramCacheKey(Pt);let Ut=Ee.programs;Ee.environment=X.isMeshStandardMaterial?ge.environment:null,Ee.fog=ge.fog,Ee.envMap=(X.isMeshStandardMaterial?It:_t).get(X.envMap||Ee.environment),Ut===void 0&&(X.addEventListener("dispose",qe),Ut=new Map,Ee.programs=Ut);let Ft=Ut.get(ft);if(Ft!==void 0){if(Ee.currentProgram===Ft&&Ee.lightsStateVersion===Tt)return Df(X,Pt),Ft}else Pt.uniforms=ye.getUniforms(X),X.onBuild(Me,Pt,E),X.onBeforeCompile(Pt,E),Ft=ye.acquireProgram(Pt,ft),Ut.set(ft,Ft),Ee.uniforms=Pt.uniforms;const Nt=Ee.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Nt.clippingPlanes=mt.uniform),Df(X,Pt),Ee.needsLights=If(X),Ee.lightsStateVersion=Tt,Ee.needsLights&&(Nt.ambientLightColor.value=Se.state.ambient,Nt.lightProbe.value=Se.state.probe,Nt.directionalLights.value=Se.state.directional,Nt.directionalLightShadows.value=Se.state.directionalShadow,Nt.spotLights.value=Se.state.spot,Nt.spotLightShadows.value=Se.state.spotShadow,Nt.rectAreaLights.value=Se.state.rectArea,Nt.ltc_1.value=Se.state.rectAreaLTC1,Nt.ltc_2.value=Se.state.rectAreaLTC2,Nt.pointLights.value=Se.state.point,Nt.pointLightShadows.value=Se.state.pointShadow,Nt.hemisphereLights.value=Se.state.hemi,Nt.directionalShadowMap.value=Se.state.directionalShadowMap,Nt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Nt.spotShadowMap.value=Se.state.spotShadowMap,Nt.spotLightMatrix.value=Se.state.spotLightMatrix,Nt.spotLightMap.value=Se.state.spotLightMap,Nt.pointShadowMap.value=Se.state.pointShadowMap,Nt.pointShadowMatrix.value=Se.state.pointShadowMatrix),Ee.currentProgram=Ft,Ee.uniformsList=null,Ft}function Lf(X){if(X.uniformsList===null){const ge=X.currentProgram.getUniforms();X.uniformsList=wv.seqWithValue(ge.seq,X.uniforms)}return X.uniformsList}function Df(X,ge){const Me=it.get(X);Me.outputColorSpace=ge.outputColorSpace,Me.batching=ge.batching,Me.instancing=ge.instancing,Me.instancingColor=ge.instancingColor,Me.skinning=ge.skinning,Me.morphTargets=ge.morphTargets,Me.morphNormals=ge.morphNormals,Me.morphColors=ge.morphColors,Me.morphTargetsCount=ge.morphTargetsCount,Me.numClippingPlanes=ge.numClippingPlanes,Me.numIntersection=ge.numClipIntersection,Me.vertexAlphas=ge.vertexAlphas,Me.vertexTangents=ge.vertexTangents,Me.toneMapping=ge.toneMapping}function Wd(X,ge,Me,Ee,Se){ge.isScene!==!0&&(ge=De),rt.resetTextureUnits();const ct=ge.fog,Tt=Ee.isMeshStandardMaterial?ge.environment:null,Pt=O===null?E.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:ko,ft=(Ee.isMeshStandardMaterial?It:_t).get(Ee.envMap||Tt),Ut=Ee.vertexColors===!0&&!!Me.attributes.color&&Me.attributes.color.itemSize===4,Ft=!!Me.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Nt=!!Me.morphAttributes.position,An=!!Me.morphAttributes.normal,Ri=!!Me.morphAttributes.color;let Sn=ca;Ee.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(Sn=E.toneMapping);const Jn=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,wt=Jn!==void 0?Jn.length:0,pt=it.get(Ee),zn=A.state.lights;if(j===!0&&(Te===!0||X!==L)){const Pi=X===L&&Ee.id===U;mt.setState(Ee,X,Pi)}let Jt=!1;Ee.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==zn.state.version||pt.outputColorSpace!==Pt||Se.isBatchedMesh&&pt.batching===!1||!Se.isBatchedMesh&&pt.batching===!0||Se.isInstancedMesh&&pt.instancing===!1||!Se.isInstancedMesh&&pt.instancing===!0||Se.isSkinnedMesh&&pt.skinning===!1||!Se.isSkinnedMesh&&pt.skinning===!0||Se.isInstancedMesh&&pt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&pt.instancingColor===!1&&Se.instanceColor!==null||pt.envMap!==ft||Ee.fog===!0&&pt.fog!==ct||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==mt.numPlanes||pt.numIntersection!==mt.numIntersection)||pt.vertexAlphas!==Ut||pt.vertexTangents!==Ft||pt.morphTargets!==Nt||pt.morphNormals!==An||pt.morphColors!==Ri||pt.toneMapping!==Sn||Xe.isWebGL2===!0&&pt.morphTargetsCount!==wt)&&(Jt=!0):(Jt=!0,pt.__version=Ee.version);let Gn=pt.currentProgram;Jt===!0&&(Gn=jo(Ee,ge,Se));let Fs=!1,Ki=!1,Yn=!1;const Cn=Gn.getUniforms(),Er=pt.uniforms;if(Fe.useProgram(Gn.program)&&(Fs=!0,Ki=!0,Yn=!0),Ee.id!==U&&(U=Ee.id,Ki=!0),Fs||L!==X){Cn.setValue(ne,"projectionMatrix",X.projectionMatrix),Cn.setValue(ne,"viewMatrix",X.matrixWorldInverse);const Pi=Cn.map.cameraPosition;Pi!==void 0&&Pi.setValue(ne,We.setFromMatrixPosition(X.matrixWorld)),Xe.logarithmicDepthBuffer&&Cn.setValue(ne,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&Cn.setValue(ne,"isOrthographic",X.isOrthographicCamera===!0),L!==X&&(L=X,Ki=!0,Yn=!0)}if(Se.isSkinnedMesh){Cn.setOptional(ne,Se,"bindMatrix"),Cn.setOptional(ne,Se,"bindMatrixInverse");const Pi=Se.skeleton;Pi&&(Xe.floatVertexTextures?(Pi.boneTexture===null&&Pi.computeBoneTexture(),Cn.setValue(ne,"boneTexture",Pi.boneTexture,rt)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Se.isBatchedMesh&&(Cn.setOptional(ne,Se,"batchingTexture"),Cn.setValue(ne,"batchingTexture",Se._matricesTexture,rt));const Sl=Me.morphAttributes;if((Sl.position!==void 0||Sl.normal!==void 0||Sl.color!==void 0&&Xe.isWebGL2===!0)&&Ct.update(Se,Me,Gn),(Ki||pt.receiveShadow!==Se.receiveShadow)&&(pt.receiveShadow=Se.receiveShadow,Cn.setValue(ne,"receiveShadow",Se.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(Er.envMap.value=ft,Er.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),Ki&&(Cn.setValue(ne,"toneMappingExposure",E.toneMappingExposure),pt.needsLights&&so(Er,Yn),ct&&Ee.fog===!0&&Ge.refreshFogUniforms(Er,ct),Ge.refreshMaterialUniforms(Er,Ee,le,se,me),wv.upload(ne,Lf(pt),Er,rt)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(wv.upload(ne,Lf(pt),Er,rt),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&Cn.setValue(ne,"center",Se.center),Cn.setValue(ne,"modelViewMatrix",Se.modelViewMatrix),Cn.setValue(ne,"normalMatrix",Se.normalMatrix),Cn.setValue(ne,"modelMatrix",Se.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const Pi=Ee.uniformsGroups;for(let Xo=0,ur=Pi.length;Xo<ur;Xo++)if(Xe.isWebGL2){const Ml=Pi[Xo];Pe.update(Ml,Gn),Pe.bind(Ml,Gn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Gn}function so(X,ge){X.ambientLightColor.needsUpdate=ge,X.lightProbe.needsUpdate=ge,X.directionalLights.needsUpdate=ge,X.directionalLightShadows.needsUpdate=ge,X.pointLights.needsUpdate=ge,X.pointLightShadows.needsUpdate=ge,X.spotLights.needsUpdate=ge,X.spotLightShadows.needsUpdate=ge,X.rectAreaLights.needsUpdate=ge,X.hemisphereLights.needsUpdate=ge}function If(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(X,ge,Me){it.get(X.texture).__webglTexture=ge,it.get(X.depthTexture).__webglTexture=Me;const Ee=it.get(X);Ee.__hasExternalTextures=!0,Ee.__hasExternalTextures&&(Ee.__autoAllocateDepthBuffer=Me===void 0,Ee.__autoAllocateDepthBuffer||Ce.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(X,ge){const Me=it.get(X);Me.__webglFramebuffer=ge,Me.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(X,ge=0,Me=0){O=X,B=ge,I=Me;let Ee=!0,Se=null,ct=!1,Tt=!1;if(X){const ft=it.get(X);ft.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(ne.FRAMEBUFFER,null),Ee=!1):ft.__webglFramebuffer===void 0?rt.setupRenderTarget(X):ft.__hasExternalTextures&&rt.rebindTextures(X,it.get(X.texture).__webglTexture,it.get(X.depthTexture).__webglTexture);const Ut=X.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(Tt=!0);const Ft=it.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Ft[ge])?Se=Ft[ge][Me]:Se=Ft[ge],ct=!0):Xe.isWebGL2&&X.samples>0&&rt.useMultisampledRTT(X)===!1?Se=it.get(X).__webglMultisampledFramebuffer:Array.isArray(Ft)?Se=Ft[Me]:Se=Ft,N.copy(X.viewport),H.copy(X.scissor),q=X.scissorTest}else N.copy(V).multiplyScalar(le).floor(),H.copy(k).multiplyScalar(le).floor(),q=K;if(Fe.bindFramebuffer(ne.FRAMEBUFFER,Se)&&Xe.drawBuffers&&Ee&&Fe.drawBuffers(X,Se),Fe.viewport(N),Fe.scissor(H),Fe.setScissorTest(q),ct){const ft=it.get(X.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ft.__webglTexture,Me)}else if(Tt){const ft=it.get(X.texture),Ut=ge||0;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ft.__webglTexture,Me||0,Ut)}U=-1},this.readRenderTargetPixels=function(X,ge,Me,Ee,Se,ct,Tt){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=it.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&Tt!==void 0&&(Pt=Pt[Tt]),Pt){Fe.bindFramebuffer(ne.FRAMEBUFFER,Pt);try{const ft=X.texture,Ut=ft.format,Ft=ft.type;if(Ut!==kr&&rn.convert(Ut)!==ne.getParameter(ne.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Nt=Ft===Sd&&(Ce.has("EXT_color_buffer_half_float")||Xe.isWebGL2&&Ce.has("EXT_color_buffer_float"));if(Ft!==fa&&rn.convert(Ft)!==ne.getParameter(ne.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ft===Fo&&(Xe.isWebGL2||Ce.has("OES_texture_float")||Ce.has("WEBGL_color_buffer_float")))&&!Nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=X.width-Ee&&Me>=0&&Me<=X.height-Se&&ne.readPixels(ge,Me,Ee,Se,rn.convert(Ut),rn.convert(Ft),ct)}finally{const ft=O!==null?it.get(O).__webglFramebuffer:null;Fe.bindFramebuffer(ne.FRAMEBUFFER,ft)}}},this.copyFramebufferToTexture=function(X,ge,Me=0){const Ee=Math.pow(2,-Me),Se=Math.floor(ge.image.width*Ee),ct=Math.floor(ge.image.height*Ee);rt.setTexture2D(ge,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,Me,0,0,X.x,X.y,Se,ct),Fe.unbindTexture()},this.copyTextureToTexture=function(X,ge,Me,Ee=0){const Se=ge.image.width,ct=ge.image.height,Tt=rn.convert(Me.format),Pt=rn.convert(Me.type);rt.setTexture2D(Me,0),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Me.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Me.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Me.unpackAlignment),ge.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,Ee,X.x,X.y,Se,ct,Tt,Pt,ge.image.data):ge.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,Ee,X.x,X.y,ge.mipmaps[0].width,ge.mipmaps[0].height,Tt,ge.mipmaps[0].data):ne.texSubImage2D(ne.TEXTURE_2D,Ee,X.x,X.y,Tt,Pt,ge.image),Ee===0&&Me.generateMipmaps&&ne.generateMipmap(ne.TEXTURE_2D),Fe.unbindTexture()},this.copyTextureToTexture3D=function(X,ge,Me,Ee,Se=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ct=X.max.x-X.min.x+1,Tt=X.max.y-X.min.y+1,Pt=X.max.z-X.min.z+1,ft=rn.convert(Ee.format),Ut=rn.convert(Ee.type);let Ft;if(Ee.isData3DTexture)rt.setTexture3D(Ee,0),Ft=ne.TEXTURE_3D;else if(Ee.isDataArrayTexture)rt.setTexture2DArray(Ee,0),Ft=ne.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Ee.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Ee.unpackAlignment);const Nt=ne.getParameter(ne.UNPACK_ROW_LENGTH),An=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),Ri=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Sn=ne.getParameter(ne.UNPACK_SKIP_ROWS),Jn=ne.getParameter(ne.UNPACK_SKIP_IMAGES),wt=Me.isCompressedTexture?Me.mipmaps[0]:Me.image;ne.pixelStorei(ne.UNPACK_ROW_LENGTH,wt.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,wt.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,X.min.x),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,X.min.y),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,X.min.z),Me.isDataTexture||Me.isData3DTexture?ne.texSubImage3D(Ft,Se,ge.x,ge.y,ge.z,ct,Tt,Pt,ft,Ut,wt.data):Me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(Ft,Se,ge.x,ge.y,ge.z,ct,Tt,Pt,ft,wt.data)):ne.texSubImage3D(Ft,Se,ge.x,ge.y,ge.z,ct,Tt,Pt,ft,Ut,wt),ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Nt),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,An),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Ri),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Sn),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Jn),Se===0&&Ee.generateMipmaps&&ne.generateMipmap(Ft),Fe.unbindTexture()},this.initTexture=function(X){X.isCubeTexture?rt.setTextureCube(X,0):X.isData3DTexture?rt.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?rt.setTexture2DArray(X,0):rt.setTexture2D(X,0),Fe.unbindTexture()},this.resetState=function(){B=0,I=0,O=null,Fe.reset(),ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Oo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===py?"display-p3":"srgb",t.unpackColorSpace=_n.workingColorSpace===eg?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===mi?_u:K1}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===_u?mi:ko}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class JR extends uS{}JR.prototype.isWebGL1Renderer=!0;class vy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ot(e),this.density=t}clone(){return new vy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yy{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new ot(e),this.near=t,this.far=n}clone(){return new yy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class kv extends un{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class sg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Fm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Rs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn('THREE.InterleavedBuffer: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Or=new W;class Tu{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.applyMatrix4(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.applyNormalMatrix(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.transformDirection(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}setX(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=is(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=is(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=is(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=is(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array),i=Qt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Qt(t,this.array),n=Qt(n,this.array),i=Qt(i,this.array),s=Qt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new on(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Tu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cS extends bi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Jh;const Wp=new W,Yh=new W,Kh=new W,Qh=new Le,jp=new Le,YR=new Rt,O0=new W,Xp=new W,N0=new W,sE=new Le,ex=new Le,oE=new Le;class KR extends un{constructor(e=new cS){if(super(),this.isSprite=!0,this.type="Sprite",Jh===void 0){Jh=new Vt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new sg(t,5);Jh.setIndex([0,1,2,0,2,3]),Jh.setAttribute("position",new Tu(n,3,0,!1)),Jh.setAttribute("uv",new Tu(n,2,3,!1))}this.geometry=Jh,this.material=e,this.center=new Le(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yh.setFromMatrixScale(this.matrixWorld),YR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Kh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yh.multiplyScalar(-Kh.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const o=this.center;U0(O0.set(-.5,-.5,0),Kh,o,Yh,i,s),U0(Xp.set(.5,-.5,0),Kh,o,Yh,i,s),U0(N0.set(.5,.5,0),Kh,o,Yh,i,s),sE.set(0,0),ex.set(1,0),oE.set(1,1);let a=e.ray.intersectTriangle(O0,Xp,N0,!1,Wp);if(a===null&&(U0(Xp.set(-.5,.5,0),Kh,o,Yh,i,s),ex.set(0,1),a=e.ray.intersectTriangle(O0,N0,Xp,!1,Wp),a===null))return;const u=e.ray.origin.distanceTo(Wp);u<e.near||u>e.far||t.push({distance:u,point:Wp.clone(),uv:ns.getInterpolation(Wp,O0,Xp,N0,sE,ex,oE,new Le),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function U0(r,e,t,n,i,s){Qh.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(jp.x=s*Qh.x-i*Qh.y,jp.y=i*Qh.x+s*Qh.y):jp.copy(Qh),r.copy(e),r.x+=jp.x,r.y+=jp.y,r.applyMatrix4(YR)}const k0=new W,aE=new W;class QR extends un{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){k0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(k0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){k0.setFromMatrixPosition(e.matrixWorld),aE.setFromMatrixPosition(this.matrixWorld);const n=k0.distanceTo(aE)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),n>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const lE=new W,uE=new xn,cE=new xn,GU=new W,fE=new Rt,z0=new W,tx=new or,hE=new Rt,nx=new wf;class fS extends vi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=vA,this.bindMatrix=new Rt,this.bindMatrixInverse=new Rt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Sr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,z0),this.boundingBox.expandByPoint(z0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new or),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,z0),this.boundingSphere.expandByPoint(z0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tx.copy(this.boundingSphere),tx.applyMatrix4(i),e.ray.intersectsSphere(tx)!==!1&&(hE.copy(i).invert(),nx.copy(e.ray).applyMatrix4(hE),!(this.boundingBox!==null&&nx.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,nx)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===vA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===cR?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;uE.fromBufferAttribute(i.attributes.skinIndex,e),cE.fromBufferAttribute(i.attributes.skinWeight,e),lE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=cE.getComponent(s);if(o!==0){const a=uE.getComponent(s);fE.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(GU.copy(lE).applyMatrix4(fE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class _y extends un{constructor(){super(),this.isBone=!0,this.type="Bone"}}class lf extends On{constructor(e=null,t=1,n=1,i,s,o,a,u,c=oi,h=oi,p,g){super(null,o,a,u,c,h,i,s,p,g),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dE=new Rt,HU=new Rt;class og{constructor(e=[],t=[]){this.uuid=Rs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Rt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Rt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:HU;dE.multiplyMatrices(a,t[s]),dE.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new og(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new lf(t,e,e,kr,Fo);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _y),this.bones.push(o),this.boneInverses.push(new Rt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}}class vf extends on{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qh=new Rt,pE=new Rt,G0=[],mE=new Sr,VU=new Rt,Jp=new vi,Yp=new or;class hS extends vi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new vf(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,VU)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Sr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,qh),mE.copy(e.boundingBox).applyMatrix4(qh),this.boundingBox.union(mE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new or),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,qh),Yp.copy(e.boundingSphere).applyMatrix4(qh),this.boundingSphere.union(Yp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Jp.geometry=this.geometry,Jp.material=this.material,Jp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Yp.copy(this.boundingSphere),Yp.applyMatrix4(n),e.ray.intersectsSphere(Yp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,qh),pE.multiplyMatrices(n,qh),Jp.matrixWorld=pE,Jp.raycast(e,G0);for(let o=0,a=G0.length;o<a;o++){const u=G0[o];u.instanceId=s,u.object=this,t.push(u)}G0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new vf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function WU(r,e){return r.z-e.z}function jU(r,e){return e.z-r.z}class XU{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const n=this.pool,i=this.list;this.index>=n.length&&n.push({start:-1,count:-1,z:-1});const s=n[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Zh="batchId",au=new Rt,gE=new Rt,JU=new Rt,vE=new Rt,ix=new ig,H0=new Sr,Rc=new or,Kp=new W,rx=new XU,_r=new vi,V0=[];function YU(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let s=0;s<i;s++)for(let o=0;o<n;o++)e.setComponent(s+t,o,r.getComponent(s,o))}else e.array.set(r.array,t*n);e.needsUpdate=!0}class qR extends vi{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,n=t*2,i){super(new Vt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new lf(t,e,e,kr,Fo);this._matricesTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const u=e.getAttribute(a),{array:c,itemSize:h,normalized:p}=u,g=new c.constructor(n*h),v=new u.constructor(g,h,p);v.setUsage(u.usage),t.setAttribute(a,v)}if(e.getIndex()!==null){const a=n>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new on(a,1))}const o=i>65536?new Uint32Array(n):new Uint16Array(n);t.setAttribute(Zh,new on(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Zh))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Zh}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(n===Zh)continue;if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),s=t.getAttribute(n);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sr);const e=this._geometryCount,t=this.boundingBox,n=this._active;t.makeEmpty();for(let i=0;i<e;i++)n[i]!==!1&&(this.getMatrixAt(i,au),this.getBoundingBoxAt(i,H0).applyMatrix4(au),t.union(H0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new or);const e=this._geometryCount,t=this.boundingSphere,n=this._active;t.makeEmpty();for(let i=0;i<e;i++)n[i]!==!1&&(this.getMatrixAt(i,au),this.getBoundingSphereAt(i,Rc).applyMatrix4(au),t.union(Rc))}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,u=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),h=c!==null;if(h&&(n===-1?i.indexCount=c.count:i.indexCount=n,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const p=this._visibility,g=this._active,v=this._matricesTexture,_=this._matricesTexture.image.data;p.push(!0),g.push(!0);const x=this._geometryCount;this._geometryCount++,JU.toArray(_,x*16),v.needsUpdate=!0,o.push(i),a.push({start:h?i.indexStart:i.vertexStart,count:-1}),u.push({boxInitialized:!1,box:new Sr,sphereInitialized:!1,sphere:new or});const A=this.geometry.getAttribute(Zh);for(let S=0;S<i.vertexCount;S++)A.setX(i.vertexStart+S,x);return A.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,s=n.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const u=a.vertexStart,c=a.vertexCount;for(const v in n.attributes){if(v===Zh)continue;const _=t.getAttribute(v),x=n.getAttribute(v);YU(_,x,u);const A=_.itemSize;for(let S=_.count,C=c;S<C;S++){const E=u+S;for(let R=0;R<A;R++)x.setComponent(E,R,0)}x.needsUpdate=!0}if(i){const v=a.indexStart;for(let _=0;_<o.count;_++)s.setX(v+_,u+o.getX(_));for(let _=o.count,x=a.indexCount;_<x;_++)s.setX(v+_,u);s.needsUpdate=!0}const h=this._bounds[e];t.boundingBox!==null?(h.box.copy(t.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,t.boundingSphere!==null?(h.sphere.copy(t.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const p=this._drawRanges[e],g=t.getAttribute("position");return p.count=i?o.count:g.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,u=o.attributes.position,c=this._drawRanges[e];for(let h=c.start,p=c.start+c.count;h<p;h++){let g=h;a&&(g=a.getX(g)),s.expandByPoint(Kp.fromBufferAttribute(u,g))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,H0),H0.getCenter(s.center);const a=o.index,u=o.attributes.position,c=this._drawRanges[e];let h=0;for(let p=c.start,g=c.start+c.count;p<g;p++){let v=p;a&&(v=a.getX(v)),Kp.fromBufferAttribute(u,v),h=Math.max(h,s.center.distanceToSquared(Kp))}s.radius=Math.sqrt(h),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const n=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||n[e]===!1?this:(t.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const n=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||n[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const n=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||n[e]===t?this:(n[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,n=this._active,i=this._geometryCount;return e>=i||n[e]===!1?!1:t[e]}raycast(e,t){const n=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,u=this.geometry;_r.material=this.material,_r.geometry.index=u.index,_r.geometry.attributes=u.attributes,_r.geometry.boundingBox===null&&(_r.geometry.boundingBox=new Sr),_r.geometry.boundingSphere===null&&(_r.geometry.boundingSphere=new or);for(let c=0;c<o;c++){if(!n[c]||!i[c])continue;const h=s[c];_r.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(c,_r.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,_r.geometry.boundingBox),this.getBoundingSphereAt(c,_r.geometry.boundingSphere),_r.raycast(e,V0);for(let p=0,g=V0.length;p<g;p++){const v=V0[p];v.object=this,v.batchId=c,t.push(v)}V0.length=0}_r.material=null,_r.geometry.index=null,_r.geometry.attributes={},_r.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,n,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._visibility,c=this._multiDrawStarts,h=this._multiDrawCounts,p=this._drawRanges,g=this.perObjectFrustumCulled;g&&(vE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),ix.setFromProjectionMatrix(vE,e.isWebGPURenderer?wd:Oo));let v=0;if(this.sortObjects){gE.copy(this.matrixWorld).invert(),Kp.setFromMatrixPosition(n.matrixWorld).applyMatrix4(gE);for(let A=0,S=u.length;A<S;A++)if(u[A]){this.getMatrixAt(A,au),this.getBoundingSphereAt(A,Rc).applyMatrix4(au);let C=!1;if(g&&(C=!ix.intersectsSphere(Rc)),!C){const E=Kp.distanceTo(Rc.center);rx.push(p[A],E)}}const _=rx.list,x=this.customSort;x===null?_.sort(s.transparent?jU:WU):x.call(this,_,n);for(let A=0,S=_.length;A<S;A++){const C=_[A];c[v]=C.start*a,h[v]=C.count,v++}rx.reset()}else for(let _=0,x=u.length;_<x;_++)if(u[_]){let A=!1;if(g&&(this.getMatrixAt(_,au),this.getBoundingSphereAt(_,Rc).applyMatrix4(au),A=!ix.intersectsSphere(Rc)),!A){const S=p[_];c[v]=S.start*a,h[v]=S.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class wr extends bi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const yE=new W,_E=new W,xE=new Rt,sx=new wf,W0=new or;class vl extends un{constructor(e=new Vt,t=new wr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,s=t.count;i<s;i++)yE.fromBufferAttribute(t,i-1),_E.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=yE.distanceTo(_E);e.setAttribute("lineDistance",new yt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),W0.copy(n.boundingSphere),W0.applyMatrix4(i),W0.radius+=s,e.ray.intersectsSphere(W0)===!1)return;xE.copy(i).invert(),sx.copy(e.ray).applyMatrix4(xE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=new W,h=new W,p=new W,g=new W,v=this.isLineSegments?2:1,_=n.index,A=n.attributes.position;if(_!==null){const S=Math.max(0,o.start),C=Math.min(_.count,o.start+o.count);for(let E=S,R=C-1;E<R;E+=v){const B=_.getX(E),I=_.getX(E+1);if(c.fromBufferAttribute(A,B),h.fromBufferAttribute(A,I),sx.distanceSqToSegment(c,h,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(g);U<e.near||U>e.far||t.push({distance:U,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const S=Math.max(0,o.start),C=Math.min(A.count,o.start+o.count);for(let E=S,R=C-1;E<R;E+=v){if(c.fromBufferAttribute(A,E),h.fromBufferAttribute(A,E+1),sx.distanceSqToSegment(c,h,g,p)>u)continue;g.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(g);I<e.near||I>e.far||t.push({distance:I,point:p.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const AE=new W,SE=new W;class Ho extends vl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,s=t.count;i<s;i+=2)AE.fromBufferAttribute(t,i),SE.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+AE.distanceTo(SE);e.setAttribute("lineDistance",new yt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dS extends vl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ag extends bi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ME=new Rt,YA=new wf,j0=new or,X0=new W;let pS=class extends un{constructor(e=new Vt,t=new ag){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),j0.copy(n.boundingSphere),j0.applyMatrix4(i),j0.radius+=s,e.ray.intersectsSphere(j0)===!1)return;ME.copy(i).invert(),YA.copy(e.ray).applyMatrix4(ME);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=n.index,p=n.attributes.position;if(c!==null){const g=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let _=g,x=v;_<x;_++){const A=c.getX(_);X0.fromBufferAttribute(p,A),wE(X0,A,u,i,e,t,this)}}else{const g=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let _=g,x=v;_<x;_++)X0.fromBufferAttribute(p,_),wE(X0,_,u,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function wE(r,e,t,n,i,s,o){const a=YA.distanceSqToPoint(r);if(a<t){const u=new W;YA.closestPointToPoint(r,u),u.applyMatrix4(n);const c=i.ray.origin.distanceTo(u);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,object:o})}}class KU extends On{constructor(e,t,n,i,s,o,a,u,c){super(e,t,n,i,s,o,a,u,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Zn,this.magFilter=s!==void 0?s:Zn,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class QU extends On{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=oi,this.minFilter=oi,this.generateMipmaps=!1,this.needsUpdate=!0}}class xy extends On{constructor(e,t,n,i,s,o,a,u,c,h,p,g){super(null,o,a,u,c,h,i,s,p,g),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class qU extends xy{constructor(e,t,n,i,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=sr}}class ZU extends xy{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,gl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $U extends On{constructor(e,t,n,i,s,o,a,u,c){super(e,t,n,i,s,o,a,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(i),t.push(s),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let a=0,u=s-1,c;for(;a<=u;)if(i=Math.floor(a+(u-a)/2),c=n[i]-o,c<0)a=i+1;else if(c>0)u=i-1;else{u=i;break}if(i=u,n[i]===o)return i/(s-1);const h=n[i],g=n[i+1]-h,v=(o-h)/g;return(i+v)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),u=t||(o.isVector2?new Le:new W);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new W,i=[],s=[],o=[],a=new W,u=new Rt;for(let v=0;v<=e;v++){const _=v/e;i[v]=this.getTangentAt(_,new W)}s[0]=new W,o[0]=new W;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),g=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),p<=c&&(c=p,n.set(0,1,0)),g<=c&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const _=Math.acos(ai(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(u.makeRotationAxis(a,_))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(ai(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(u.makeRotationAxis(i[_],v*_)),o[_].crossVectors(i[_],s[_])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Ay extends Vo{constructor(e=0,t=0,n=1,i=1,s=0,o=Math.PI*2,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,t){const n=t||new Le,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),g=u-this.aX,v=c-this.aY;u=g*h-v*p+this.aX,c=g*p+v*h+this.aY}return n.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZR extends Ay{constructor(e,t,n,i,s,o){super(e,t,n,n,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function mS(){let r=0,e=0,t=0,n=0;function i(s,o,a,u){r=s,e=a,t=-3*s+3*o-2*a-u,n=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,c){i(o,a,c*(a-s),c*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,c,h,p){let g=(o-s)/c-(a-s)/(c+h)+(a-o)/h,v=(a-o)/h-(u-o)/(h+p)+(u-a)/p;g*=h,v*=h,i(o,a,g,v)},calc:function(s){const o=s*s,a=o*s;return r+e*s+t*o+n*a}}}const J0=new W,ox=new mS,ax=new mS,lx=new mS;class $R extends Vo{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new W){const n=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:u===0&&a===s-1&&(a=s-2,u=1);let c,h;this.closed||a>0?c=i[(a-1)%s]:(J0.subVectors(i[0],i[1]).add(i[0]),c=J0);const p=i[a%s],g=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(J0.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=J0),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(c.distanceToSquared(p),v),x=Math.pow(p.distanceToSquared(g),v),A=Math.pow(g.distanceToSquared(h),v);x<1e-4&&(x=1),_<1e-4&&(_=x),A<1e-4&&(A=x),ox.initNonuniformCatmullRom(c.x,p.x,g.x,h.x,_,x,A),ax.initNonuniformCatmullRom(c.y,p.y,g.y,h.y,_,x,A),lx.initNonuniformCatmullRom(c.z,p.z,g.z,h.z,_,x,A)}else this.curveType==="catmullrom"&&(ox.initCatmullRom(c.x,p.x,g.x,h.x,this.tension),ax.initCatmullRom(c.y,p.y,g.y,h.y,this.tension),lx.initCatmullRom(c.z,p.z,g.z,h.z,this.tension));return n.set(ox.calc(u),ax.calc(u),lx.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new W().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function EE(r,e,t,n,i){const s=(n-e)*.5,o=(i-t)*.5,a=r*r,u=r*a;return(2*t-2*n+s+o)*u+(-3*t+3*n-2*s-o)*a+s*r+t}function ek(r,e){const t=1-r;return t*t*e}function tk(r,e){return 2*(1-r)*r*e}function nk(r,e){return r*r*e}function vm(r,e,t,n){return ek(r,e)+tk(r,t)+nk(r,n)}function ik(r,e){const t=1-r;return t*t*t*e}function rk(r,e){const t=1-r;return 3*t*t*r*e}function sk(r,e){return 3*(1-r)*r*r*e}function ok(r,e){return r*r*r*e}function ym(r,e,t,n,i){return ik(r,e)+rk(r,t)+sk(r,n)+ok(r,i)}class gS extends Vo{constructor(e=new Le,t=new Le,n=new Le,i=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Le){const n=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(ym(e,i.x,s.x,o.x,a.x),ym(e,i.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eP extends Vo{constructor(e=new W,t=new W,n=new W,i=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new W){const n=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(ym(e,i.x,s.x,o.x,a.x),ym(e,i.y,s.y,o.y,a.y),ym(e,i.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vS extends Vo{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tP extends Vo{constructor(e=new W,t=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new W){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new W){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yS extends Vo{constructor(e=new Le,t=new Le,n=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Le){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(vm(e,i.x,s.x,o.x),vm(e,i.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _S extends Vo{constructor(e=new W,t=new W,n=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new W){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(vm(e,i.x,s.x,o.x),vm(e,i.y,s.y,o.y),vm(e,i.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xS extends Vo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const n=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,u=i[o===0?o:o-1],c=i[o],h=i[o>i.length-2?i.length-1:o+1],p=i[o>i.length-3?i.length-1:o+2];return n.set(EE(a,u.x,c.x,h.x,p.x),EE(a,u.y,c.y,h.y,p.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Le().fromArray(i))}return this}}var zv=Object.freeze({__proto__:null,ArcCurve:ZR,CatmullRomCurve3:$R,CubicBezierCurve:gS,CubicBezierCurve3:eP,EllipseCurve:Ay,LineCurve:vS,LineCurve3:tP,QuadraticBezierCurve:yS,QuadraticBezierCurve3:_S,SplineCurve:xS});class nP extends Vo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new zv[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const o=i[s]-n,a=this.curves[s],u=a.getLength(),c=u===0?0:1-o/u;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(a);for(let c=0;c<u.length;c++){const h=u[c];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new zv[i.type]().fromJSON(i))}return this}}class Nm extends nP{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new vS(this.currentPoint.clone(),new Le(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const s=new yS(this.currentPoint.clone(),new Le(e,t),new Le(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,s,o){const a=new gS(this.currentPoint.clone(),new Le(e,t),new Le(n,i),new Le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new xS(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,s,o){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,t+u,n,i,s,o),this}absarc(e,t,n,i,s,o){return this.absellipse(e,t,n,n,i,s,o),this}ellipse(e,t,n,i,s,o,a,u){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,n,i,s,o,a,u),this}absellipse(e,t,n,i,s,o,a,u){const c=new Ay(e,t,n,i,s,o,a,u);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class lg extends Vt{constructor(e=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=ai(i,0,Math.PI*2);const s=[],o=[],a=[],u=[],c=[],h=1/t,p=new W,g=new Le,v=new W,_=new W,x=new W;let A=0,S=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:A=e[C+1].x-e[C].x,S=e[C+1].y-e[C].y,v.x=S*1,v.y=-A,v.z=S*0,x.copy(v),v.normalize(),u.push(v.x,v.y,v.z);break;case e.length-1:u.push(x.x,x.y,x.z);break;default:A=e[C+1].x-e[C].x,S=e[C+1].y-e[C].y,v.x=S*1,v.y=-A,v.z=S*0,_.copy(v),v.x+=x.x,v.y+=x.y,v.z+=x.z,v.normalize(),u.push(v.x,v.y,v.z),x.copy(_)}for(let C=0;C<=t;C++){const E=n+C*h*i,R=Math.sin(E),B=Math.cos(E);for(let I=0;I<=e.length-1;I++){p.x=e[I].x*R,p.y=e[I].y,p.z=e[I].x*B,o.push(p.x,p.y,p.z),g.x=C/t,g.y=I/(e.length-1),a.push(g.x,g.y);const O=u[3*I+0]*R,U=u[3*I+1],L=u[3*I+0]*B;c.push(O,U,L)}}for(let C=0;C<t;C++)for(let E=0;E<e.length-1;E++){const R=E+C*e.length,B=R,I=R+e.length,O=R+e.length+1,U=R+1;s.push(B,I,U),s.push(O,U,I)}this.setIndex(s),this.setAttribute("position",new yt(o,3)),this.setAttribute("uv",new yt(a,2)),this.setAttribute("normal",new yt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lg(e.points,e.segments,e.phiStart,e.phiLength)}}class Sy extends lg{constructor(e=1,t=1,n=4,i=8){const s=new Nm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new Sy(e.radius,e.length,e.capSegments,e.radialSegments)}}class My extends Vt{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],u=[],c=new W,h=new Le;o.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let p=0,g=3;p<=t;p++,g+=3){const v=n+p/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[g]/e+1)/2,h.y=(o[g+1]/e+1)/2,u.push(h.x,h.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new yt(o,3)),this.setAttribute("normal",new yt(a,3)),this.setAttribute("uv",new yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new My(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gd extends Vt{constructor(e=1,t=1,n=1,i=32,s=1,o=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:u};const c=this;i=Math.floor(i),s=Math.floor(s);const h=[],p=[],g=[],v=[];let _=0;const x=[],A=n/2;let S=0;C(),o===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(h),this.setAttribute("position",new yt(p,3)),this.setAttribute("normal",new yt(g,3)),this.setAttribute("uv",new yt(v,2));function C(){const R=new W,B=new W;let I=0;const O=(t-e)/n;for(let U=0;U<=s;U++){const L=[],N=U/s,H=N*(t-e)+e;for(let q=0;q<=i;q++){const oe=q/i,J=oe*u+a,ie=Math.sin(J),se=Math.cos(J);B.x=H*ie,B.y=-N*n+A,B.z=H*se,p.push(B.x,B.y,B.z),R.set(ie,O,se).normalize(),g.push(R.x,R.y,R.z),v.push(oe,1-N),L.push(_++)}x.push(L)}for(let U=0;U<i;U++)for(let L=0;L<s;L++){const N=x[L][U],H=x[L+1][U],q=x[L+1][U+1],oe=x[L][U+1];h.push(N,H,oe),h.push(H,q,oe),I+=6}c.addGroup(S,I,0),S+=I}function E(R){const B=_,I=new Le,O=new W;let U=0;const L=R===!0?e:t,N=R===!0?1:-1;for(let q=1;q<=i;q++)p.push(0,A*N,0),g.push(0,N,0),v.push(.5,.5),_++;const H=_;for(let q=0;q<=i;q++){const J=q/i*u+a,ie=Math.cos(J),se=Math.sin(J);O.x=L*se,O.y=A*N,O.z=L*ie,p.push(O.x,O.y,O.z),g.push(0,N,0),I.x=ie*.5+.5,I.y=se*.5*N+.5,v.push(I.x,I.y),_++}for(let q=0;q<i;q++){const oe=B+q,J=H+q;R===!0?h.push(J,J+1,oe):h.push(J+1,J,oe),U+=3}c.addGroup(S,U,R===!0?1:2),S+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wy extends Gd{constructor(e=1,t=1,n=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,n,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new wy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Du extends Vt{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const s=[],o=[];a(i),c(n),h(),this.setAttribute("position",new yt(s,3)),this.setAttribute("normal",new yt(s.slice(),3)),this.setAttribute("uv",new yt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(C){const E=new W,R=new W,B=new W;for(let I=0;I<t.length;I+=3)v(t[I+0],E),v(t[I+1],R),v(t[I+2],B),u(E,R,B,C)}function u(C,E,R,B){const I=B+1,O=[];for(let U=0;U<=I;U++){O[U]=[];const L=C.clone().lerp(R,U/I),N=E.clone().lerp(R,U/I),H=I-U;for(let q=0;q<=H;q++)q===0&&U===I?O[U][q]=L:O[U][q]=L.clone().lerp(N,q/H)}for(let U=0;U<I;U++)for(let L=0;L<2*(I-U)-1;L++){const N=Math.floor(L/2);L%2===0?(g(O[U][N+1]),g(O[U+1][N]),g(O[U][N])):(g(O[U][N+1]),g(O[U+1][N+1]),g(O[U+1][N]))}}function c(C){const E=new W;for(let R=0;R<s.length;R+=3)E.x=s[R+0],E.y=s[R+1],E.z=s[R+2],E.normalize().multiplyScalar(C),s[R+0]=E.x,s[R+1]=E.y,s[R+2]=E.z}function h(){const C=new W;for(let E=0;E<s.length;E+=3){C.x=s[E+0],C.y=s[E+1],C.z=s[E+2];const R=A(C)/2/Math.PI+.5,B=S(C)/Math.PI+.5;o.push(R,1-B)}_(),p()}function p(){for(let C=0;C<o.length;C+=6){const E=o[C+0],R=o[C+2],B=o[C+4],I=Math.max(E,R,B),O=Math.min(E,R,B);I>.9&&O<.1&&(E<.2&&(o[C+0]+=1),R<.2&&(o[C+2]+=1),B<.2&&(o[C+4]+=1))}}function g(C){s.push(C.x,C.y,C.z)}function v(C,E){const R=C*3;E.x=e[R+0],E.y=e[R+1],E.z=e[R+2]}function _(){const C=new W,E=new W,R=new W,B=new W,I=new Le,O=new Le,U=new Le;for(let L=0,N=0;L<s.length;L+=9,N+=6){C.set(s[L+0],s[L+1],s[L+2]),E.set(s[L+3],s[L+4],s[L+5]),R.set(s[L+6],s[L+7],s[L+8]),I.set(o[N+0],o[N+1]),O.set(o[N+2],o[N+3]),U.set(o[N+4],o[N+5]),B.copy(C).add(E).add(R).divideScalar(3);const H=A(B);x(I,N+0,C,H),x(O,N+2,E,H),x(U,N+4,R,H)}}function x(C,E,R,B){B<0&&C.x===1&&(o[E]=C.x-1),R.x===0&&R.z===0&&(o[E]=B/2/Math.PI+.5)}function A(C){return Math.atan2(C.z,-C.x)}function S(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Du(e.vertices,e.indices,e.radius,e.details)}}class Ey extends Du{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ey(e.radius,e.detail)}}const Y0=new W,K0=new W,ux=new W,Q0=new ns;class iP extends Vt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(of*t),o=e.getIndex(),a=e.getAttribute("position"),u=o?o.count:a.count,c=[0,0,0],h=["a","b","c"],p=new Array(3),g={},v=[];for(let _=0;_<u;_+=3){o?(c[0]=o.getX(_),c[1]=o.getX(_+1),c[2]=o.getX(_+2)):(c[0]=_,c[1]=_+1,c[2]=_+2);const{a:x,b:A,c:S}=Q0;if(x.fromBufferAttribute(a,c[0]),A.fromBufferAttribute(a,c[1]),S.fromBufferAttribute(a,c[2]),Q0.getNormal(ux),p[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,p[1]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,p[2]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let C=0;C<3;C++){const E=(C+1)%3,R=p[C],B=p[E],I=Q0[h[C]],O=Q0[h[E]],U=`${R}_${B}`,L=`${B}_${R}`;L in g&&g[L]?(ux.dot(g[L].normal)<=s&&(v.push(I.x,I.y,I.z),v.push(O.x,O.y,O.z)),g[L]=null):U in g||(g[U]={index0:c[C],index1:c[E],normal:ux.clone()})}}for(const _ in g)if(g[_]){const{index0:x,index1:A}=g[_];Y0.fromBufferAttribute(a,x),K0.fromBufferAttribute(a,A),v.push(Y0.x,Y0.y,Y0.z),v.push(K0.x,K0.y,K0.z)}this.setAttribute("position",new yt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class uf extends Nm{constructor(e){super(e),this.uuid=Rs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Nm().fromJSON(i))}return this}}const ak={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let s=rP(r,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,c,h,p,g,v;if(n&&(s=hk(r,e,s,t)),r.length>80*t){a=c=r[0],u=h=r[1];for(let _=t;_<i;_+=t)p=r[_],g=r[_+1],p<a&&(a=p),g<u&&(u=g),p>c&&(c=p),g>h&&(h=g);v=Math.max(c-a,h-u),v=v!==0?32767/v:0}return Um(s,o,t,a,u,v,0),o}};function rP(r,e,t,n,i){let s,o;if(i===Mk(r,e,t,n)>0)for(s=e;s<t;s+=n)o=TE(s,r[s],r[s+1],o);else for(s=t-n;s>=e;s-=n)o=TE(s,r[s],r[s+1],o);return o&&Ty(o,o.next)&&(zm(o),o=o.next),o}function yf(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(Ty(t,t.next)||$n(t.prev,t,t.next)===0)){if(zm(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Um(r,e,t,n,i,s,o){if(!r)return;!o&&s&&vk(r,n,i,s);let a=r,u,c;for(;r.prev!==r.next;){if(u=r.prev,c=r.next,s?uk(r,n,i,s):lk(r)){e.push(u.i/t|0),e.push(r.i/t|0),e.push(c.i/t|0),zm(r),r=c.next,a=c.next;continue}if(r=c,r===a){o?o===1?(r=ck(yf(r),e,t),Um(r,e,t,n,i,s,2)):o===2&&fk(r,e,t,n,i,s):Um(yf(r),e,t,n,i,s,1);break}}}function lk(r){const e=r.prev,t=r,n=r.next;if($n(e,t,n)>=0)return!1;const i=e.x,s=t.x,o=n.x,a=e.y,u=t.y,c=n.y,h=i<s?i<o?i:o:s<o?s:o,p=a<u?a<c?a:c:u<c?u:c,g=i>s?i>o?i:o:s>o?s:o,v=a>u?a>c?a:c:u>c?u:c;let _=n.next;for(;_!==e;){if(_.x>=h&&_.x<=g&&_.y>=p&&_.y<=v&&sd(i,a,s,u,o,c,_.x,_.y)&&$n(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function uk(r,e,t,n){const i=r.prev,s=r,o=r.next;if($n(i,s,o)>=0)return!1;const a=i.x,u=s.x,c=o.x,h=i.y,p=s.y,g=o.y,v=a<u?a<c?a:c:u<c?u:c,_=h<p?h<g?h:g:p<g?p:g,x=a>u?a>c?a:c:u>c?u:c,A=h>p?h>g?h:g:p>g?p:g,S=KA(v,_,e,t,n),C=KA(x,A,e,t,n);let E=r.prevZ,R=r.nextZ;for(;E&&E.z>=S&&R&&R.z<=C;){if(E.x>=v&&E.x<=x&&E.y>=_&&E.y<=A&&E!==i&&E!==o&&sd(a,h,u,p,c,g,E.x,E.y)&&$n(E.prev,E,E.next)>=0||(E=E.prevZ,R.x>=v&&R.x<=x&&R.y>=_&&R.y<=A&&R!==i&&R!==o&&sd(a,h,u,p,c,g,R.x,R.y)&&$n(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;E&&E.z>=S;){if(E.x>=v&&E.x<=x&&E.y>=_&&E.y<=A&&E!==i&&E!==o&&sd(a,h,u,p,c,g,E.x,E.y)&&$n(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;R&&R.z<=C;){if(R.x>=v&&R.x<=x&&R.y>=_&&R.y<=A&&R!==i&&R!==o&&sd(a,h,u,p,c,g,R.x,R.y)&&$n(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function ck(r,e,t){let n=r;do{const i=n.prev,s=n.next.next;!Ty(i,s)&&sP(i,n,n.next,s)&&km(i,s)&&km(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),zm(n),zm(n.next),n=r=s),n=n.next}while(n!==r);return yf(n)}function fk(r,e,t,n,i,s){let o=r;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&xk(o,a)){let u=oP(o,a);o=yf(o,o.next),u=yf(u,u.next),Um(o,e,t,n,i,s,0),Um(u,e,t,n,i,s,0);return}a=a.next}o=o.next}while(o!==r)}function hk(r,e,t,n){const i=[];let s,o,a,u,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:r.length,c=rP(r,a,u,n,!1),c===c.next&&(c.steiner=!0),i.push(_k(c));for(i.sort(dk),s=0;s<i.length;s++)t=pk(i[s],t);return t}function dk(r,e){return r.x-e.x}function pk(r,e){const t=mk(r,e);if(!t)return e;const n=oP(t,r);return yf(n,n.next),yf(t,t.next)}function mk(r,e){let t=e,n=-1/0,i;const s=r.x,o=r.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const g=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=s&&g>n&&(n=g,i=t.x<t.next.x?t:t.next,g===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,u=i.x,c=i.y;let h=1/0,p;t=i;do s>=t.x&&t.x>=u&&s!==t.x&&sd(o<c?s:n,o,u,c,o<c?n:s,o,t.x,t.y)&&(p=Math.abs(o-t.y)/(s-t.x),km(t,r)&&(p<h||p===h&&(t.x>i.x||t.x===i.x&&gk(i,t)))&&(i=t,h=p)),t=t.next;while(t!==a);return i}function gk(r,e){return $n(r.prev,r,e.prev)<0&&$n(e.next,r,r.next)<0}function vk(r,e,t,n){let i=r;do i.z===0&&(i.z=KA(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,yk(i)}function yk(r){let e,t,n,i,s,o,a,u,c=1;do{for(t=r,r=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(u=c;a>0||u>0&&n;)a!==0&&(u===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,c*=2}while(o>1);return r}function KA(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function _k(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function sd(r,e,t,n,i,s,o,a){return(i-o)*(e-a)>=(r-o)*(s-a)&&(r-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(n-a)}function xk(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!Ak(r,e)&&(km(r,e)&&km(e,r)&&Sk(r,e)&&($n(r.prev,r,e.prev)||$n(r,e.prev,e))||Ty(r,e)&&$n(r.prev,r,r.next)>0&&$n(e.prev,e,e.next)>0)}function $n(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Ty(r,e){return r.x===e.x&&r.y===e.y}function sP(r,e,t,n){const i=Z0($n(r,e,t)),s=Z0($n(r,e,n)),o=Z0($n(t,n,r)),a=Z0($n(t,n,e));return!!(i!==s&&o!==a||i===0&&q0(r,t,e)||s===0&&q0(r,n,e)||o===0&&q0(t,r,n)||a===0&&q0(t,e,n))}function q0(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function Z0(r){return r>0?1:r<0?-1:0}function Ak(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&sP(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function km(r,e){return $n(r.prev,r,r.next)<0?$n(r,e,r.next)>=0&&$n(r,r.prev,e)>=0:$n(r,e,r.prev)<0||$n(r,r.next,e)<0}function Sk(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function oP(r,e){const t=new QA(r.i,r.x,r.y),n=new QA(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function TE(r,e,t,n){const i=new QA(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function zm(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function QA(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mk(r,e,t,n){let i=0;for(let s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}class ha{static area(e){const t=e.length;let n=0;for(let i=t-1,s=0;s<t;i=s++)n+=e[i].x*e[s].y-e[s].x*e[i].y;return n*.5}static isClockWise(e){return ha.area(e)<0}static triangulateShape(e,t){const n=[],i=[],s=[];CE(e),bE(n,e);let o=e.length;t.forEach(CE);for(let u=0;u<t.length;u++)i.push(o),o+=t[u].length,bE(n,t[u]);const a=ak.triangulate(n,i);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function CE(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function bE(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Cy extends Vt{constructor(e=new uf([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],s=[];for(let a=0,u=e.length;a<u;a++){const c=e[a];o(c)}this.setAttribute("position",new yt(i,3)),this.setAttribute("uv",new yt(s,2)),this.computeVertexNormals();function o(a){const u=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:wk;let E,R=!1,B,I,O,U;S&&(E=S.getSpacedPoints(h),R=!0,g=!1,B=S.computeFrenetFrames(h,!1),I=new W,O=new W,U=new W),g||(A=0,v=0,_=0,x=0);const L=a.extractPoints(c);let N=L.shape;const H=L.holes;if(!ha.isClockWise(N)){N=N.reverse();for(let ne=0,Ie=H.length;ne<Ie;ne++){const Ce=H[ne];ha.isClockWise(Ce)&&(H[ne]=Ce.reverse())}}const oe=ha.triangulateShape(N,H),J=N;for(let ne=0,Ie=H.length;ne<Ie;ne++){const Ce=H[ne];N=N.concat(Ce)}function ie(ne,Ie,Ce){return Ie||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(Ie,Ce)}const se=N.length,le=oe.length;function Q(ne,Ie,Ce){let Xe,Fe,lt;const it=ne.x-Ie.x,rt=ne.y-Ie.y,_t=Ce.x-ne.x,It=Ce.y-ne.y,en=it*it+rt*rt,Z=it*It-rt*_t;if(Math.abs(Z)>Number.EPSILON){const G=Math.sqrt(en),ye=Math.sqrt(_t*_t+It*It),Ge=Ie.x-rt/G,Ne=Ie.y+it/G,je=Ce.x-It/ye,mt=Ce.y+_t/ye,Je=((je-Ge)*It-(mt-Ne)*_t)/(it*It-rt*_t);Xe=Ge+it*Je-ne.x,Fe=Ne+rt*Je-ne.y;const nt=Xe*Xe+Fe*Fe;if(nt<=2)return new Le(Xe,Fe);lt=Math.sqrt(nt/2)}else{let G=!1;it>Number.EPSILON?_t>Number.EPSILON&&(G=!0):it<-Number.EPSILON?_t<-Number.EPSILON&&(G=!0):Math.sign(rt)===Math.sign(It)&&(G=!0),G?(Xe=-rt,Fe=it,lt=Math.sqrt(en)):(Xe=it,Fe=rt,lt=Math.sqrt(en/2))}return new Le(Xe/lt,Fe/lt)}const Y=[];for(let ne=0,Ie=J.length,Ce=Ie-1,Xe=ne+1;ne<Ie;ne++,Ce++,Xe++)Ce===Ie&&(Ce=0),Xe===Ie&&(Xe=0),Y[ne]=Q(J[ne],J[Ce],J[Xe]);const V=[];let k,K=Y.concat();for(let ne=0,Ie=H.length;ne<Ie;ne++){const Ce=H[ne];k=[];for(let Xe=0,Fe=Ce.length,lt=Fe-1,it=Xe+1;Xe<Fe;Xe++,lt++,it++)lt===Fe&&(lt=0),it===Fe&&(it=0),k[Xe]=Q(Ce[Xe],Ce[lt],Ce[it]);V.push(k),K=K.concat(k)}for(let ne=0;ne<A;ne++){const Ie=ne/A,Ce=v*Math.cos(Ie*Math.PI/2),Xe=_*Math.sin(Ie*Math.PI/2)+x;for(let Fe=0,lt=J.length;Fe<lt;Fe++){const it=ie(J[Fe],Y[Fe],Xe);Re(it.x,it.y,-Ce)}for(let Fe=0,lt=H.length;Fe<lt;Fe++){const it=H[Fe];k=V[Fe];for(let rt=0,_t=it.length;rt<_t;rt++){const It=ie(it[rt],k[rt],Xe);Re(It.x,It.y,-Ce)}}}const re=_+x;for(let ne=0;ne<se;ne++){const Ie=g?ie(N[ne],K[ne],re):N[ne];R?(O.copy(B.normals[0]).multiplyScalar(Ie.x),I.copy(B.binormals[0]).multiplyScalar(Ie.y),U.copy(E[0]).add(O).add(I),Re(U.x,U.y,U.z)):Re(Ie.x,Ie.y,0)}for(let ne=1;ne<=h;ne++)for(let Ie=0;Ie<se;Ie++){const Ce=g?ie(N[Ie],K[Ie],re):N[Ie];R?(O.copy(B.normals[ne]).multiplyScalar(Ce.x),I.copy(B.binormals[ne]).multiplyScalar(Ce.y),U.copy(E[ne]).add(O).add(I),Re(U.x,U.y,U.z)):Re(Ce.x,Ce.y,p/h*ne)}for(let ne=A-1;ne>=0;ne--){const Ie=ne/A,Ce=v*Math.cos(Ie*Math.PI/2),Xe=_*Math.sin(Ie*Math.PI/2)+x;for(let Fe=0,lt=J.length;Fe<lt;Fe++){const it=ie(J[Fe],Y[Fe],Xe);Re(it.x,it.y,p+Ce)}for(let Fe=0,lt=H.length;Fe<lt;Fe++){const it=H[Fe];k=V[Fe];for(let rt=0,_t=it.length;rt<_t;rt++){const It=ie(it[rt],k[rt],Xe);R?Re(It.x,It.y+E[h-1].y,E[h-1].x+Ce):Re(It.x,It.y,p+Ce)}}}j(),Te();function j(){const ne=i.length/3;if(g){let Ie=0,Ce=se*Ie;for(let Xe=0;Xe<le;Xe++){const Fe=oe[Xe];Ue(Fe[2]+Ce,Fe[1]+Ce,Fe[0]+Ce)}Ie=h+A*2,Ce=se*Ie;for(let Xe=0;Xe<le;Xe++){const Fe=oe[Xe];Ue(Fe[0]+Ce,Fe[1]+Ce,Fe[2]+Ce)}}else{for(let Ie=0;Ie<le;Ie++){const Ce=oe[Ie];Ue(Ce[2],Ce[1],Ce[0])}for(let Ie=0;Ie<le;Ie++){const Ce=oe[Ie];Ue(Ce[0]+se*h,Ce[1]+se*h,Ce[2]+se*h)}}n.addGroup(ne,i.length/3-ne,0)}function Te(){const ne=i.length/3;let Ie=0;me(J,Ie),Ie+=J.length;for(let Ce=0,Xe=H.length;Ce<Xe;Ce++){const Fe=H[Ce];me(Fe,Ie),Ie+=Fe.length}n.addGroup(ne,i.length/3-ne,1)}function me(ne,Ie){let Ce=ne.length;for(;--Ce>=0;){const Xe=Ce;let Fe=Ce-1;Fe<0&&(Fe=ne.length-1);for(let lt=0,it=h+A*2;lt<it;lt++){const rt=se*lt,_t=se*(lt+1),It=Ie+Xe+rt,en=Ie+Fe+rt,Z=Ie+Fe+_t,G=Ie+Xe+_t;We(It,en,Z,G)}}}function Re(ne,Ie,Ce){u.push(ne),u.push(Ie),u.push(Ce)}function Ue(ne,Ie,Ce){De(ne),De(Ie),De(Ce);const Xe=i.length/3,Fe=C.generateTopUV(n,i,Xe-3,Xe-2,Xe-1);Oe(Fe[0]),Oe(Fe[1]),Oe(Fe[2])}function We(ne,Ie,Ce,Xe){De(ne),De(Ie),De(Xe),De(Ie),De(Ce),De(Xe);const Fe=i.length/3,lt=C.generateSideWallUV(n,i,Fe-6,Fe-3,Fe-2,Fe-1);Oe(lt[0]),Oe(lt[1]),Oe(lt[3]),Oe(lt[1]),Oe(lt[2]),Oe(lt[3])}function De(ne){i.push(u[ne*3+0]),i.push(u[ne*3+1]),i.push(u[ne*3+2])}function Oe(ne){s.push(ne.x),s.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Ek(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];n.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zv[i.type]().fromJSON(i)),new Cy(n,e.options)}}const wk={generateTopUV:function(r,e,t,n,i){const s=e[t*3],o=e[t*3+1],a=e[n*3],u=e[n*3+1],c=e[i*3],h=e[i*3+1];return[new Le(s,o),new Le(a,u),new Le(c,h)]},generateSideWallUV:function(r,e,t,n,i,s){const o=e[t*3],a=e[t*3+1],u=e[t*3+2],c=e[n*3],h=e[n*3+1],p=e[n*3+2],g=e[i*3],v=e[i*3+1],_=e[i*3+2],x=e[s*3],A=e[s*3+1],S=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new Le(o,1-u),new Le(c,1-p),new Le(g,1-_),new Le(x,1-S)]:[new Le(a,1-u),new Le(h,1-p),new Le(v,1-_),new Le(A,1-S)]}};function Ek(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const s=r[n];t.shapes.push(s.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class by extends Du{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new by(e.radius,e.detail)}}class ug extends Du{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ug(e.radius,e.detail)}}class Ry extends Vt{constructor(e=.5,t=1,n=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const a=[],u=[],c=[],h=[];let p=e;const g=(t-e)/i,v=new W,_=new Le;for(let x=0;x<=i;x++){for(let A=0;A<=n;A++){const S=s+A/n*o;v.x=p*Math.cos(S),v.y=p*Math.sin(S),u.push(v.x,v.y,v.z),c.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,h.push(_.x,_.y)}p+=g}for(let x=0;x<i;x++){const A=x*(n+1);for(let S=0;S<n;S++){const C=S+A,E=C,R=C+n+1,B=C+n+2,I=C+1;a.push(E,R,I),a.push(R,B,I)}}this.setIndex(a),this.setAttribute("position",new yt(u,3)),this.setAttribute("normal",new yt(c,3)),this.setAttribute("uv",new yt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Py extends Vt{constructor(e=new uf([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],s=[],o=[];let a=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,u,h),a+=u,u=0;this.setIndex(n),this.setAttribute("position",new yt(i,3)),this.setAttribute("normal",new yt(s,3)),this.setAttribute("uv",new yt(o,2));function c(h){const p=i.length/3,g=h.extractPoints(t);let v=g.shape;const _=g.holes;ha.isClockWise(v)===!1&&(v=v.reverse());for(let A=0,S=_.length;A<S;A++){const C=_[A];ha.isClockWise(C)===!0&&(_[A]=C.reverse())}const x=ha.triangulateShape(v,_);for(let A=0,S=_.length;A<S;A++){const C=_[A];v=v.concat(C)}for(let A=0,S=v.length;A<S;A++){const C=v[A];i.push(C.x,C.y,0),s.push(0,0,1),o.push(C.x,C.y)}for(let A=0,S=x.length;A<S;A++){const C=x[A],E=C[0]+p,R=C[1]+p,B=C[2]+p;n.push(E,R,B),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Tk(t,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];n.push(o)}return new Py(n,e.curveSegments)}}function Tk(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class cg extends Vt{constructor(e=1,t=32,n=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const u=Math.min(o+a,Math.PI);let c=0;const h=[],p=new W,g=new W,v=[],_=[],x=[],A=[];for(let S=0;S<=n;S++){const C=[],E=S/n;let R=0;S===0&&o===0?R=.5/t:S===n&&u===Math.PI&&(R=-.5/t);for(let B=0;B<=t;B++){const I=B/t;p.x=-e*Math.cos(i+I*s)*Math.sin(o+E*a),p.y=e*Math.cos(o+E*a),p.z=e*Math.sin(i+I*s)*Math.sin(o+E*a),_.push(p.x,p.y,p.z),g.copy(p).normalize(),x.push(g.x,g.y,g.z),A.push(I+R,1-E),C.push(c++)}h.push(C)}for(let S=0;S<n;S++)for(let C=0;C<t;C++){const E=h[S][C+1],R=h[S][C],B=h[S+1][C],I=h[S+1][C+1];(S!==0||o>0)&&v.push(E,R,I),(S!==n-1||u<Math.PI)&&v.push(R,B,I)}this.setIndex(v),this.setAttribute("position",new yt(_,3)),this.setAttribute("normal",new yt(x,3)),this.setAttribute("uv",new yt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class By extends Du{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new By(e.radius,e.detail)}}class Ly extends Vt{constructor(e=1,t=.4,n=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:s},n=Math.floor(n),i=Math.floor(i);const o=[],a=[],u=[],c=[],h=new W,p=new W,g=new W;for(let v=0;v<=n;v++)for(let _=0;_<=i;_++){const x=_/i*s,A=v/n*Math.PI*2;p.x=(e+t*Math.cos(A))*Math.cos(x),p.y=(e+t*Math.cos(A))*Math.sin(x),p.z=t*Math.sin(A),a.push(p.x,p.y,p.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),g.subVectors(p,h).normalize(),u.push(g.x,g.y,g.z),c.push(_/i),c.push(v/n)}for(let v=1;v<=n;v++)for(let _=1;_<=i;_++){const x=(i+1)*v+_-1,A=(i+1)*(v-1)+_-1,S=(i+1)*(v-1)+_,C=(i+1)*v+_;o.push(x,A,C),o.push(A,S,C)}this.setIndex(o),this.setAttribute("position",new yt(a,3)),this.setAttribute("normal",new yt(u,3)),this.setAttribute("uv",new yt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ly(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Dy extends Vt{constructor(e=1,t=.4,n=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:s,q:o},n=Math.floor(n),i=Math.floor(i);const a=[],u=[],c=[],h=[],p=new W,g=new W,v=new W,_=new W,x=new W,A=new W,S=new W;for(let E=0;E<=n;++E){const R=E/n*s*Math.PI*2;C(R,s,o,e,v),C(R+.01,s,o,e,_),A.subVectors(_,v),S.addVectors(_,v),x.crossVectors(A,S),S.crossVectors(x,A),x.normalize(),S.normalize();for(let B=0;B<=i;++B){const I=B/i*Math.PI*2,O=-t*Math.cos(I),U=t*Math.sin(I);p.x=v.x+(O*S.x+U*x.x),p.y=v.y+(O*S.y+U*x.y),p.z=v.z+(O*S.z+U*x.z),u.push(p.x,p.y,p.z),g.subVectors(p,v).normalize(),c.push(g.x,g.y,g.z),h.push(E/n),h.push(B/i)}}for(let E=1;E<=n;E++)for(let R=1;R<=i;R++){const B=(i+1)*(E-1)+(R-1),I=(i+1)*E+(R-1),O=(i+1)*E+R,U=(i+1)*(E-1)+R;a.push(B,I,U),a.push(I,O,U)}this.setIndex(a),this.setAttribute("position",new yt(u,3)),this.setAttribute("normal",new yt(c,3)),this.setAttribute("uv",new yt(h,2));function C(E,R,B,I,O){const U=Math.cos(E),L=Math.sin(E),N=B/R*E,H=Math.cos(N);O.x=I*(2+H)*.5*U,O.y=I*(2+H)*L*.5,O.z=I*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Iy extends Vt{constructor(e=new _S(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),t=64,n=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new W,u=new W,c=new Le;let h=new W;const p=[],g=[],v=[],_=[];x(),this.setIndex(_),this.setAttribute("position",new yt(p,3)),this.setAttribute("normal",new yt(g,3)),this.setAttribute("uv",new yt(v,2));function x(){for(let E=0;E<t;E++)A(E);A(s===!1?t:0),C(),S()}function A(E){h=e.getPointAt(E/t,h);const R=o.normals[E],B=o.binormals[E];for(let I=0;I<=i;I++){const O=I/i*Math.PI*2,U=Math.sin(O),L=-Math.cos(O);u.x=L*R.x+U*B.x,u.y=L*R.y+U*B.y,u.z=L*R.z+U*B.z,u.normalize(),g.push(u.x,u.y,u.z),a.x=h.x+n*u.x,a.y=h.y+n*u.y,a.z=h.z+n*u.z,p.push(a.x,a.y,a.z)}}function S(){for(let E=1;E<=t;E++)for(let R=1;R<=i;R++){const B=(i+1)*(E-1)+(R-1),I=(i+1)*E+(R-1),O=(i+1)*E+R,U=(i+1)*(E-1)+R;_.push(B,I,U),_.push(I,O,U)}}function C(){for(let E=0;E<=t;E++)for(let R=0;R<=i;R++)c.x=E/t,c.y=R/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Iy(new zv[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aP extends Vt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new W,s=new W;if(e.index!==null){const o=e.attributes.position,a=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,h=u.length;c<h;++c){const p=u[c],g=p.start,v=p.count;for(let _=g,x=g+v;_<x;_+=3)for(let A=0;A<3;A++){const S=a.getX(_+A),C=a.getX(_+(A+1)%3);i.fromBufferAttribute(o,S),s.fromBufferAttribute(o,C),RE(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,u=o.count/3;a<u;a++)for(let c=0;c<3;c++){const h=3*a+c,p=3*a+(c+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,p),RE(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new yt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function RE(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var PE=Object.freeze({__proto__:null,BoxGeometry:Tf,CapsuleGeometry:Sy,CircleGeometry:My,ConeGeometry:wy,CylinderGeometry:Gd,DodecahedronGeometry:Ey,EdgesGeometry:iP,ExtrudeGeometry:Cy,IcosahedronGeometry:by,LatheGeometry:lg,OctahedronGeometry:ug,PlaneGeometry:rg,PolyhedronGeometry:Du,RingGeometry:Ry,ShapeGeometry:Py,SphereGeometry:cg,TetrahedronGeometry:By,TorusGeometry:Ly,TorusKnotGeometry:Dy,TubeGeometry:Iy,WireframeGeometry:aP});class lP extends bi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class uP extends ga{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fg extends bi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class no extends fg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ai(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cP extends bi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ot(16777215),this.specular=new ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$m,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fP extends bi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hP extends bi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dP extends bi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$m,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pP extends bi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mP extends wr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zc(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function gP(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function vP(r){function e(i,s){return r[i]-r[s]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function qA(r,e,t){const n=r.length,i=new r.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let u=0;u!==e;++u)i[o++]=r[a+u]}return i}function AS(r,e,t,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=r[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=r[i++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=r[i++];while(s!==void 0)}function Ck(r,e,t,n,i=30){const s=r.clone();s.name=e;const o=[];for(let u=0;u<s.tracks.length;++u){const c=s.tracks[u],h=c.getValueSize(),p=[],g=[];for(let v=0;v<c.times.length;++v){const _=c.times[v]*i;if(!(_<t||_>=n)){p.push(c.times[v]);for(let x=0;x<h;++x)g.push(c.values[v*h+x])}}p.length!==0&&(c.times=Zc(p,c.times.constructor),c.values=Zc(g,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let u=0;u<s.tracks.length;++u)a>s.tracks[u].times[0]&&(a=s.tracks[u].times[0]);for(let u=0;u<s.tracks.length;++u)s.tracks[u].shift(-1*a);return s.resetDuration(),s}function bk(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,s=e/n;for(let o=0;o<i;++o){const a=t.tracks[o],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const c=r.tracks.find(function(S){return S.name===a.name&&S.ValueTypeName===u});if(c===void 0)continue;let h=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let g=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const _=a.times.length-1;let x;if(s<=a.times[0]){const S=h,C=p-h;x=a.values.slice(S,C)}else if(s>=a.times[_]){const S=_*p+h,C=S+p-h;x=a.values.slice(S,C)}else{const S=a.createInterpolant(),C=h,E=p-h;S.evaluate(s),x=S.resultBuffer.slice(C,E)}u==="quaternion"&&new Ji().fromArray(x).normalize().conjugate().toArray(x);const A=c.times.length;for(let S=0;S<A;++S){const C=S*v+g;if(u==="quaternion")Ji.multiplyQuaternionsFlat(c.values,C,x,0,c.values,C);else{const E=v-g*2;for(let R=0;R<E;++R)c.values[C+R]-=x[R]}}}return r.blendMode=J1,r}const Rk={convertArray:Zc,isTypedArray:gP,getKeyframeOrder:vP,sortedArray:qA,flattenJSON:AS,subclip:Ck,makeClipAdditive:bk};class Hd{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(n=2,s=a);for(let u=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(i=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yP extends Hd{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Kc,endingEnd:Kc}}intervalChanged_(e,t,n){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],u=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Qc:s=e,a=2*t-n;break;case Bm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=n}if(u===void 0)switch(this.getSettings_().endingEnd){case Qc:o=e,u=2*n-t;break;case Bm:o=1,u=n+i[1]-i[0];break;default:o=e-1,u=t}const c=(n-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-n),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,h=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,v=this._weightNext,_=(n-t)/(i-t),x=_*_,A=x*_,S=-g*A+2*g*x-g*_,C=(1+g)*A+(-1.5-2*g)*x+(-.5+g)*_+1,E=(-1-v)*A+(1.5+v)*x+.5*_,R=v*A-v*x;for(let B=0;B!==a;++B)s[B]=S*o[h+B]+C*o[c+B]+E*o[u+B]+R*o[p+B];return s}}class SS extends Hd{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,h=(n-t)/(i-t),p=1-h;for(let g=0;g!==a;++g)s[g]=o[c+g]*p+o[u+g]*h;return s}}class _P extends Hd{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wo{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zc(t,this.TimeBufferType),this.values=Zc(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Zc(e.times,Array),values:Zc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new _P(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new SS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Md:t=this.InterpolantFactoryMethodDiscrete;break;case gf:t=this.InterpolantFactoryMethodLinear;break;case Mv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Md;case this.InterpolantFactoryMethodLinear:return gf;case this.InterpolantFactoryMethodSmooth:return Mv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let s=0,o=i-1;for(;s!==i&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=n[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(i!==void 0&&gP(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Mv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(i)u=!0;else{const p=a*n,g=p-n,v=p+n;for(let _=0;_!==n;++_){const x=t[p+_];if(x!==t[g+_]||x!==t[v+_]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const p=a*n,g=o*n;for(let v=0;v!==n;++v)t[g+v]=t[p+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,u=o*n,c=0;c!==n;++c)t[u+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Wo.prototype.TimeBufferType=Float32Array;Wo.prototype.ValueBufferType=Float32Array;Wo.prototype.DefaultInterpolation=gf;class Cf extends Wo{}Cf.prototype.ValueTypeName="bool";Cf.prototype.ValueBufferType=Array;Cf.prototype.DefaultInterpolation=Md;Cf.prototype.InterpolantFactoryMethodLinear=void 0;Cf.prototype.InterpolantFactoryMethodSmooth=void 0;class MS extends Wo{}MS.prototype.ValueTypeName="color";class _f extends Wo{}_f.prototype.ValueTypeName="number";class xP extends Hd{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(n-t)/(i-t);let c=e*a;for(let h=c+a;c!==h;c+=4)Ji.slerpFlat(s,0,o,c-a,o,c,u);return s}}class Cu extends Wo{InterpolantFactoryMethodLinear(e){return new xP(this.times,this.values,this.getValueSize(),e)}}Cu.prototype.ValueTypeName="quaternion";Cu.prototype.DefaultInterpolation=gf;Cu.prototype.InterpolantFactoryMethodSmooth=void 0;class bf extends Wo{}bf.prototype.ValueTypeName="string";bf.prototype.ValueBufferType=Array;bf.prototype.DefaultInterpolation=Md;bf.prototype.InterpolantFactoryMethodLinear=void 0;bf.prototype.InterpolantFactoryMethodSmooth=void 0;class xf extends Wo{}xf.prototype.ValueTypeName="vector";class Cd{constructor(e,t=-1,n,i=dy){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Rs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(Bk(n[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(Wo.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const s=t.length,o=[];for(let a=0;a<s;a++){let u=[],c=[];u.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=vP(u);u=qA(u,1,h),c=qA(c,1,h),!i&&u[0]===0&&(u.push(s),c.push(c[0])),o.push(new _f(".morphTargetInfluences["+t[a].name+"]",u,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const p=h[1];let g=i[p];g||(i[p]=g=[]),g.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(p,g,v,_,x){if(v.length!==0){const A=[],S=[];AS(v,A,S,_),A.length!==0&&x.push(new p(g,A,S))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const g=c[p].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let _;for(_=0;_<g.length;_++)if(g[_].morphTargets)for(let x=0;x<g[_].morphTargets.length;x++)v[g[_].morphTargets[x]]=-1;for(const x in v){const A=[],S=[];for(let C=0;C!==g[_].morphTargets.length;++C){const E=g[_];A.push(E.time),S.push(E.morphTarget===x?1:0)}i.push(new _f(".morphTargetInfluence["+x+"]",A,S))}u=v.length*o}else{const v=".bones["+t[p].name+"]";n(xf,v+".position",g,"pos",i),n(Cu,v+".quaternion",g,"rot",i),n(xf,v+".scale",g,"scl",i)}}return i.length===0?null:new this(s,u,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Pk(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _f;case"vector":case"vector2":case"vector3":case"vector4":return xf;case"color":return MS;case"quaternion":return Cu;case"bool":case"boolean":return Cf;case"string":return bf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function Bk(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Pk(r.type);if(r.times===void 0){const t=[],n=[];AS(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const Af={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class wS{constructor(e,t,n){const i=this;let s=!1,o=0,a=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return p!==-1&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,g=c.length;p<g;p+=2){const v=c[p],_=c[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return _}return null}}}const od=new wS;class lr{constructor(e){this.manager=e!==void 0?e:od,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}lr.DEFAULT_MATERIAL_NAME="__DEFAULT";const nl={};class Lk extends Error{constructor(e,t){super(e),this.response=t}}class Hr extends lr{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Af.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(nl[e]!==void 0){nl[e].push({onLoad:t,onProgress:n,onError:i});return}nl[e]=[],nl[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=nl[e],p=c.body.getReader(),g=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),v=g?parseInt(g):0,_=v!==0;let x=0;const A=new ReadableStream({start(S){C();function C(){p.read().then(({done:E,value:R})=>{if(E)S.close();else{x+=R.byteLength;const B=new ProgressEvent("progress",{lengthComputable:_,loaded:x,total:v});for(let I=0,O=h.length;I<O;I++){const U=h[I];U.onProgress&&U.onProgress(B)}S.enqueue(R),C()}})}}});return new Response(A)}else throw new Lk(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),g=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(g);return c.arrayBuffer().then(_=>v.decode(_))}}}).then(c=>{Af.add(e,c);const h=nl[e];delete nl[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onLoad&&v.onLoad(c)}}).catch(c=>{const h=nl[e];if(h===void 0)throw this.manager.itemError(e),c;delete nl[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Dk extends lr{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new Hr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){i?i(u):console.error(u),s.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=Cd.parse(e[n]);t.push(i)}return t}}class Ik extends lr{constructor(e){super(e)}load(e,t,n,i){const s=this,o=[],a=new xy,u=new Hr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let c=0;function h(p){u.load(e[p],function(g){const v=s.parse(g,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=Zn),a.image=o,a.format=v.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let p=0,g=e.length;p<g;++p)h(p);else u.load(e,function(p){const g=s.parse(p,!0);if(g.isCubemap){const v=g.mipmaps.length/g.mipmapCount;for(let _=0;_<v;_++){o[_]={mipmaps:[]};for(let x=0;x<g.mipmapCount;x++)o[_].mipmaps.push(g.mipmaps[_*g.mipmapCount+x]),o[_].format=g.format,o[_].width=g.width,o[_].height=g.height}a.image=o}else a.image.width=g.width,a.image.height=g.height,a.mipmaps=g.mipmaps;g.mipmapCount===1&&(a.minFilter=Zn),a.format=g.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}}class Gm extends lr{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Af.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Om("img");function u(){h(),Af.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(p){h(),i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",u,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Fk extends lr{constructor(e){super(e)}load(e,t,n,i){const s=new ng;s.colorSpace=mi;const o=new Gm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function u(c){o.load(e[c],function(h){s.images[c]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)u(c);return s}}class Ok extends lr{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new lf,a=new Hr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(u){let c;try{c=s.parse(u)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:sr,o.wrapT=c.wrapT!==void 0?c.wrapT:sr,o.magFilter=c.magFilter!==void 0?c.magFilter:Zn,o.minFilter=c.minFilter!==void 0?c.minFilter:Zn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ma),c.mipmapCount===1&&(o.minFilter=Zn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},n,i),o}}class hg extends lr{constructor(e){super(e)}load(e,t,n,i){const s=new On,o=new Gm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}}class Iu extends un{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class AP extends Iu{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const cx=new Rt,BE=new W,LE=new W;class ES{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new Rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ig,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;BE.setFromMatrixPosition(e.matrixWorld),t.position.copy(BE),LE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(LE),t.updateMatrixWorld(),cx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cx),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(cx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Nk extends ES{constructor(){super(new jn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Ed*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class TS extends Iu{constructor(e,t,n=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.distance=n,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Nk}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const DE=new Rt,Qp=new W,fx=new W;class Uk extends ES{constructor(){super(new jn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new xn(2,1,1,1),new xn(0,1,1,1),new xn(3,1,1,1),new xn(1,1,1,1),new xn(3,0,1,1),new xn(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Qp.setFromMatrixPosition(e.matrixWorld),n.position.copy(Qp),fx.copy(n.position),fx.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(fx),n.updateMatrixWorld(),i.makeTranslation(-Qp.x,-Qp.y,-Qp.z),DE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DE)}}class CS extends Iu{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Uk}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kk extends ES{constructor(){super(new Uo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bS extends Iu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.shadow=new kk}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class SP extends Iu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MP extends Iu{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class wP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new W)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-i*i)}}class EP extends Iu{constructor(e=new wP,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Fy extends lr{constructor(e){super(e),this.textures={}}load(e,t,n,i){const s=this,o=new Hr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){i?i(u):console.error(u),s.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Fy.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=n(o.value);break;case"c":i.uniforms[s].value=new ot().setHex(o.value);break;case"v2":i.uniforms[s].value=new Le().fromArray(o.value);break;case"v3":i.uniforms[s].value=new W().fromArray(o.value);break;case"v4":i.uniforms[s].value=new xn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Zt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Rt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Le().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:lP,SpriteMaterial:cS,RawShaderMaterial:uP,ShaderMaterial:ga,PointsMaterial:ag,MeshPhysicalMaterial:no,MeshStandardMaterial:fg,MeshPhongMaterial:cP,MeshToonMaterial:fP,MeshNormalMaterial:hP,MeshLambertMaterial:dP,MeshDepthMaterial:aS,MeshDistanceMaterial:lS,MeshBasicMaterial:Cs,MeshMatcapMaterial:pP,LineDashedMaterial:mP,LineBasicMaterial:wr,Material:bi};return new t[e]}}class xu{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class TP extends Vt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class CP extends lr{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new Hr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){i?i(u):console.error(u),s.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(v,_){if(t[_]!==void 0)return t[_];const A=v.interleavedBuffers[_],S=s(v,A.buffer),C=id(A.type,S),E=new sg(C,A.stride);return E.uuid=A.uuid,t[_]=E,E}function s(v,_){if(n[_]!==void 0)return n[_];const A=v.arrayBuffers[_],S=new Uint32Array(A).buffer;return n[_]=S,S}const o=e.isInstancedBufferGeometry?new TP:new Vt,a=e.data.index;if(a!==void 0){const v=id(a.type,a.array);o.setIndex(new on(v,1))}const u=e.data.attributes;for(const v in u){const _=u[v];let x;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);x=new Tu(A,_.itemSize,_.offset,_.normalized)}else{const A=id(_.type,_.array),S=_.isInstancedBufferAttribute?vf:on;x=new S(A,_.itemSize,_.normalized)}_.name!==void 0&&(x.name=_.name),_.usage!==void 0&&x.setUsage(_.usage),o.setAttribute(v,x)}const c=e.data.morphAttributes;if(c)for(const v in c){const _=c[v],x=[];for(let A=0,S=_.length;A<S;A++){const C=_[A];let E;if(C.isInterleavedBufferAttribute){const R=i(e.data,C.data);E=new Tu(R,C.itemSize,C.offset,C.normalized)}else{const R=id(C.type,C.array);E=new on(R,C.itemSize,C.normalized)}C.name!==void 0&&(E.name=C.name),x.push(E)}o.morphAttributes[v]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,_=p.length;v!==_;++v){const x=p[v];o.addGroup(x.start,x.count,x.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const v=new W;g.center!==void 0&&v.fromArray(g.center),o.boundingSphere=new or(v,g.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class zk extends lr{constructor(e){super(e)}load(e,t,n,i){const s=this,o=this.path===""?xu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Hr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){let c=null;try{c=JSON.parse(u)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?xu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Hr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),u=a.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,u,a,n),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let p=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,c),u}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const s=new uf().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new og().fromJSON(e[s],i);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new CP;for(let s=0,o=e.length;s<o;s++){let a;const u=e[s];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(u);break;default:u.type in PE?a=PE[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}a.uuid=u.uuid,u.name!==void 0&&(a.name=u.name),u.userData!==void 0&&(a.userData=u.userData),n[u.uuid]=a}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const s=new Fy;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const u=e[o];n[u.uuid]===void 0&&(n[u.uuid]=s.parse(u)),i[u.uuid]=n[u.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],s=Cd.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const n=this,i={};let s;function o(u){return n.manager.itemStart(u),s.load(u,function(){n.manager.itemEnd(u)},void 0,function(){n.manager.itemError(u),n.manager.itemEnd(u)})}function a(u){if(typeof u=="string"){const c=u,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return o(h)}else return u.data?{data:id(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new wS(t);s=new Gm(u),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const p=e[c],g=p.url;if(Array.isArray(g)){const v=[];for(let _=0,x=g.length;_<x;_++){const A=g[_],S=a(A);S!==null&&(S instanceof HTMLImageElement?v.push(S):v.push(new lf(S.data,S.width,S.height)))}i[p.uuid]=new qc(v)}else{const v=a(p.url);i[p.uuid]=new qc(v)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function s(o){if(typeof o=="string"){const a=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(u)}else return o.data?{data:id(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Gm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const u=e[o],c=u.url;if(Array.isArray(c)){const h=[];for(let p=0,g=c.length;p<g;p++){const v=c[p],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?h.push(_):h.push(new lf(_.data,_.width,_.height)))}n[u.uuid]=new qc(h)}else{const h=await s(u.url);n[u.uuid]=new qc(h)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const u=t[a.image],c=u.data;let h;Array.isArray(c)?(h=new ng,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new lf:h=new On,c&&(h.needsUpdate=!0)),h.source=u,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=n(a.mapping,Gk)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=n(a.wrap[0],IE),h.wrapT=n(a.wrap[1],IE)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=n(a.minFilter,FE)),a.magFilter!==void 0&&(h.magFilter=n(a.magFilter,FE)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),i[a.uuid]=h}return i}parseObject(e,t,n,i,s){let o;function a(g){return t[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),t[g]}function u(g){if(g!==void 0){if(Array.isArray(g)){const v=[];for(let _=0,x=g.length;_<x;_++){const A=g[_];n[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),v.push(n[A])}return v}return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),n[g]}}function c(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let h,p;switch(e.type){case"Scene":o=new kv,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ot(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vy(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new jn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Uo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new SP(e.color,e.intensity);break;case"DirectionalLight":o=new bS(e.color,e.intensity);break;case"PointLight":o=new CS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new MP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new TS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new AP(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new EP().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),p=u(e.material),o=new fS(h,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),p=u(e.material),o=new vi(h,p);break;case"InstancedMesh":h=a(e.geometry),p=u(e.material);const g=e.count,v=e.instanceMatrix,_=e.instanceColor;o=new hS(h,p,g),o.instanceMatrix=new vf(new Float32Array(v.array),16),_!==void 0&&(o.instanceColor=new vf(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":h=a(e.geometry),p=u(e.material),o=new qR(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,p),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const A=new Sr;A.min.fromArray(x.boxMin),A.max.fromArray(x.boxMax);const S=new or;return S.radius=x.sphereRadius,S.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:A,sphereInitialized:x.sphereInitialized,sphere:S}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new QR;break;case"Line":o=new vl(a(e.geometry),u(e.material));break;case"LineLoop":o=new dS(a(e.geometry),u(e.material));break;case"LineSegments":o=new Ho(a(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new pS(a(e.geometry),u(e.material));break;case"Sprite":o=new KR(u(e.material));break;case"Group":o=new ul;break;case"Bone":o=new _y;break;default:o=new un}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let v=0;v<g.length;v++)o.add(this.parseObject(g[v],t,n,i,s))}if(e.animations!==void 0){const g=e.animations;for(let v=0;v<g.length;v++){const _=g[v];o.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let v=0;v<g.length;v++){const _=g[v],x=o.getObjectByProperty("uuid",_.object);x!==void 0&&o.addLevel(x,_.distance,_.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}}const Gk={UVMapping:cy,CubeReflectionMapping:gl,CubeRefractionMapping:wu,EquirectangularReflectionMapping:bm,EquirectangularRefractionMapping:Rm,CubeUVReflectionMapping:kd},IE={RepeatWrapping:Eu,ClampToEdgeWrapping:sr,MirroredRepeatWrapping:Ad},FE={NearestFilter:oi,NearestMipmapNearestFilter:Pm,NearestMipmapLinearFilter:pd,LinearFilter:Zn,LinearMipmapNearestFilter:fy,LinearMipmapLinearFilter:ma};class bP extends lr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Af.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){Af.add(e,u),t&&t(u),s.manager.itemEnd(e)}).catch(function(u){i&&i(u),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let $0;class RS{static getContext(){return $0===void 0&&($0=new(window.AudioContext||window.webkitAudioContext)),$0}static setContext(e){$0=e}}class Hk extends lr{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new Hr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const c=u.slice(0);RS.getContext().decodeAudioData(c,function(p){t(p)}).catch(a)}catch(c){a(c)}},n,i);function a(u){i?i(u):console.error(u),s.manager.itemError(e)}}}const OE=new Rt,NE=new Rt,Pc=new Rt;class Vk{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new jn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new jn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Pc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(of*t.fov*.5)/t.zoom;let a,u;NE.elements[12]=-i,OE.elements[12]=i,a=-o*t.aspect+s,u=o*t.aspect+s,Pc.elements[0]=2*t.near/(u-a),Pc.elements[8]=(u+a)/(u-a),this.cameraL.projectionMatrix.copy(Pc),a=-o*t.aspect-s,u=o*t.aspect-s,Pc.elements[0]=2*t.near/(u-a),Pc.elements[8]=(u+a)/(u-a),this.cameraR.projectionMatrix.copy(Pc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(NE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(OE)}}class PS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=UE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=UE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function UE(){return(typeof performance>"u"?Date:performance).now()}const Bc=new W,kE=new Ji,Wk=new W,Lc=new W;class jk extends un{constructor(){super(),this.type="AudioListener",this.context=RS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new PS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bc,kE,Wk),Lc.set(0,0,-1).applyQuaternion(kE),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Bc.x,i),t.positionY.linearRampToValueAtTime(Bc.y,i),t.positionZ.linearRampToValueAtTime(Bc.z,i),t.forwardX.linearRampToValueAtTime(Lc.x,i),t.forwardY.linearRampToValueAtTime(Lc.y,i),t.forwardZ.linearRampToValueAtTime(Lc.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Bc.x,Bc.y,Bc.z),t.setOrientation(Lc.x,Lc.y,Lc.z,n.x,n.y,n.z)}}class RP extends un{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Dc=new W,zE=new Ji,Xk=new W,Ic=new W;class Jk extends RP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Dc,zE,Xk),Ic.set(0,0,1).applyQuaternion(zE);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dc.x,n),t.positionY.linearRampToValueAtTime(Dc.y,n),t.positionZ.linearRampToValueAtTime(Dc.z,n),t.orientationX.linearRampToValueAtTime(Ic.x,n),t.orientationY.linearRampToValueAtTime(Ic.y,n),t.orientationZ.linearRampToValueAtTime(Ic.z,n)}else t.setPosition(Dc.x,Dc.y,Dc.z),t.setOrientation(Ic.x,Ic.y,Ic.z)}}class Yk{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class PP{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)n[s+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=t*this._origIndex;this._mixBufferRegion(n,i,u,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let u=t,c=t+t;u!==c;++u)if(n[u]!==n[u+t]){a.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let s=n,o=i;s!==o;++s)t[s]=t[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Ji.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,s){const o=this._workIndex*s;Ji.multiplyQuaternionsFlat(e,o,e,t,e,n),Ji.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,s){const o=1-i;for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]*o+e[n+a]*i}}_lerpAdditive(e,t,n,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*i}}}const BS="\\[\\]\\.:\\/",Kk=new RegExp("["+BS+"]","g"),LS="[^"+BS+"]",Qk="[^"+BS.replace("\\.","")+"]",qk=/((?:WC+[\/:])*)/.source.replace("WC",LS),Zk=/(WCOD+)?/.source.replace("WCOD",Qk),$k=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",LS),ez=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",LS),tz=new RegExp("^"+qk+Zk+$k+ez+"$"),nz=["material","materials","bones","map"];class iz{constructor(e,t,n){const i=n||hn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class hn{constructor(e,t,n){this.path=t,this.parsedPath=n||hn.parseTrackName(t),this.node=hn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new hn.Composite(e,t,n):new hn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Kk,"")}static parseTrackName(e){const t=tz.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);nz.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const u=n(a.children);if(u)return u}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=hn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}hn.Composite=iz;hn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};hn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};hn.prototype.GetterByBindingType=[hn.prototype._getValue_direct,hn.prototype._getValue_array,hn.prototype._getValue_arrayElement,hn.prototype._getValue_toArray];hn.prototype.SetterByBindingTypeAndVersioning=[[hn.prototype._setValue_direct,hn.prototype._setValue_direct_setNeedsUpdate,hn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[hn.prototype._setValue_array,hn.prototype._setValue_array_setNeedsUpdate,hn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[hn.prototype._setValue_arrayElement,hn.prototype._setValue_arrayElement_setNeedsUpdate,hn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[hn.prototype._setValue_fromArray,hn.prototype._setValue_fromArray_setNeedsUpdate,hn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class rz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Rs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,u=e.length,c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const g=arguments[h],v=g.uuid;let _=t[v];if(_===void 0){_=u++,t[v]=_,e.push(g);for(let x=0,A=o;x!==A;++x)s[x].push(new hn(g,n[x],i[x]))}else if(_<c){a=e[_];const x=--c,A=e[x];t[A.uuid]=_,e[_]=A,t[v]=x,e[x]=g;for(let S=0,C=o;S!==C;++S){const E=s[S],R=E[x];let B=E[_];E[_]=R,B===void 0&&(B=new hn(g,n[S],i[S])),E[x]=B}}else e[_]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const u=arguments[o],c=u.uuid,h=t[c];if(h!==void 0&&h>=s){const p=s++,g=e[p];t[g.uuid]=h,e[h]=g,t[c]=p,e[p]=u;for(let v=0,_=i;v!==_;++v){const x=n[v],A=x[p],S=x[h];x[h]=A,x[p]=S}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,u=arguments.length;a!==u;++a){const c=arguments[a],h=c.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<s){const g=--s,v=e[g],_=--o,x=e[_];t[v.uuid]=p,e[p]=v,t[x.uuid]=g,e[g]=x,e.pop();for(let A=0,S=i;A!==S;++A){const C=n[A],E=C[g],R=C[_];C[p]=E,C[g]=R,C.pop()}}else{const g=--o,v=e[g];g>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let _=0,x=i;_!==x;++_){const A=n[_];A[p]=A[g],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,u=this._objects,c=u.length,h=this.nCachedObjects_,p=new Array(c);i=s.length,n[e]=i,o.push(e),a.push(t),s.push(p);for(let g=h,v=u.length;g!==v;++g){const _=u[g];p[g]=new hn(_,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,u=o[a],c=e[a];t[c]=n,o[n]=u,o.pop(),s[n]=s[a],s.pop(),i[n]=i[a],i.pop()}}}class BP{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),u={endingStart:Kc,endingEnd:Kc};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,c=a.sampleValues;return u[0]=s,u[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const u=(e-s)*n;u<0||n===0?t=0:(this._startTime=null,t=n*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case J1:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(o),c[h].accumulateAdditive(a);break;case dy:default:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(o),c[h].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,s=this._loopCount;const o=n===AR;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(n===_R){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const u=this.repetitions-s;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Qc,i.endingEnd=Qc):(e?i.endingStart=this.zeroSlopeAtStart?Qc:Kc:i.endingStart=Bm,t?i.endingEnd=this.zeroSlopeAtEnd?Qc:Kc:i.endingEnd=Bm)}_scheduleFading(e,t,n){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,u=o.sampleValues;return a[0]=s,u[0]=t,a[1]=s+e,u[1]=n,this}}const sz=new Float32Array(1);class oz extends Al{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,u=n.uuid,c=this._bindingsByRootAndName;let h=c[u];h===void 0&&(h={},c[u]=h);for(let p=0;p!==s;++p){const g=i[p],v=g.name;let _=h[v];if(_!==void 0)++_.referenceCount,o[p]=_;else{if(_=o[p],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,u,v));continue}const x=t&&t._propertyBindings[p].binding.parsedPath;_=new PP(hn.create(n,v,x),g.ValueTypeName,g.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,u,v),o[p]=_}a[p].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],u=a.knownActions,c=u[u.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,u[h]=c,u.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,g=(e._localRoot||this._root).uuid;delete p[g],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[i],u=t[t.length-1],c=e._cacheIndex;u._cacheIndex=c,t[c]=u,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new SS(new Float32Array(2),new Float32Array(2),1,sz),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Cd.findByName(i,e):e;const a=o!==null?o.uuid:e,u=this._actionsByClip[a];let c=null;if(n===void 0&&(o!==null?n=o.blendMode:n=dy),u!==void 0){const p=u.actionByRoot[s];if(p!==void 0&&p.blendMode===n)return p;c=u.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new BP(this,o,t,n);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const n=t||this._root,i=n.uuid,s=typeof e=="string"?Cd.findByName(n,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(i,e,s,o);const a=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const o=s.knownActions;for(let a=0,u=o.length;a!==u;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,p=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,u=a[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class DS{constructor(e){this.value=e}clone(){return new DS(this.value.clone===void 0?this.value:this.value.clone())}}let az=0;class lz extends Al{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:az++}),this.name="",this.usage=Fm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class uz extends sg{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class cz{constructor(e,t,n,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class LP{constructor(e,t,n=0,i=1/0){this.ray=new wf(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new af,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return ZA(e,this,n,t),n.sort(GE),n}intersectObjects(e,t=!0,n=[]){for(let i=0,s=e.length;i<s;i++)ZA(e[i],this,n,t);return n.sort(GE),n}}function GE(r,e){return r.distance-e.distance}function ZA(r,e,t,n){if(r.layers.test(e.layers)&&r.raycast(e,t),n===!0){const i=r.children;for(let s=0,o=i.length;s<o;s++)ZA(i[s],e,t,!0)}}class $A{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ai(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class fz{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const HE=new Le;class hz{constructor(e=new Le(1/0,1/0),t=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=HE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,HE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const VE=new W,ev=new W;class dz{constructor(e=new W,t=new W){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){VE.subVectors(e,this.start),ev.subVectors(this.end,this.start);const n=ev.dot(ev);let s=ev.dot(VE)/n;return t&&(s=ai(s,0,1)),s}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const WE=new W;class pz extends un{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Vt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,u=32;o<u;o++,a++){const c=o/u*Math.PI*2,h=a/u*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}n.setAttribute("position",new yt(i,3));const s=new wr({fog:!1,toneMapped:!1});this.cone=new Ho(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),WE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(WE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lu=new W,tv=new Rt,hx=new Rt;class mz extends Ho{constructor(e){const t=DP(e),n=new Vt,i=[],s=[],o=new ot(0,0,1),a=new ot(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}n.setAttribute("position",new yt(i,3)),n.setAttribute("color",new yt(s,3));const u=new wr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");hx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(tv.multiplyMatrices(hx,a.matrixWorld),lu.setFromMatrixPosition(tv),i.setXYZ(o,lu.x,lu.y,lu.z),tv.multiplyMatrices(hx,a.parent.matrixWorld),lu.setFromMatrixPosition(tv),i.setXYZ(o+1,lu.x,lu.y,lu.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function DP(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,DP(r.children[t]));return e}class gz extends vi{constructor(e,t,n){const i=new cg(t,4,2),s=new Cs({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const vz=new W,jE=new ot,XE=new ot;class yz extends un{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new ug(t);i.rotateY(Math.PI*.5),this.material=new Cs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new on(o,3)),this.add(new vi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");jE.copy(this.light.color),XE.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const s=n<i/2?jE:XE;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(vz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class _z extends Ho{constructor(e=10,t=10,n=4473924,i=8947848){n=new ot(n),i=new ot(i);const s=t/2,o=e/t,a=e/2,u=[],c=[];for(let g=0,v=0,_=-a;g<=t;g++,_+=o){u.push(-a,0,_,a,0,_),u.push(_,0,-a,_,0,a);const x=g===s?n:i;x.toArray(c,v),v+=3,x.toArray(c,v),v+=3,x.toArray(c,v),v+=3,x.toArray(c,v),v+=3}const h=new Vt;h.setAttribute("position",new yt(u,3)),h.setAttribute("color",new yt(c,3));const p=new wr({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class xz extends Ho{constructor(e=10,t=16,n=8,i=64,s=4473924,o=8947848){s=new ot(s),o=new ot(o);const a=[],u=[];if(t>1)for(let p=0;p<t;p++){const g=p/t*(Math.PI*2),v=Math.sin(g)*e,_=Math.cos(g)*e;a.push(0,0,0),a.push(v,0,_);const x=p&1?s:o;u.push(x.r,x.g,x.b),u.push(x.r,x.g,x.b)}for(let p=0;p<n;p++){const g=p&1?s:o,v=e-e/n*p;for(let _=0;_<i;_++){let x=_/i*(Math.PI*2),A=Math.sin(x)*v,S=Math.cos(x)*v;a.push(A,0,S),u.push(g.r,g.g,g.b),x=(_+1)/i*(Math.PI*2),A=Math.sin(x)*v,S=Math.cos(x)*v,a.push(A,0,S),u.push(g.r,g.g,g.b)}}const c=new Vt;c.setAttribute("position",new yt(a,3)),c.setAttribute("color",new yt(u,3));const h=new wr({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const JE=new W,nv=new W,YE=new W;class Az extends un{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Vt;i.setAttribute("position",new yt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new wr({fog:!1,toneMapped:!1});this.lightPlane=new vl(i,s),this.add(this.lightPlane),i=new Vt,i.setAttribute("position",new yt([0,0,0,0,0,1],3)),this.targetLine=new vl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),JE.setFromMatrixPosition(this.light.matrixWorld),nv.setFromMatrixPosition(this.light.target.matrixWorld),YE.subVectors(nv,JE),this.lightPlane.lookAt(nv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nv),this.targetLine.scale.z=YE.length()}}const iv=new W,si=new tg;class Sz extends Ho{constructor(e){const t=new Vt,n=new wr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(_,x){u(_),u(x)}function u(_){i.push(0,0,0),s.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(i.length/3-1)}t.setAttribute("position",new yt(i,3)),t.setAttribute("color",new yt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ot(16755200),h=new ot(16711680),p=new ot(43775),g=new ot(16777215),v=new ot(3355443);this.setColors(c,h,p,g,v)}setColors(e,t,n,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;si.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),di("c",t,e,si,0,0,-1),di("t",t,e,si,0,0,1),di("n1",t,e,si,-n,-i,-1),di("n2",t,e,si,n,-i,-1),di("n3",t,e,si,-n,i,-1),di("n4",t,e,si,n,i,-1),di("f1",t,e,si,-n,-i,1),di("f2",t,e,si,n,-i,1),di("f3",t,e,si,-n,i,1),di("f4",t,e,si,n,i,1),di("u1",t,e,si,n*.7,i*1.1,-1),di("u2",t,e,si,-n*.7,i*1.1,-1),di("u3",t,e,si,0,i*2,-1),di("cf1",t,e,si,-n,0,1),di("cf2",t,e,si,n,0,1),di("cf3",t,e,si,0,-i,1),di("cf4",t,e,si,0,i,1),di("cn1",t,e,si,-n,0,-1),di("cn2",t,e,si,n,0,-1),di("cn3",t,e,si,0,-i,-1),di("cn4",t,e,si,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function di(r,e,t,n,i,s,o){iv.set(i,s,o).unproject(n);const a=e[r];if(a!==void 0){const u=t.getAttribute("position");for(let c=0,h=a.length;c<h;c++)u.setXYZ(a[c],iv.x,iv.y,iv.z)}}const rv=new Sr;class Mz extends Ho{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new Vt;s.setIndex(new on(n,1)),s.setAttribute("position",new on(i,3)),super(s,new wr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&rv.setFromObject(this.object),rv.isEmpty())return;const t=rv.min,n=rv.max,i=this.geometry.attributes.position,s=i.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wz extends Ho{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Vt;s.setIndex(new on(n,1)),s.setAttribute("position",new yt(i,3)),super(s,new wr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ez extends vl{constructor(e,t=1,n=16776960){const i=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Vt;o.setAttribute("position",new yt(s,3)),o.computeBoundingSphere(),super(o,new wr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Vt;u.setAttribute("position",new yt(a,3)),u.computeBoundingSphere(),this.add(new vi(u,new Cs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const KE=new W;let sv,dx;class Tz extends un{constructor(e=new W(0,0,1),t=new W(0,0,0),n=1,i=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",sv===void 0&&(sv=new Vt,sv.setAttribute("position",new yt([0,0,0,0,1,0],3)),dx=new Gd(0,.5,1,5,1),dx.translate(0,-.5,0)),this.position.copy(t),this.line=new vl(sv,new wr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new vi(dx,new Cs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(KE,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cz extends Ho{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Vt;i.setAttribute("position",new yt(t,3)),i.setAttribute("color",new yt(n,3));const s=new wr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,n){const i=new ot,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bz{constructor(){this.type="ShapePath",this.color=new ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Nm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,s,o){return this.currentPath.bezierCurveTo(e,t,n,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const C=[];for(let E=0,R=S.length;E<R;E++){const B=S[E],I=new uf;I.curves=B.curves,C.push(I)}return C}function n(S,C){const E=C.length;let R=!1;for(let B=E-1,I=0;I<E;B=I++){let O=C[B],U=C[I],L=U.x-O.x,N=U.y-O.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(O=C[I],L=-L,U=C[B],N=-N),S.y<O.y||S.y>U.y)continue;if(S.y===O.y){if(S.x===O.x)return!0}else{const H=N*(S.x-O.x)-L*(S.y-O.y);if(H===0)return!0;if(H<0)continue;R=!R}}else{if(S.y!==O.y)continue;if(U.x<=S.x&&S.x<=O.x||O.x<=S.x&&S.x<=U.x)return!0}}return R}const i=ha.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,u;const c=[];if(s.length===1)return a=s[0],u=new uf,u.curves=a.curves,c.push(u),c;let h=!i(s[0].getPoints());h=e?!h:h;const p=[],g=[];let v=[],_=0,x;g[_]=void 0,v[_]=[];for(let S=0,C=s.length;S<C;S++)a=s[S],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!h&&g[_]&&_++,g[_]={s:new uf,p:x},g[_].s.curves=a.curves,h&&_++,v[_]=[]):v[_].push({h:a,p:x[0]});if(!g[0])return t(s);if(g.length>1){let S=!1,C=0;for(let E=0,R=g.length;E<R;E++)p[E]=[];for(let E=0,R=g.length;E<R;E++){const B=v[E];for(let I=0;I<B.length;I++){const O=B[I];let U=!0;for(let L=0;L<g.length;L++)n(O.p,g[L].p)&&(E!==L&&C++,U?(U=!1,p[L].push(O)):S=!0);U&&p[E].push(O)}}C>0&&S===!1&&(v=p)}let A;for(let S=0,C=g.length;S<C;S++){u=g[S].s,c.push(u),A=v[S];for(let E=0,R=A.length;E<R;E++)u.holes.push(A[E].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ud}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ud);const Rz=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:k1,AddEquation:du,AddOperation:sR,AdditiveAnimationBlendMode:J1,AdditiveBlending:hA,AlphaFormat:dR,AlwaysCompare:LR,AlwaysDepth:Zb,AlwaysStencilFunc:VA,AmbientLight:SP,AnimationAction:BP,AnimationClip:Cd,AnimationLoader:Dk,AnimationMixer:oz,AnimationObjectGroup:rz,AnimationUtils:Rk,ArcCurve:ZR,ArrayCamera:XR,ArrowHelper:Tz,AttachedBindMode:vA,Audio:RP,AudioAnalyser:Yk,AudioContext:RS,AudioListener:jk,AudioLoader:Hk,AxesHelper:Cz,BackSide:Gr,BasicDepthPacking:MR,BasicShadowMap:Ib,BatchedMesh:qR,Bone:_y,BooleanKeyframeTrack:Cf,Box2:hz,Box3:Sr,Box3Helper:wz,BoxGeometry:Tf,BoxHelper:Mz,BufferAttribute:on,BufferGeometry:Vt,BufferGeometryLoader:CP,ByteType:fR,Cache:Af,Camera:tg,CameraHelper:Sz,CanvasTexture:$U,CapsuleGeometry:Sy,CatmullRomCurve3:$R,CineonToneMapping:lR,CircleGeometry:My,ClampToEdgeWrapping:sr,Clock:PS,Color:ot,ColorKeyframeTrack:MS,ColorManagement:_n,CompressedArrayTexture:qU,CompressedCubeTexture:ZU,CompressedTexture:xy,CompressedTextureLoader:Ik,ConeGeometry:wy,ConstantAlphaFactor:Kb,ConstantColorFactor:Jb,CubeCamera:iS,CubeReflectionMapping:gl,CubeRefractionMapping:wu,CubeTexture:ng,CubeTextureLoader:Fk,CubeUVReflectionMapping:kd,CubicBezierCurve:gS,CubicBezierCurve3:eP,CubicInterpolant:yP,CullFaceBack:fA,CullFaceFront:Db,CullFaceFrontBack:XD,CullFaceNone:Lb,Curve:Vo,CurvePath:nP,CustomBlending:Fb,CustomToneMapping:uR,CylinderGeometry:Gd,Cylindrical:fz,Data3DTexture:eS,DataArrayTexture:my,DataTexture:lf,DataTextureLoader:Ok,DataUtils:qI,DecrementStencilOp:tI,DecrementWrapStencilOp:iI,DefaultLoadingManager:od,DepthFormat:yu,DepthStencilFormat:mf,DepthTexture:oS,DetachedBindMode:cR,DirectionalLight:bS,DirectionalLightHelper:Az,DiscreteInterpolant:_P,DisplayP3ColorSpace:py,DodecahedronGeometry:Ey,DoubleSide:Zs,DstAlphaFactor:Hb,DstColorFactor:Wb,DynamicCopyUsage:vI,DynamicDrawUsage:sf,DynamicReadUsage:pI,EdgesGeometry:iP,EllipseCurve:Ay,EqualCompare:bR,EqualDepth:eR,EqualStencilFunc:aI,EquirectangularReflectionMapping:bm,EquirectangularRefractionMapping:Rm,Euler:Ef,EventDispatcher:Al,ExtrudeGeometry:Cy,FileLoader:Hr,Float16BufferAttribute:iF,Float32BufferAttribute:yt,Float64BufferAttribute:rF,FloatType:Fo,Fog:yy,FogExp2:vy,FramebufferTexture:QU,FrontSide:pa,Frustum:ig,GLBufferAttribute:cz,GLSL1:_I,GLSL3:WA,GreaterCompare:RR,GreaterDepth:nR,GreaterEqualCompare:BR,GreaterEqualDepth:tR,GreaterEqualStencilFunc:fI,GreaterStencilFunc:uI,GridHelper:_z,Group:ul,HalfFloatType:Sd,HemisphereLight:AP,HemisphereLightHelper:yz,IcosahedronGeometry:by,ImageBitmapLoader:bP,ImageLoader:Gm,ImageUtils:$1,IncrementStencilOp:eI,IncrementWrapStencilOp:nI,InstancedBufferAttribute:vf,InstancedBufferGeometry:TP,InstancedInterleavedBuffer:uz,InstancedMesh:hS,Int16BufferAttribute:tF,Int32BufferAttribute:nF,Int8BufferAttribute:ZI,IntType:z1,InterleavedBuffer:sg,InterleavedBufferAttribute:Tu,Interpolant:Hd,InterpolateDiscrete:Md,InterpolateLinear:gf,InterpolateSmooth:Mv,InvertStencilOp:rI,KeepStencilOp:Hc,KeyframeTrack:Wo,LOD:QR,LatheGeometry:lg,Layers:af,LessCompare:CR,LessDepth:$b,LessEqualCompare:Q1,LessEqualDepth:Cm,LessEqualStencilFunc:lI,LessStencilFunc:oI,Light:Iu,LightProbe:EP,Line:vl,Line3:dz,LineBasicMaterial:wr,LineCurve:vS,LineCurve3:tP,LineDashedMaterial:mP,LineLoop:dS,LineSegments:Ho,LinearDisplayP3ColorSpace:eg,LinearEncoding:K1,LinearFilter:Zn,LinearInterpolant:SS,LinearMipMapLinearFilter:qD,LinearMipMapNearestFilter:QD,LinearMipmapLinearFilter:ma,LinearMipmapNearestFilter:fy,LinearSRGBColorSpace:ko,LinearToneMapping:oR,LinearTransfer:Lm,Loader:lr,LoaderUtils:xu,LoadingManager:wS,LoopOnce:_R,LoopPingPong:AR,LoopRepeat:xR,LuminanceAlphaFormat:mR,LuminanceFormat:pR,MOUSE:zc,Material:bi,MaterialLoader:Fy,MathUtils:Z1,Matrix3:Zt,Matrix4:Rt,MaxEquation:gA,Mesh:vi,MeshBasicMaterial:Cs,MeshDepthMaterial:aS,MeshDistanceMaterial:lS,MeshLambertMaterial:dP,MeshMatcapMaterial:pP,MeshNormalMaterial:hP,MeshPhongMaterial:cP,MeshPhysicalMaterial:no,MeshStandardMaterial:fg,MeshToonMaterial:fP,MinEquation:mA,MirroredRepeatWrapping:Ad,MixOperation:rR,MultiplyBlending:pA,MultiplyOperation:$m,NearestFilter:oi,NearestMipMapLinearFilter:KD,NearestMipMapNearestFilter:YD,NearestMipmapLinearFilter:pd,NearestMipmapNearestFilter:Pm,NeverCompare:TR,NeverDepth:qb,NeverStencilFunc:sI,NoBlending:fl,NoColorSpace:Es,NoToneMapping:ca,NormalAnimationBlendMode:dy,NormalBlending:rf,NotEqualCompare:PR,NotEqualDepth:iR,NotEqualStencilFunc:cI,NumberKeyframeTrack:_f,Object3D:un,ObjectLoader:zk,ObjectSpaceNormalMap:ER,OctahedronGeometry:ug,OneFactor:kb,OneMinusConstantAlphaFactor:Qb,OneMinusConstantColorFactor:Yb,OneMinusDstAlphaFactor:Vb,OneMinusDstColorFactor:jb,OneMinusSrcAlphaFactor:Fv,OneMinusSrcColorFactor:Gb,OrthographicCamera:Uo,P3Primaries:Im,PCFShadowMap:uy,PCFSoftShadowMap:pm,PMREMGenerator:XA,Path:Nm,PerspectiveCamera:jn,Plane:sl,PlaneGeometry:rg,PlaneHelper:Ez,PointLight:CS,PointLightHelper:gz,Points:pS,PointsMaterial:ag,PolarGridHelper:xz,PolyhedronGeometry:Du,PositionalAudio:Jk,PropertyBinding:hn,PropertyMixer:PP,QuadraticBezierCurve:yS,QuadraticBezierCurve3:_S,Quaternion:Ji,QuaternionKeyframeTrack:Cu,QuaternionLinearInterpolant:xP,RED_GREEN_RGTC2_Format:GA,RED_RGTC1_Format:yR,REVISION:Ud,RGBADepthPacking:wR,RGBAFormat:kr,RGBAIntegerFormat:j1,RGBA_ASTC_10x10_Format:FA,RGBA_ASTC_10x5_Format:LA,RGBA_ASTC_10x6_Format:DA,RGBA_ASTC_10x8_Format:IA,RGBA_ASTC_12x10_Format:OA,RGBA_ASTC_12x12_Format:NA,RGBA_ASTC_4x4_Format:wA,RGBA_ASTC_5x4_Format:EA,RGBA_ASTC_5x5_Format:TA,RGBA_ASTC_6x5_Format:CA,RGBA_ASTC_6x6_Format:bA,RGBA_ASTC_8x5_Format:RA,RGBA_ASTC_8x6_Format:PA,RGBA_ASTC_8x8_Format:BA,RGBA_BPTC_Format:Sv,RGBA_ETC2_EAC_Format:MA,RGBA_PVRTC_2BPPV1_Format:AA,RGBA_PVRTC_4BPPV1_Format:xA,RGBA_S3TC_DXT1_Format:_v,RGBA_S3TC_DXT3_Format:xv,RGBA_S3TC_DXT5_Format:Av,RGB_BPTC_SIGNED_Format:UA,RGB_BPTC_UNSIGNED_Format:kA,RGB_ETC1_Format:X1,RGB_ETC2_Format:SA,RGB_PVRTC_2BPPV1_Format:_A,RGB_PVRTC_4BPPV1_Format:yA,RGB_S3TC_DXT1_Format:yv,RGFormat:vR,RGIntegerFormat:W1,RawShaderMaterial:uP,Ray:wf,Raycaster:LP,Rec709Primaries:Dm,RectAreaLight:MP,RedFormat:gR,RedIntegerFormat:V1,ReinhardToneMapping:aR,RenderTarget:FR,RepeatWrapping:Eu,ReplaceStencilOp:$D,ReverseSubtractEquation:Nb,RingGeometry:Ry,SIGNED_RED_GREEN_RGTC2_Format:HA,SIGNED_RED_RGTC1_Format:zA,SRGBColorSpace:mi,SRGBTransfer:In,Scene:kv,ShaderChunk:Kt,ShaderLib:Io,ShaderMaterial:ga,ShadowMaterial:lP,Shape:uf,ShapeGeometry:Py,ShapePath:bz,ShapeUtils:ha,ShortType:hR,Skeleton:og,SkeletonHelper:mz,SkinnedMesh:fS,Source:qc,Sphere:or,SphereGeometry:cg,Spherical:$A,SphericalHarmonics3:wP,SplineCurve:xS,SpotLight:TS,SpotLightHelper:pz,Sprite:KR,SpriteMaterial:cS,SrcAlphaFactor:Iv,SrcAlphaSaturateFactor:Xb,SrcColorFactor:zb,StaticCopyUsage:gI,StaticDrawUsage:Fm,StaticReadUsage:dI,StereoCamera:Vk,StreamCopyUsage:yI,StreamDrawUsage:hI,StreamReadUsage:mI,StringKeyframeTrack:bf,SubtractEquation:Ob,SubtractiveBlending:dA,TOUCH:Gc,TangentSpaceNormalMap:Lu,TetrahedronGeometry:By,Texture:On,TextureLoader:hg,TorusGeometry:Ly,TorusKnotGeometry:Dy,Triangle:ns,TriangleFanDrawMode:Ov,TriangleStripDrawMode:Y1,TrianglesDrawMode:SR,TubeGeometry:Iy,TwoPassDoubleSide:JD,UVMapping:cy,Uint16BufferAttribute:tS,Uint32BufferAttribute:nS,Uint8BufferAttribute:$I,Uint8ClampedBufferAttribute:eF,Uniform:DS,UniformsGroup:lz,UniformsLib:st,UniformsUtils:UR,UnsignedByteType:fa,UnsignedInt248Type:vu,UnsignedIntType:ll,UnsignedShort4444Type:G1,UnsignedShort5551Type:H1,UnsignedShortType:hy,VSMShadowMap:Do,Vector2:Le,Vector3:W,Vector4:xn,VectorKeyframeTrack:xf,VideoTexture:KU,WebGL1Renderer:JR,WebGL3DRenderTarget:kI,WebGLArrayRenderTarget:UI,WebGLCoordinateSystem:Oo,WebGLCubeRenderTarget:rS,WebGLMultipleRenderTargets:zI,WebGLRenderTarget:zo,WebGLRenderer:uS,WebGLUtils:jR,WebGPUCoordinateSystem:wd,WireframeGeometry:aP,WrapAroundEnding:Bm,ZeroCurvatureEnding:Kc,ZeroFactor:Ub,ZeroSlopeEnding:Qc,ZeroStencilOp:ZD,_SRGBAFormat:Nv,createCanvasElement:IR,sRGBEncoding:_u},Symbol.toStringTag,{value:"Module"}));var px={exports:{}},uu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function Pz(){return QE||(QE=1,uu.ConcurrentRoot=1,uu.ContinuousEventPriority=4,uu.DefaultEventPriority=16,uu.DiscreteEventPriority=1,uu.IdleEventPriority=536870912,uu.LegacyRoot=0),uu}var qE;function Bz(){return qE||(qE=1,px.exports=Pz()),px.exports}var ad=Bz();function Lz(r){let e;const t=new Set,n=(c,h)=>{const p=typeof c=="function"?c(e):c;if(p!==e){const g=e;e=h?p:Object.assign({},e,p),t.forEach(v=>v(e,g))}},i=()=>e,s=(c,h=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=h(e);function v(){const _=h(e);if(!p(g,_)){const x=g;c(g=_,x)}}return t.add(v),()=>t.delete(v)},u={setState:n,getState:i,subscribe:(c,h,p)=>h||p?s(c,h,p):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=r(n,i,u),u}const Dz=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ZE=Dz?te.useEffect:te.useLayoutEffect;function Iz(r){const e=typeof r=="function"?Lz(r):r,t=(n=e.getState,i=Object.is)=>{const[,s]=te.useReducer(A=>A+1,0),o=e.getState(),a=te.useRef(o),u=te.useRef(n),c=te.useRef(i),h=te.useRef(!1),p=te.useRef();p.current===void 0&&(p.current=n(o));let g,v=!1;(a.current!==o||u.current!==n||c.current!==i||h.current)&&(g=n(o),v=!i(p.current,g)),ZE(()=>{v&&(p.current=g),a.current=o,u.current=n,c.current=i,h.current=!1});const _=te.useRef(o);ZE(()=>{const A=()=>{try{const C=e.getState(),E=u.current(C);c.current(p.current,E)||(a.current=C,p.current=E,s())}catch{h.current=!0,s()}},S=e.subscribe(A);return e.getState()!==_.current&&A(),S},[]);const x=v?g:p.current;return te.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}const Fz=r=>typeof r=="object"&&typeof r.then=="function",$c=[];function IP(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e)return!1;const n=r.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}function FP(r,e=null,t=!1,n={}){e===null&&(e=[r]);for(const s of $c)if(IP(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:n.equal,remove:()=>{const s=$c.indexOf(i);s!==-1&&$c.splice(s,1)},promise:(Fz(r)?r:r(...e)).then(s=>{i.response=s,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(s=>i.error=s)};if($c.push(i),!t)throw i.promise}const Oz=(r,e,t)=>FP(r,e,!1,t),Nz=(r,e,t)=>void FP(r,e,!0,t),Uz=r=>{if(r===void 0||r.length===0)$c.splice(0,$c.length);else{const e=$c.find(t=>IP(r,t.keys,t.equal));e&&e.remove()}};var mx={exports:{}},gx={exports:{}},vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function kz(){return $E||($E=1,function(r){function e(Q,Y){var V=Q.length;Q.push(Y);e:for(;0<V;){var k=V-1>>>1,K=Q[k];if(0<i(K,Y))Q[k]=Y,Q[V]=K,V=k;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Y=Q[0],V=Q.pop();if(V!==Y){Q[0]=V;e:for(var k=0,K=Q.length,re=K>>>1;k<re;){var j=2*(k+1)-1,Te=Q[j],me=j+1,Re=Q[me];if(0>i(Te,V))me<K&&0>i(Re,Te)?(Q[k]=Re,Q[me]=V,k=me):(Q[k]=Te,Q[j]=V,k=j);else if(me<K&&0>i(Re,V))Q[k]=Re,Q[me]=V,k=me;else break e}}return Y}function i(Q,Y){var V=Q.sortIndex-Y.sortIndex;return V!==0?V:Q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,g=3,v=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var Y=t(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=Q)n(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(c)}}function R(Q){if(x=!1,E(Q),!_)if(t(u)!==null)_=!0,se(B);else{var Y=t(c);Y!==null&&le(R,Y.startTime-Q)}}function B(Q,Y){_=!1,x&&(x=!1,S(U),U=-1),v=!0;var V=g;try{for(E(Y),p=t(u);p!==null&&(!(p.expirationTime>Y)||Q&&!H());){var k=p.callback;if(typeof k=="function"){p.callback=null,g=p.priorityLevel;var K=k(p.expirationTime<=Y);Y=r.unstable_now(),typeof K=="function"?p.callback=K:p===t(u)&&n(u),E(Y)}else n(u);p=t(u)}if(p!==null)var re=!0;else{var j=t(c);j!==null&&le(R,j.startTime-Y),re=!1}return re}finally{p=null,g=V,v=!1}}var I=!1,O=null,U=-1,L=5,N=-1;function H(){return!(r.unstable_now()-N<L)}function q(){if(O!==null){var Q=r.unstable_now();N=Q;var Y=!0;try{Y=O(!0,Q)}finally{Y?oe():(I=!1,O=null)}}else I=!1}var oe;if(typeof C=="function")oe=function(){C(q)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=q,oe=function(){ie.postMessage(null)}}else oe=function(){A(q,0)};function se(Q){O=Q,I||(I=!0,oe())}function le(Q,Y){U=A(function(){Q(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){_||v||(_=!0,se(B))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var V=g;g=Y;try{return Q()}finally{g=V}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var V=g;g=Q;try{return Y()}finally{g=V}},r.unstable_scheduleCallback=function(Q,Y,V){var k=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?k+V:k):V=k,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,Q={id:h++,callback:Y,priorityLevel:Q,startTime:V,expirationTime:K,sortIndex:-1},V>k?(Q.sortIndex=V,e(c,Q),t(u)===null&&Q===t(c)&&(x?(S(U),U=-1):x=!0,le(R,V-k))):(Q.sortIndex=K,e(u,Q),_||v||(_=!0,se(B))),Q},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(Q){var Y=g;return function(){var V=g;g=Y;try{return Q.apply(this,arguments)}finally{g=V}}}}(vx)),vx}var eT;function OP(){return eT||(eT=1,gx.exports=kz()),gx.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx,tT;function zz(){return tT||(tT=1,yx=function(e){var t={},n=Mf(),i=OP(),s=Object.assign;function o(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,M=1;M<arguments.length;M++)m+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),B=Symbol.iterator;function I(d){return d===null||typeof d!="object"?null:(d=B&&d[B]||d["@@iterator"],typeof d=="function"?d:null)}function O(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case p:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case _:return(d.displayName||"Context")+".Consumer";case v:return(d._context.displayName||"Context")+".Provider";case x:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case C:return m=d.displayName||null,m!==null?m:O(d.type)||"Memo";case E:m=d._payload,d=d._init;try{return O(d(m))}catch{}}return null}function U(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(m);case 8:return m===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function L(d){var m=d,M=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(M=m.return),d=m.return;while(d)}return m.tag===3?M:null}function N(d){if(L(d)!==d)throw Error(o(188))}function H(d){var m=d.alternate;if(!m){if(m=L(d),m===null)throw Error(o(188));return m!==d?null:d}for(var M=d,T=m;;){var P=M.return;if(P===null)break;var F=P.alternate;if(F===null){if(T=P.return,T!==null){M=T;continue}break}if(P.child===F.child){for(F=P.child;F;){if(F===M)return N(P),d;if(F===T)return N(P),m;F=F.sibling}throw Error(o(188))}if(M.return!==T.return)M=P,T=F;else{for(var $=!1,he=P.child;he;){if(he===M){$=!0,M=P,T=F;break}if(he===T){$=!0,T=P,M=F;break}he=he.sibling}if(!$){for(he=F.child;he;){if(he===M){$=!0,M=F,T=P;break}if(he===T){$=!0,T=F,M=P;break}he=he.sibling}if(!$)throw Error(o(189))}}if(M.alternate!==T)throw Error(o(190))}if(M.tag!==3)throw Error(o(188));return M.stateNode.current===M?d:m}function q(d){return d=H(d),d!==null?oe(d):null}function oe(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=oe(d);if(m!==null)return m;d=d.sibling}return null}function J(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var m=J(d);if(m!==null)return m}d=d.sibling}return null}var ie=Array.isArray,se=e.getPublicInstance,le=e.getRootHostContext,Q=e.getChildHostContext,Y=e.prepareForCommit,V=e.resetAfterCommit,k=e.createInstance,K=e.appendInitialChild,re=e.finalizeInitialChildren,j=e.prepareUpdate,Te=e.shouldSetTextContent,me=e.createTextInstance,Re=e.scheduleTimeout,Ue=e.cancelTimeout,We=e.noTimeout,De=e.isPrimaryRenderer,Oe=e.supportsMutation,ne=e.supportsPersistence,Ie=e.supportsHydration,Ce=e.getInstanceFromNode,Xe=e.preparePortalMount,Fe=e.getCurrentEventPriority,lt=e.detachDeletedInstance,it=e.supportsMicrotasks,rt=e.scheduleMicrotask,_t=e.supportsTestSelectors,It=e.findFiberRoot,en=e.getBoundingRect,Z=e.getTextContent,G=e.isHiddenSubtree,ye=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Ne=e.setupIntersectionObserver,je=e.appendChild,mt=e.appendChildToContainer,Je=e.commitTextUpdate,nt=e.commitMount,Ct=e.commitUpdate,qt=e.insertBefore,Qe=e.insertInContainerBefore,rn=e.removeChild,ae=e.removeChildFromContainer,Pe=e.resetTextContent,ke=e.hideInstance,He=e.hideTextInstance,St=e.unhideInstance,ce=e.unhideTextInstance,et=e.clearContainer,qe=e.cloneInstance,Be=e.createContainerChildSet,Ye=e.appendChildToContainerChildSet,xt=e.finalizeContainerChildren,Ht=e.replaceContainerChildren,mn=e.cloneHiddenInstance,Tn=e.cloneHiddenTextInstance,$t=e.canHydrateInstance,ui=e.canHydrateTextInstance,zi=e.canHydrateSuspenseInstance,Uu=e.isSuspenseInstancePending,io=e.isSuspenseInstanceFallback,ro=e.registerSuspenseInstanceRetry,cs=e.getNextHydratableSibling,jo=e.getFirstHydratableChild,Lf=e.getFirstHydratableChildWithinContainer,Df=e.getFirstHydratableChildWithinSuspenseInstance,Wd=e.hydrateInstance,so=e.hydrateTextInstance,If=e.hydrateSuspenseInstance,X=e.getNextHydratableInstanceAfterSuspenseInstance,ge=e.commitHydratedContainer,Me=e.commitHydratedSuspenseInstance,Ee=e.clearSuspenseBoundary,Se=e.clearSuspenseBoundaryFromContainer,ct=e.shouldDeleteUnhydratedTailInstances,Tt=e.didNotMatchHydratedContainerTextInstance,Pt=e.didNotMatchHydratedTextInstance,ft;function Ut(d){if(ft===void 0)try{throw Error()}catch(M){var m=M.stack.trim().match(/\n( *(at )?)/);ft=m&&m[1]||""}return`
`+ft+d}var Ft=!1;function Nt(d,m){if(!d||Ft)return"";Ft=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ze){var T=Ze}Reflect.construct(d,[],m)}else{try{m.call()}catch(Ze){T=Ze}d.call(m.prototype)}else{try{throw Error()}catch(Ze){T=Ze}d()}}catch(Ze){if(Ze&&T&&typeof Ze.stack=="string"){for(var P=Ze.stack.split(`
`),F=T.stack.split(`
`),$=P.length-1,he=F.length-1;1<=$&&0<=he&&P[$]!==F[he];)he--;for(;1<=$&&0<=he;$--,he--)if(P[$]!==F[he]){if($!==1||he!==1)do if($--,he--,0>he||P[$]!==F[he]){var be=`
`+P[$].replace(" at new "," at ");return d.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",d.displayName)),be}while(1<=$&&0<=he);break}}}finally{Ft=!1,Error.prepareStackTrace=M}return(d=d?d.displayName||d.name:"")?Ut(d):""}var An=Object.prototype.hasOwnProperty,Ri=[],Sn=-1;function Jn(d){return{current:d}}function wt(d){0>Sn||(d.current=Ri[Sn],Ri[Sn]=null,Sn--)}function pt(d,m){Sn++,Ri[Sn]=d.current,d.current=m}var zn={},Jt=Jn(zn),Gn=Jn(!1),Fs=zn;function Ki(d,m){var M=d.type.contextTypes;if(!M)return zn;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var P={},F;for(F in M)P[F]=m[F];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=P),P}function Yn(d){return d=d.childContextTypes,d!=null}function Cn(){wt(Gn),wt(Jt)}function Er(d,m,M){if(Jt.current!==zn)throw Error(o(168));pt(Jt,m),pt(Gn,M)}function Sl(d,m,M){var T=d.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return M;T=T.getChildContext();for(var P in T)if(!(P in m))throw Error(o(108,U(d)||"Unknown",P));return s({},M,T)}function Pi(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||zn,Fs=Jt.current,pt(Jt,d),pt(Gn,Gn.current),!0}function Xo(d,m,M){var T=d.stateNode;if(!T)throw Error(o(169));M?(d=Sl(d,m,Fs),T.__reactInternalMemoizedMergedChildContext=d,wt(Gn),wt(Jt),pt(Jt,d)):wt(Gn),pt(Gn,M)}var ur=Math.clz32?Math.clz32:Ky,Ml=Math.log,ku=Math.LN2;function Ky(d){return d>>>=0,d===0?32:31-(Ml(d)/ku|0)|0}var wl=64,cn=4194304;function El(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function zu(d,m){var M=d.pendingLanes;if(M===0)return 0;var T=0,P=d.suspendedLanes,F=d.pingedLanes,$=M&268435455;if($!==0){var he=$&~P;he!==0?T=El(he):(F&=$,F!==0&&(T=El(F)))}else $=M&~P,$!==0?T=El($):F!==0&&(T=El(F));if(T===0)return 0;if(m!==0&&m!==T&&(m&P)===0&&(P=T&-T,F=m&-m,P>=F||P===16&&(F&4194240)!==0))return m;if((T&4)!==0&&(T|=M&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=T;0<m;)M=31-ur(m),P=1<<M,T|=d[M],m&=~P;return T}function jd(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sg(d,m){for(var M=d.suspendedLanes,T=d.pingedLanes,P=d.expirationTimes,F=d.pendingLanes;0<F;){var $=31-ur(F),he=1<<$,be=P[$];be===-1?((he&M)===0||(he&T)!==0)&&(P[$]=jd(he,m)):be<=m&&(d.expiredLanes|=he),F&=~he}}function Ff(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Of(d){for(var m=[],M=0;31>M;M++)m.push(d);return m}function _a(d,m,M){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-ur(m),d[m]=M}function Nf(d,m){var M=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<M;){var P=31-ur(M),F=1<<P;m[P]=0,T[P]=-1,d[P]=-1,M&=~F}}function Os(d,m){var M=d.entangledLanes|=m;for(d=d.entanglements;M;){var T=31-ur(M),P=1<<T;P&m|d[T]&m&&(d[T]|=m),M&=~P}}var Yt=0;function oo(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var xa=i.unstable_scheduleCallback,Tl=i.unstable_cancelCallback,Jo=i.unstable_shouldYield,Qy=i.unstable_requestPaint,ci=i.unstable_now,Aa=i.unstable_ImmediatePriority,qy=i.unstable_UserBlockingPriority,Uf=i.unstable_NormalPriority,kf=i.unstable_IdlePriority,Gu=null,Ns=null;function Hu(d){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(Gu,d,void 0,(d.current.flags&128)===128)}catch{}}function Vu(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Qi=typeof Object.is=="function"?Object.is:Vu,Vr=null,zf=!1,Xd=!1;function Gf(d){Vr===null?Vr=[d]:Vr.push(d)}function Hf(d){zf=!0,Gf(d)}function Wr(){if(!Xd&&Vr!==null){Xd=!0;var d=0,m=Yt;try{var M=Vr;for(Yt=1;d<M.length;d++){var T=M[d];do T=T(!0);while(T!==null)}Vr=null,zf=!1}catch(P){throw Vr!==null&&(Vr=Vr.slice(d+1)),xa(Aa,Wr),P}finally{Yt=m,Xd=!1}}return null}var Mg=a.ReactCurrentBatchConfig;function fs(d,m){if(Qi(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var M=Object.keys(d),T=Object.keys(m);if(M.length!==T.length)return!1;for(T=0;T<M.length;T++){var P=M[T];if(!An.call(m,P)||!Qi(d[P],m[P]))return!1}return!0}function Jd(d){switch(d.tag){case 5:return Ut(d.type);case 16:return Ut("Lazy");case 13:return Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 2:case 15:return d=Nt(d.type,!1),d;case 11:return d=Nt(d.type.render,!1),d;case 1:return d=Nt(d.type,!0),d;default:return""}}function cr(d,m){if(d&&d.defaultProps){m=s({},m),d=d.defaultProps;for(var M in d)m[M]===void 0&&(m[M]=d[M]);return m}return m}var Wu=Jn(null),Sa=null,ao=null,Vf=null;function qi(){Vf=ao=Sa=null}function Ma(d,m,M){De?(pt(Wu,m._currentValue),m._currentValue=M):(pt(Wu,m._currentValue2),m._currentValue2=M)}function ju(d){var m=Wu.current;wt(Wu),De?d._currentValue=m:d._currentValue2=m}function wa(d,m,M){for(;d!==null;){var T=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),d===M)break;d=d.return}}function Cl(d,m){Sa=d,Vf=ao=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Ai=!0),d.firstContext=null)}function fr(d){var m=De?d._currentValue:d._currentValue2;if(Vf!==d)if(d={context:d,memoizedValue:m,next:null},ao===null){if(Sa===null)throw Error(o(308));ao=d,Sa.dependencies={lanes:0,firstContext:d}}else ao=ao.next=d;return m}var jr=null,Xr=!1;function bl(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function lo(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Yo(d,m){var M=d.updateQueue;M!==null&&(M=M.shared,Qn!==null&&(d.mode&1)!==0&&(jt&2)===0?(d=M.interleaved,d===null?(m.next=m,jr===null?jr=[M]:jr.push(M)):(m.next=d.next,d.next=m),M.interleaved=m):(d=M.pending,d===null?m.next=m:(m.next=d.next,d.next=m),M.pending=m))}function Wf(d,m,M){if(m=m.updateQueue,m!==null&&(m=m.shared,(M&4194240)!==0)){var T=m.lanes;T&=d.pendingLanes,M|=T,m.lanes=M,Os(d,M)}}function jf(d,m){var M=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,M===T)){var P=null,F=null;if(M=M.firstBaseUpdate,M!==null){do{var $={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};F===null?P=F=$:F=F.next=$,M=M.next}while(M!==null);F===null?P=F=m:F=F.next=m}else P=F=m;M={baseState:T.baseState,firstBaseUpdate:P,lastBaseUpdate:F,shared:T.shared,effects:T.effects},d.updateQueue=M;return}d=M.lastBaseUpdate,d===null?M.firstBaseUpdate=m:d.next=m,M.lastBaseUpdate=m}function Xf(d,m,M,T){var P=d.updateQueue;Xr=!1;var F=P.firstBaseUpdate,$=P.lastBaseUpdate,he=P.shared.pending;if(he!==null){P.shared.pending=null;var be=he,Ze=be.next;be.next=null,$===null?F=Ze:$.next=Ze,$=be;var dt=d.alternate;dt!==null&&(dt=dt.updateQueue,he=dt.lastBaseUpdate,he!==$&&(he===null?dt.firstBaseUpdate=Ze:he.next=Ze,dt.lastBaseUpdate=be))}if(F!==null){var zt=P.baseState;$=0,dt=Ze=be=null,he=F;do{var bt=he.lane,Xt=he.eventTime;if((T&bt)===bt){dt!==null&&(dt=dt.next={eventTime:Xt,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var ut=d,Oi=he;switch(bt=m,Xt=M,Oi.tag){case 1:if(ut=Oi.payload,typeof ut=="function"){zt=ut.call(Xt,zt,bt);break e}zt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Oi.payload,bt=typeof ut=="function"?ut.call(Xt,zt,bt):ut,bt==null)break e;zt=s({},zt,bt);break e;case 2:Xr=!0}}he.callback!==null&&he.lane!==0&&(d.flags|=64,bt=P.effects,bt===null?P.effects=[he]:bt.push(he))}else Xt={eventTime:Xt,lane:bt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},dt===null?(Ze=dt=Xt,be=zt):dt=dt.next=Xt,$|=bt;if(he=he.next,he===null){if(he=P.shared.pending,he===null)break;bt=he,he=bt.next,bt.next=null,P.lastBaseUpdate=bt,P.shared.pending=null}}while(!0);if(dt===null&&(be=zt),P.baseState=be,P.firstBaseUpdate=Ze,P.lastBaseUpdate=dt,m=P.shared.interleaved,m!==null){P=m;do $|=P.lane,P=P.next;while(P!==m)}else F===null&&(P.shared.lanes=0);Gs|=$,d.lanes=$,d.memoizedState=zt}}function wg(d,m,M){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var T=d[m],P=T.callback;if(P!==null){if(T.callback=null,T=M,typeof P!="function")throw Error(o(191,P));P.call(T)}}}var Eg=new n.Component().refs;function Kd(d,m,M,T){m=d.memoizedState,M=M(T,m),M=M==null?m:s({},m,M),d.memoizedState=M,d.lanes===0&&(d.updateQueue.baseState=M)}var Jf={isMounted:function(d){return(d=d._reactInternals)?L(d)===d:!1},enqueueSetState:function(d,m,M){d=d._reactInternals;var T=fn(),P=ys(d),F=lo(T,P);F.payload=m,M!=null&&(F.callback=M),Yo(d,F),m=Vi(d,P,T),m!==null&&Wf(m,d,P)},enqueueReplaceState:function(d,m,M){d=d._reactInternals;var T=fn(),P=ys(d),F=lo(T,P);F.tag=1,F.payload=m,M!=null&&(F.callback=M),Yo(d,F),m=Vi(d,P,T),m!==null&&Wf(m,d,P)},enqueueForceUpdate:function(d,m){d=d._reactInternals;var M=fn(),T=ys(d),P=lo(M,T);P.tag=2,m!=null&&(P.callback=m),Yo(d,P),m=Vi(d,T,M),m!==null&&Wf(m,d,T)}};function Qd(d,m,M,T,P,F,$){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,F,$):m.prototype&&m.prototype.isPureReactComponent?!fs(M,T)||!fs(P,F):!0}function Tg(d,m,M){var T=!1,P=zn,F=m.contextType;return typeof F=="object"&&F!==null?F=fr(F):(P=Yn(m)?Fs:Jt.current,T=m.contextTypes,F=(T=T!=null)?Ki(d,P):zn),m=new m(M,F),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Jf,d.stateNode=m,m._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=F),m}function Cg(d,m,M,T){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(M,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(M,T),m.state!==d&&Jf.enqueueReplaceState(m,m.state,null)}function qd(d,m,M,T){var P=d.stateNode;P.props=M,P.state=d.memoizedState,P.refs=Eg,bl(d);var F=m.contextType;typeof F=="object"&&F!==null?P.context=fr(F):(F=Yn(m)?Fs:Jt.current,P.context=Ki(d,F)),P.state=d.memoizedState,F=m.getDerivedStateFromProps,typeof F=="function"&&(Kd(d,m,F,M),P.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(m=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),m!==P.state&&Jf.enqueueReplaceState(P,P.state,null),Xf(d,M,P,T),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}var Rl=[],Ko=0,Yf=null,Kf=0,Jr=[],Tr=0,Ea=null,uo=1,co="";function Ta(d,m){Rl[Ko++]=Kf,Rl[Ko++]=Yf,Yf=d,Kf=m}function bg(d,m,M){Jr[Tr++]=uo,Jr[Tr++]=co,Jr[Tr++]=Ea,Ea=d;var T=uo;d=co;var P=32-ur(T)-1;T&=~(1<<P),M+=1;var F=32-ur(m)+P;if(30<F){var $=P-P%5;F=(T&(1<<$)-1).toString(32),T>>=$,P-=$,uo=1<<32-ur(m)+P|M<<P|T,co=F+d}else uo=1<<F|M<<P|T,co=d}function Zd(d){d.return!==null&&(Ta(d,1),bg(d,1,0))}function $d(d){for(;d===Yf;)Yf=Rl[--Ko],Rl[Ko]=null,Kf=Rl[--Ko],Rl[Ko]=null;for(;d===Ea;)Ea=Jr[--Tr],Jr[Tr]=null,co=Jr[--Tr],Jr[Tr]=null,uo=Jr[--Tr],Jr[Tr]=null}var Zi=null,Bi=null,Ln=!1,Pl=!1,Yr=null;function ep(d,m){var M=Dr(5,null,null,0);M.elementType="DELETED",M.stateNode=m,M.return=d,m=d.deletions,m===null?(d.deletions=[M],d.flags|=16):m.push(M)}function tp(d,m){switch(d.tag){case 5:return m=$t(m,d.type,d.pendingProps),m!==null?(d.stateNode=m,Zi=d,Bi=jo(m),!0):!1;case 6:return m=ui(m,d.pendingProps),m!==null?(d.stateNode=m,Zi=d,Bi=null,!0):!1;case 13:if(m=zi(m),m!==null){var M=Ea!==null?{id:uo,overflow:co}:null;return d.memoizedState={dehydrated:m,treeContext:M,retryLane:1073741824},M=Dr(18,null,null,0),M.stateNode=m,M.return=d,d.child=M,Zi=d,Bi=null,!0}return!1;default:return!1}}function Qf(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Qo(d){if(Ln){var m=Bi;if(m){var M=m;if(!tp(d,m)){if(Qf(d))throw Error(o(418));m=cs(M);var T=Zi;m&&tp(d,m)?ep(T,M):(d.flags=d.flags&-4097|2,Ln=!1,Zi=d)}}else{if(Qf(d))throw Error(o(418));d.flags=d.flags&-4097|2,Ln=!1,Zi=d}}}function Rg(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Zi=d}function Xu(d){if(!Ie||d!==Zi)return!1;if(!Ln)return Rg(d),Ln=!0,!1;if(d.tag!==3&&(d.tag!==5||ct(d.type)&&!Te(d.type,d.memoizedProps))){var m=Bi;if(m){if(Qf(d)){for(d=Bi;d;)d=cs(d);throw Error(o(418))}for(;m;)ep(d,m),m=cs(m)}}if(Rg(d),d.tag===13){if(!Ie)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Bi=X(d)}else Bi=Zi?cs(d.stateNode):null;return!0}function Bl(){Ie&&(Bi=Zi=null,Pl=Ln=!1)}function qf(d){Yr===null?Yr=[d]:Yr.push(d)}function Ll(d,m,M){if(d=M.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(o(309));var T=M.stateNode}if(!T)throw Error(o(147,d));var P=T,F=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===F?m.ref:(m=function($){var he=P.refs;he===Eg&&(he=P.refs={}),$===null?delete he[F]:he[F]=$},m._stringRef=F,m)}if(typeof d!="string")throw Error(o(284));if(!M._owner)throw Error(o(290,d))}return d}function qo(d,m){throw d=Object.prototype.toString.call(m),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function Dl(d){var m=d._init;return m(d._payload)}function Pg(d){function m(xe,de){if(d){var we=xe.deletions;we===null?(xe.deletions=[de],xe.flags|=16):we.push(de)}}function M(xe,de){if(!d)return null;for(;de!==null;)m(xe,de),de=de.sibling;return null}function T(xe,de){for(xe=new Map;de!==null;)de.key!==null?xe.set(de.key,de):xe.set(de.index,de),de=de.sibling;return xe}function P(xe,de){return xe=Eo(xe,de),xe.index=0,xe.sibling=null,xe}function F(xe,de,we){return xe.index=we,d?(we=xe.alternate,we!==null?(we=we.index,we<de?(xe.flags|=2,de):we):(xe.flags|=2,de)):(xe.flags|=1048576,de)}function $(xe){return d&&xe.alternate===null&&(xe.flags|=2),xe}function he(xe,de,we,at){return de===null||de.tag!==6?(de=wh(we,xe.mode,at),de.return=xe,de):(de=P(de,we),de.return=xe,de)}function be(xe,de,we,at){var Mt=we.type;return Mt===h?dt(xe,de,we.props.children,at,we.key):de!==null&&(de.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===E&&Dl(Mt)===de.type)?(at=P(de,we.props),at.ref=Ll(xe,de,we),at.return=xe,at):(at=Mh(we.type,we.key,we.props,null,xe.mode,at),at.ref=Ll(xe,de,we),at.return=xe,at)}function Ze(xe,de,we,at){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=Eh(we,xe.mode,at),de.return=xe,de):(de=P(de,we.children||[]),de.return=xe,de)}function dt(xe,de,we,at,Mt){return de===null||de.tag!==7?(de=Ya(we,xe.mode,at,Mt),de.return=xe,de):(de=P(de,we),de.return=xe,de)}function zt(xe,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=wh(""+de,xe.mode,we),de.return=xe,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case u:return we=Mh(de.type,de.key,de.props,null,xe.mode,we),we.ref=Ll(xe,null,de),we.return=xe,we;case c:return de=Eh(de,xe.mode,we),de.return=xe,de;case E:var at=de._init;return zt(xe,at(de._payload),we)}if(ie(de)||I(de))return de=Ya(de,xe.mode,we,null),de.return=xe,de;qo(xe,de)}return null}function bt(xe,de,we,at){var Mt=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return Mt!==null?null:he(xe,de,""+we,at);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case u:return we.key===Mt?be(xe,de,we,at):null;case c:return we.key===Mt?Ze(xe,de,we,at):null;case E:return Mt=we._init,bt(xe,de,Mt(we._payload),at)}if(ie(we)||I(we))return Mt!==null?null:dt(xe,de,we,at,null);qo(xe,we)}return null}function Xt(xe,de,we,at,Mt){if(typeof at=="string"&&at!==""||typeof at=="number")return xe=xe.get(we)||null,he(de,xe,""+at,Mt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case u:return xe=xe.get(at.key===null?we:at.key)||null,be(de,xe,at,Mt);case c:return xe=xe.get(at.key===null?we:at.key)||null,Ze(de,xe,at,Mt);case E:var Wt=at._init;return Xt(xe,de,we,Wt(at._payload),Mt)}if(ie(at)||I(at))return xe=xe.get(we)||null,dt(de,xe,at,Mt,null);qo(de,at)}return null}function ut(xe,de,we,at){for(var Mt=null,Wt=null,Gt=de,an=de=0,ii=null;Gt!==null&&an<we.length;an++){Gt.index>an?(ii=Gt,Gt=null):ii=Gt.sibling;var sn=bt(xe,Gt,we[an],at);if(sn===null){Gt===null&&(Gt=ii);break}d&&Gt&&sn.alternate===null&&m(xe,Gt),de=F(sn,de,an),Wt===null?Mt=sn:Wt.sibling=sn,Wt=sn,Gt=ii}if(an===we.length)return M(xe,Gt),Ln&&Ta(xe,an),Mt;if(Gt===null){for(;an<we.length;an++)Gt=zt(xe,we[an],at),Gt!==null&&(de=F(Gt,de,an),Wt===null?Mt=Gt:Wt.sibling=Gt,Wt=Gt);return Ln&&Ta(xe,an),Mt}for(Gt=T(xe,Gt);an<we.length;an++)ii=Xt(Gt,xe,an,we[an],at),ii!==null&&(d&&ii.alternate!==null&&Gt.delete(ii.key===null?an:ii.key),de=F(ii,de,an),Wt===null?Mt=ii:Wt.sibling=ii,Wt=ii);return d&&Gt.forEach(function(To){return m(xe,To)}),Ln&&Ta(xe,an),Mt}function Oi(xe,de,we,at){var Mt=I(we);if(typeof Mt!="function")throw Error(o(150));if(we=Mt.call(we),we==null)throw Error(o(151));for(var Wt=Mt=null,Gt=de,an=de=0,ii=null,sn=we.next();Gt!==null&&!sn.done;an++,sn=we.next()){Gt.index>an?(ii=Gt,Gt=null):ii=Gt.sibling;var To=bt(xe,Gt,sn.value,at);if(To===null){Gt===null&&(Gt=ii);break}d&&Gt&&To.alternate===null&&m(xe,Gt),de=F(To,de,an),Wt===null?Mt=To:Wt.sibling=To,Wt=To,Gt=ii}if(sn.done)return M(xe,Gt),Ln&&Ta(xe,an),Mt;if(Gt===null){for(;!sn.done;an++,sn=we.next())sn=zt(xe,sn.value,at),sn!==null&&(de=F(sn,de,an),Wt===null?Mt=sn:Wt.sibling=sn,Wt=sn);return Ln&&Ta(xe,an),Mt}for(Gt=T(xe,Gt);!sn.done;an++,sn=we.next())sn=Xt(Gt,xe,an,sn.value,at),sn!==null&&(d&&sn.alternate!==null&&Gt.delete(sn.key===null?an:sn.key),de=F(sn,de,an),Wt===null?Mt=sn:Wt.sibling=sn,Wt=sn);return d&&Gt.forEach(function(Lp){return m(xe,Lp)}),Ln&&Ta(xe,an),Mt}function Ir(xe,de,we,at){if(typeof we=="object"&&we!==null&&we.type===h&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case u:e:{for(var Mt=we.key,Wt=de;Wt!==null;){if(Wt.key===Mt){if(Mt=we.type,Mt===h){if(Wt.tag===7){M(xe,Wt.sibling),de=P(Wt,we.props.children),de.return=xe,xe=de;break e}}else if(Wt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===E&&Dl(Mt)===Wt.type){M(xe,Wt.sibling),de=P(Wt,we.props),de.ref=Ll(xe,Wt,we),de.return=xe,xe=de;break e}M(xe,Wt);break}else m(xe,Wt);Wt=Wt.sibling}we.type===h?(de=Ya(we.props.children,xe.mode,at,we.key),de.return=xe,xe=de):(at=Mh(we.type,we.key,we.props,null,xe.mode,at),at.ref=Ll(xe,de,we),at.return=xe,xe=at)}return $(xe);case c:e:{for(Wt=we.key;de!==null;){if(de.key===Wt)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){M(xe,de.sibling),de=P(de,we.children||[]),de.return=xe,xe=de;break e}else{M(xe,de);break}else m(xe,de);de=de.sibling}de=Eh(we,xe.mode,at),de.return=xe,xe=de}return $(xe);case E:return Wt=we._init,Ir(xe,de,Wt(we._payload),at)}if(ie(we))return ut(xe,de,we,at);if(I(we))return Oi(xe,de,we,at);qo(xe,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(M(xe,de.sibling),de=P(de,we),de.return=xe,xe=de):(M(xe,de),de=wh(we,xe.mode,at),de.return=xe,xe=de),$(xe)):M(xe,de)}return Ir}var fo=Pg(!0),Bg=Pg(!1),Il={},hr=Jn(Il),Ca=Jn(Il),ba=Jn(Il);function hs(d){if(d===Il)throw Error(o(174));return d}function Zf(d,m){pt(ba,m),pt(Ca,d),pt(hr,Il),d=le(m),wt(hr),pt(hr,d)}function Fl(){wt(hr),wt(Ca),wt(ba)}function Lg(d){var m=hs(ba.current),M=hs(hr.current);m=Q(M,d.type,m),M!==m&&(pt(Ca,d),pt(hr,m))}function np(d){Ca.current===d&&(wt(hr),wt(Ca))}var Nn=Jn(0);function $f(d){for(var m=d;m!==null;){if(m.tag===13){var M=m.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||Uu(M)||io(M)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Cr=[];function Ra(){for(var d=0;d<Cr.length;d++){var m=Cr[d];De?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Cr.length=0}var Ju=a.ReactCurrentDispatcher,br=a.ReactCurrentBatchConfig,Pa=0,Un=null,yi=null,_i=null,eh=!1,Us=!1,Ba=0,Yu=0;function xi(){throw Error(o(321))}function th(d,m){if(m===null)return!1;for(var M=0;M<m.length&&M<d.length;M++)if(!Qi(d[M],m[M]))return!1;return!0}function Ol(d,m,M,T,P,F){if(Pa=F,Un=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Ju.current=d===null||d.memoizedState===null?lp:up,d=M(T,P),Us){F=0;do{if(Us=!1,Ba=0,25<=F)throw Error(o(301));F+=1,_i=yi=null,m.updateQueue=null,Ju.current=cp,d=M(T,P)}while(Us)}if(Ju.current=zl,m=yi!==null&&yi.next!==null,Pa=0,_i=yi=Un=null,eh=!1,m)throw Error(o(300));return d}function Zo(){var d=Ba!==0;return Ba=0,d}function ds(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?Un.memoizedState=_i=d:_i=_i.next=d,_i}function ps(){if(yi===null){var d=Un.alternate;d=d!==null?d.memoizedState:null}else d=yi.next;var m=_i===null?Un.memoizedState:_i.next;if(m!==null)_i=m,yi=d;else{if(d===null)throw Error(o(310));yi=d,d={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},_i===null?Un.memoizedState=_i=d:_i=_i.next=d}return _i}function ks(d,m){return typeof m=="function"?m(d):m}function Ku(d){var m=ps(),M=m.queue;if(M===null)throw Error(o(311));M.lastRenderedReducer=d;var T=yi,P=T.baseQueue,F=M.pending;if(F!==null){if(P!==null){var $=P.next;P.next=F.next,F.next=$}T.baseQueue=P=F,M.pending=null}if(P!==null){F=P.next,T=T.baseState;var he=$=null,be=null,Ze=F;do{var dt=Ze.lane;if((Pa&dt)===dt)be!==null&&(be=be.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),T=Ze.hasEagerState?Ze.eagerState:d(T,Ze.action);else{var zt={lane:dt,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};be===null?(he=be=zt,$=T):be=be.next=zt,Un.lanes|=dt,Gs|=dt}Ze=Ze.next}while(Ze!==null&&Ze!==F);be===null?$=T:be.next=he,Qi(T,m.memoizedState)||(Ai=!0),m.memoizedState=T,m.baseState=$,m.baseQueue=be,M.lastRenderedState=T}if(d=M.interleaved,d!==null){P=d;do F=P.lane,Un.lanes|=F,Gs|=F,P=P.next;while(P!==d)}else P===null&&(M.lanes=0);return[m.memoizedState,M.dispatch]}function Qu(d){var m=ps(),M=m.queue;if(M===null)throw Error(o(311));M.lastRenderedReducer=d;var T=M.dispatch,P=M.pending,F=m.memoizedState;if(P!==null){M.pending=null;var $=P=P.next;do F=d(F,$.action),$=$.next;while($!==P);Qi(F,m.memoizedState)||(Ai=!0),m.memoizedState=F,m.baseQueue===null&&(m.baseState=F),M.lastRenderedState=F}return[F,T]}function ip(){}function rp(d,m){var M=Un,T=ps(),P=m(),F=!Qi(T.memoizedState,P);if(F&&(T.memoizedState=P,Ai=!0),T=T.queue,Nl(ho.bind(null,M,T,d),[d]),T.getSnapshot!==m||F||_i!==null&&_i.memoizedState.tag&1){if(M.flags|=2048,Zu(9,op.bind(null,M,T,P,m),void 0,null),Qn===null)throw Error(o(349));(Pa&30)!==0||sp(M,m,P)}return P}function sp(d,m,M){d.flags|=16384,d={getSnapshot:m,value:M},m=Un.updateQueue,m===null?(m={lastEffect:null,stores:null},Un.updateQueue=m,m.stores=[d]):(M=m.stores,M===null?m.stores=[d]:M.push(d))}function op(d,m,M,T){m.value=M,m.getSnapshot=T,nh(m)&&Vi(d,1,-1)}function ho(d,m,M){return M(function(){nh(m)&&Vi(d,1,-1)})}function nh(d){var m=d.getSnapshot;d=d.value;try{var M=m();return!Qi(d,M)}catch{return!0}}function qu(d){var m=ds();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:d},m.queue=d,d=d.dispatch=Zy.bind(null,Un,d),[m.memoizedState,d]}function Zu(d,m,M,T){return d={tag:d,create:m,destroy:M,deps:T,next:null},m=Un.updateQueue,m===null?(m={lastEffect:null,stores:null},Un.updateQueue=m,m.lastEffect=d.next=d):(M=m.lastEffect,M===null?m.lastEffect=d.next=d:(T=M.next,M.next=d,d.next=T,m.lastEffect=d)),d}function Dg(){return ps().memoizedState}function $o(d,m,M,T){var P=ds();Un.flags|=d,P.memoizedState=Zu(1|m,M,void 0,T===void 0?null:T)}function ih(d,m,M,T){var P=ps();T=T===void 0?null:T;var F=void 0;if(yi!==null){var $=yi.memoizedState;if(F=$.destroy,T!==null&&th(T,$.deps)){P.memoizedState=Zu(m,M,F,T);return}}Un.flags|=d,P.memoizedState=Zu(1|m,M,F,T)}function rh(d,m){return $o(8390656,8,d,m)}function Nl(d,m){return ih(2048,8,d,m)}function Mn(d,m){return ih(4,2,d,m)}function sh(d,m){return ih(4,4,d,m)}function $u(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Ul(d,m,M){return M=M!=null?M.concat([d]):null,ih(4,4,$u.bind(null,m,d),M)}function oh(){}function ah(d,m){var M=ps();m=m===void 0?null:m;var T=M.memoizedState;return T!==null&&m!==null&&th(m,T[1])?T[0]:(M.memoizedState=[d,m],d)}function kl(d,m){var M=ps();m=m===void 0?null:m;var T=M.memoizedState;return T!==null&&m!==null&&th(m,T[1])?T[0]:(d=d(),M.memoizedState=[d,m],d)}function lh(d,m){var M=Yt;Yt=M!==0&&4>M?M:4,d(!0);var T=br.transition;br.transition={};try{d(!1),m()}finally{Yt=M,br.transition=T}}function La(){return ps().memoizedState}function Ig(d,m,M){var T=ys(d);M={lane:T,action:M,hasEagerState:!1,eagerState:null,next:null},Fg(d)?ap(m,M):(ec(d,m,M),M=fn(),d=Vi(d,T,M),d!==null&&tc(d,m,T))}function Zy(d,m,M){var T=ys(d),P={lane:T,action:M,hasEagerState:!1,eagerState:null,next:null};if(Fg(d))ap(m,P);else{ec(d,m,P);var F=d.alternate;if(d.lanes===0&&(F===null||F.lanes===0)&&(F=m.lastRenderedReducer,F!==null))try{var $=m.lastRenderedState,he=F($,M);if(P.hasEagerState=!0,P.eagerState=he,Qi(he,$))return}catch{}finally{}M=fn(),d=Vi(d,T,M),d!==null&&tc(d,m,T)}}function Fg(d){var m=d.alternate;return d===Un||m!==null&&m===Un}function ap(d,m){Us=eh=!0;var M=d.pending;M===null?m.next=m:(m.next=M.next,M.next=m),d.pending=m}function ec(d,m,M){Qn!==null&&(d.mode&1)!==0&&(jt&2)===0?(d=m.interleaved,d===null?(M.next=M,jr===null?jr=[m]:jr.push(m)):(M.next=d.next,d.next=M),m.interleaved=M):(d=m.pending,d===null?M.next=M:(M.next=d.next,d.next=M),m.pending=M)}function tc(d,m,M){if((M&4194240)!==0){var T=m.lanes;T&=d.pendingLanes,M|=T,m.lanes=M,Os(d,M)}}var zl={readContext:fr,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},lp={readContext:fr,useCallback:function(d,m){return ds().memoizedState=[d,m===void 0?null:m],d},useContext:fr,useEffect:rh,useImperativeHandle:function(d,m,M){return M=M!=null?M.concat([d]):null,$o(4194308,4,$u.bind(null,m,d),M)},useLayoutEffect:function(d,m){return $o(4194308,4,d,m)},useInsertionEffect:function(d,m){return $o(4,2,d,m)},useMemo:function(d,m){var M=ds();return m=m===void 0?null:m,d=d(),M.memoizedState=[d,m],d},useReducer:function(d,m,M){var T=ds();return m=M!==void 0?M(m):m,T.memoizedState=T.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},T.queue=d,d=d.dispatch=Ig.bind(null,Un,d),[T.memoizedState,d]},useRef:function(d){var m=ds();return d={current:d},m.memoizedState=d},useState:qu,useDebugValue:oh,useDeferredValue:function(d){var m=qu(d),M=m[0],T=m[1];return rh(function(){var P=br.transition;br.transition={};try{T(d)}finally{br.transition=P}},[d]),M},useTransition:function(){var d=qu(!1),m=d[0];return d=lh.bind(null,d[1]),ds().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,M){var T=Un,P=ds();if(Ln){if(M===void 0)throw Error(o(407));M=M()}else{if(M=m(),Qn===null)throw Error(o(349));(Pa&30)!==0||sp(T,m,M)}P.memoizedState=M;var F={value:M,getSnapshot:m};return P.queue=F,rh(ho.bind(null,T,F,d),[d]),T.flags|=2048,Zu(9,op.bind(null,T,F,M,m),void 0,null),M},useId:function(){var d=ds(),m=Qn.identifierPrefix;if(Ln){var M=co,T=uo;M=(T&~(1<<32-ur(T)-1)).toString(32)+M,m=":"+m+"R"+M,M=Ba++,0<M&&(m+="H"+M.toString(32)),m+=":"}else M=Yu++,m=":"+m+"r"+M.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},up={readContext:fr,useCallback:ah,useContext:fr,useEffect:Nl,useImperativeHandle:Ul,useInsertionEffect:Mn,useLayoutEffect:sh,useMemo:kl,useReducer:Ku,useRef:Dg,useState:function(){return Ku(ks)},useDebugValue:oh,useDeferredValue:function(d){var m=Ku(ks),M=m[0],T=m[1];return Nl(function(){var P=br.transition;br.transition={};try{T(d)}finally{br.transition=P}},[d]),M},useTransition:function(){var d=Ku(ks)[0],m=ps().memoizedState;return[d,m]},useMutableSource:ip,useSyncExternalStore:rp,useId:La,unstable_isNewReconciler:!1},cp={readContext:fr,useCallback:ah,useContext:fr,useEffect:Nl,useImperativeHandle:Ul,useInsertionEffect:Mn,useLayoutEffect:sh,useMemo:kl,useReducer:Qu,useRef:Dg,useState:function(){return Qu(ks)},useDebugValue:oh,useDeferredValue:function(d){var m=Qu(ks),M=m[0],T=m[1];return Nl(function(){var P=br.transition;br.transition={};try{T(d)}finally{br.transition=P}},[d]),M},useTransition:function(){var d=Qu(ks)[0],m=ps().memoizedState;return[d,m]},useMutableSource:ip,useSyncExternalStore:rp,useId:La,unstable_isNewReconciler:!1};function fp(d,m){try{var M="",T=m;do M+=Jd(T),T=T.return;while(T);var P=M}catch(F){P=`
Error generating stack: `+F.message+`
`+F.stack}return{value:d,source:m,stack:P}}function uh(d,m){try{console.error(m.value)}catch(M){setTimeout(function(){throw M})}}var $y=typeof WeakMap=="function"?WeakMap:Map;function Og(d,m,M){M=lo(-1,M),M.tag=3,M.payload={element:null};var T=m.value;return M.callback=function(){Xl||(Xl=!0,Rn=T),uh(d,m)},M}function ch(d,m,M){M=lo(-1,M),M.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var P=m.value;M.payload=function(){return T(P)},M.callback=function(){uh(d,m)}}var F=d.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(M.callback=function(){uh(d,m),typeof T!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})}),M}function po(d,m,M){var T=d.pingCache;if(T===null){T=d.pingCache=new $y;var P=new Set;T.set(m,P)}else P=T.get(m),P===void 0&&(P=new Set,T.set(m,P));P.has(M)||(P.add(M),d=Rp.bind(null,d,m,M),m.then(d,d))}function hp(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function Da(d,m,M,T,P){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(m=lo(-1,1),m.tag=2,Yo(M,m))),M.lanes|=1),d):(d.flags|=65536,d.lanes=P,d)}function fi(d){d.flags|=4}function Gl(d,m){if(d!==null&&d.child===m.child)return!0;if((m.flags&16)!==0)return!1;for(d=m.child;d!==null;){if((d.flags&12854)!==0||(d.subtreeFlags&12854)!==0)return!1;d=d.sibling}return!0}var Rr,Ia,fh,hh;if(Oe)Rr=function(d,m){for(var M=m.child;M!==null;){if(M.tag===5||M.tag===6)K(d,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Ia=function(){},fh=function(d,m,M,T,P){if(d=d.memoizedProps,d!==T){var F=m.stateNode,$=hs(hr.current);M=j(F,M,d,T,P,$),(m.updateQueue=M)&&fi(m)}},hh=function(d,m,M,T){M!==T&&fi(m)};else if(ne){Rr=function(d,m,M,T){for(var P=m.child;P!==null;){if(P.tag===5){var F=P.stateNode;M&&T&&(F=mn(F,P.type,P.memoizedProps,P)),K(d,F)}else if(P.tag===6)F=P.stateNode,M&&T&&(F=Tn(F,P.memoizedProps,P)),K(d,F);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)F=P.child,F!==null&&(F.return=P),Rr(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var ea=function(d,m,M,T){for(var P=m.child;P!==null;){if(P.tag===5){var F=P.stateNode;M&&T&&(F=mn(F,P.type,P.memoizedProps,P)),Ye(d,F)}else if(P.tag===6)F=P.stateNode,M&&T&&(F=Tn(F,P.memoizedProps,P)),Ye(d,F);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)F=P.child,F!==null&&(F.return=P),ea(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Ia=function(d,m){var M=m.stateNode;if(!Gl(d,m)){d=M.containerInfo;var T=Be(d);ea(T,m,!1,!1),M.pendingChildren=T,fi(m),xt(d,T)}},fh=function(d,m,M,T,P){var F=d.stateNode,$=d.memoizedProps;if((d=Gl(d,m))&&$===T)m.stateNode=F;else{var he=m.stateNode,be=hs(hr.current),Ze=null;$!==T&&(Ze=j(he,M,$,T,P,be)),d&&Ze===null?m.stateNode=F:(F=qe(F,Ze,M,$,T,m,d,he),re(F,M,T,P,be)&&fi(m),m.stateNode=F,d?fi(m):Rr(F,m,!1,!1))}},hh=function(d,m,M,T){M!==T?(d=hs(ba.current),M=hs(hr.current),m.stateNode=me(T,d,M,m),fi(m)):m.stateNode=d.stateNode}}else Ia=function(){},fh=function(){},hh=function(){};function mo(d,m){if(!Ln)switch(d.tailMode){case"hidden":m=d.tail;for(var M=null;m!==null;)m.alternate!==null&&(M=m),m=m.sibling;M===null?d.tail=null:M.sibling=null;break;case"collapsed":M=d.tail;for(var T=null;M!==null;)M.alternate!==null&&(T=M),M=M.sibling;T===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Kn(d){var m=d.alternate!==null&&d.alternate.child===d.child,M=0,T=0;if(m)for(var P=d.child;P!==null;)M|=P.lanes|P.childLanes,T|=P.subtreeFlags&14680064,T|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)M|=P.lanes|P.childLanes,T|=P.subtreeFlags,T|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=T,d.childLanes=M,m}function dh(d,m,M){var T=m.pendingProps;switch($d(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(m),null;case 1:return Yn(m.type)&&Cn(),Kn(m),null;case 3:return T=m.stateNode,Fl(),wt(Gn),wt(Jt),Ra(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(Xu(m)?fi(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Yr!==null&&(pc(Yr),Yr=null))),Ia(d,m),Kn(m),null;case 5:np(m),M=hs(ba.current);var P=m.type;if(d!==null&&m.stateNode!=null)fh(d,m,P,T,M),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(o(166));return Kn(m),null}if(d=hs(hr.current),Xu(m)){if(!Ie)throw Error(o(175));d=Wd(m.stateNode,m.type,m.memoizedProps,M,d,m,!Pl),m.updateQueue=d,d!==null&&fi(m)}else{var F=k(P,T,M,d,m);Rr(F,m,!1,!1),m.stateNode=F,re(F,P,T,M,d)&&fi(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Kn(m),null;case 6:if(d&&m.stateNode!=null)hh(d,m,d.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(o(166));if(d=hs(ba.current),M=hs(hr.current),Xu(m)){if(!Ie)throw Error(o(176));if(d=m.stateNode,T=m.memoizedProps,(M=so(d,T,m,!Pl))&&(P=Zi,P!==null))switch(F=(P.mode&1)!==0,P.tag){case 3:Tt(P.stateNode.containerInfo,d,T,F);break;case 5:Pt(P.type,P.memoizedProps,P.stateNode,d,T,F)}M&&fi(m)}else m.stateNode=me(T,d,M,m)}return Kn(m),null;case 13:if(wt(Nn),T=m.memoizedState,Ln&&Bi!==null&&(m.mode&1)!==0&&(m.flags&128)===0){for(d=Bi;d;)d=cs(d);return Bl(),m.flags|=98560,m}if(T!==null&&T.dehydrated!==null){if(T=Xu(m),d===null){if(!T)throw Error(o(318));if(!Ie)throw Error(o(344));if(d=m.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));If(d,m)}else Bl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;return Kn(m),null}return Yr!==null&&(pc(Yr),Yr=null),(m.flags&128)!==0?(m.lanes=M,m):(T=T!==null,M=!1,d===null?Xu(m):M=d.memoizedState!==null,T&&!M&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Nn.current&1)!==0?Vn===0&&(Vn=3):xh())),m.updateQueue!==null&&(m.flags|=4),Kn(m),null);case 4:return Fl(),Ia(d,m),d===null&&Xe(m.stateNode.containerInfo),Kn(m),null;case 10:return ju(m.type._context),Kn(m),null;case 17:return Yn(m.type)&&Cn(),Kn(m),null;case 19:if(wt(Nn),P=m.memoizedState,P===null)return Kn(m),null;if(T=(m.flags&128)!==0,F=P.rendering,F===null)if(T)mo(P,!1);else{if(Vn!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(F=$f(d),F!==null){for(m.flags|=128,mo(P,!1),d=F.updateQueue,d!==null&&(m.updateQueue=d,m.flags|=4),m.subtreeFlags=0,d=M,T=m.child;T!==null;)M=T,P=d,M.flags&=14680066,F=M.alternate,F===null?(M.childLanes=0,M.lanes=P,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=F.childLanes,M.lanes=F.lanes,M.child=F.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=F.memoizedProps,M.memoizedState=F.memoizedState,M.updateQueue=F.updateQueue,M.type=F.type,P=F.dependencies,M.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),T=T.sibling;return pt(Nn,Nn.current&1|2),m.child}d=d.sibling}P.tail!==null&&ci()>ia&&(m.flags|=128,T=!0,mo(P,!1),m.lanes=4194304)}else{if(!T)if(d=$f(F),d!==null){if(m.flags|=128,T=!0,d=d.updateQueue,d!==null&&(m.updateQueue=d,m.flags|=4),mo(P,!0),P.tail===null&&P.tailMode==="hidden"&&!F.alternate&&!Ln)return Kn(m),null}else 2*ci()-P.renderingStartTime>ia&&M!==1073741824&&(m.flags|=128,T=!0,mo(P,!1),m.lanes=4194304);P.isBackwards?(F.sibling=m.child,m.child=F):(d=P.last,d!==null?d.sibling=F:m.child=F,P.last=F)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=ci(),m.sibling=null,d=Nn.current,pt(Nn,T?d&1|2:d&1),m):(Kn(m),null);case 22:case 23:return mc(),T=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(Hi&1073741824)!==0&&(Kn(m),Oe&&m.subtreeFlags&6&&(m.flags|=8192)):Kn(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var dp=a.ReactCurrentOwner,Ai=!1;function Hn(d,m,M,T){m.child=d===null?Bg(m,null,M,T):fo(m,d.child,M,T)}function wn(d,m,M,T,P){M=M.render;var F=m.ref;return Cl(m,P),T=Ol(d,m,M,T,F,P),M=Zo(),d!==null&&!Ai?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~P,dr(d,m,P)):(Ln&&M&&Zd(m),m.flags|=1,Hn(d,m,T,P),m.child)}function yn(d,m,M,T,P){if(d===null){var F=M.type;return typeof F=="function"&&!Sh(F)&&F.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(m.tag=15,m.type=F,go(d,m,F,T,P)):(d=Mh(M.type,null,T,m,m.mode,P),d.ref=m.ref,d.return=m,m.child=d)}if(F=d.child,(d.lanes&P)===0){var $=F.memoizedProps;if(M=M.compare,M=M!==null?M:fs,M($,T)&&d.ref===m.ref)return dr(d,m,P)}return m.flags|=1,d=Eo(F,T),d.ref=m.ref,d.return=m,m.child=d}function go(d,m,M,T,P){if(d!==null&&fs(d.memoizedProps,T)&&d.ref===m.ref)if(Ai=!1,(d.lanes&P)!==0)(d.flags&131072)!==0&&(Ai=!0);else return m.lanes=d.lanes,dr(d,m,P);return vo(d,m,M,T,P)}function Li(d,m,M){var T=m.pendingProps,P=T.children,F=d!==null?d.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null},pt(Va,Hi),Hi|=M;else if((M&1073741824)!==0)m.memoizedState={baseLanes:0,cachePool:null},T=F!==null?F.baseLanes:M,pt(Va,Hi),Hi|=T;else return d=F!==null?F.baseLanes|M:M,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null},m.updateQueue=null,pt(Va,Hi),Hi|=d,null;else F!==null?(T=F.baseLanes|M,m.memoizedState=null):T=M,pt(Va,Hi),Hi|=T;return Hn(d,m,P,M),m.child}function $i(d,m){var M=m.ref;(d===null&&M!==null||d!==null&&d.ref!==M)&&(m.flags|=512,m.flags|=2097152)}function vo(d,m,M,T,P){var F=Yn(M)?Fs:Jt.current;return F=Ki(m,F),Cl(m,P),M=Ol(d,m,M,T,F,P),T=Zo(),d!==null&&!Ai?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~P,dr(d,m,P)):(Ln&&T&&Zd(m),m.flags|=1,Hn(d,m,M,P),m.child)}function Fa(d,m,M,T,P){if(Yn(M)){var F=!0;Pi(m)}else F=!1;if(Cl(m,P),m.stateNode===null)d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),Tg(m,M,T),qd(m,M,T,P),T=!0;else if(d===null){var $=m.stateNode,he=m.memoizedProps;$.props=he;var be=$.context,Ze=M.contextType;typeof Ze=="object"&&Ze!==null?Ze=fr(Ze):(Ze=Yn(M)?Fs:Jt.current,Ze=Ki(m,Ze));var dt=M.getDerivedStateFromProps,zt=typeof dt=="function"||typeof $.getSnapshotBeforeUpdate=="function";zt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(he!==T||be!==Ze)&&Cg(m,$,T,Ze),Xr=!1;var bt=m.memoizedState;$.state=bt,Xf(m,T,$,P),be=m.memoizedState,he!==T||bt!==be||Gn.current||Xr?(typeof dt=="function"&&(Kd(m,M,dt,T),be=m.memoizedState),(he=Xr||Qd(m,M,he,T,bt,be,Ze))?(zt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(m.flags|=4194308)):(typeof $.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=be),$.props=T,$.state=be,$.context=Ze,T=he):(typeof $.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{$=m.stateNode,Yd(d,m),he=m.memoizedProps,Ze=m.type===m.elementType?he:cr(m.type,he),$.props=Ze,zt=m.pendingProps,bt=$.context,be=M.contextType,typeof be=="object"&&be!==null?be=fr(be):(be=Yn(M)?Fs:Jt.current,be=Ki(m,be));var Xt=M.getDerivedStateFromProps;(dt=typeof Xt=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(he!==zt||bt!==be)&&Cg(m,$,T,be),Xr=!1,bt=m.memoizedState,$.state=bt,Xf(m,T,$,P);var ut=m.memoizedState;he!==zt||bt!==ut||Gn.current||Xr?(typeof Xt=="function"&&(Kd(m,M,Xt,T),ut=m.memoizedState),(Ze=Xr||Qd(m,M,Ze,T,bt,ut,be)||!1)?(dt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(T,ut,be),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(T,ut,be)),typeof $.componentDidUpdate=="function"&&(m.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof $.componentDidUpdate!="function"||he===d.memoizedProps&&bt===d.memoizedState||(m.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||he===d.memoizedProps&&bt===d.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=ut),$.props=T,$.state=ut,$.context=be,T=Ze):(typeof $.componentDidUpdate!="function"||he===d.memoizedProps&&bt===d.memoizedState||(m.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||he===d.memoizedProps&&bt===d.memoizedState||(m.flags|=1024),T=!1)}return Gi(d,m,M,T,F,P)}function Gi(d,m,M,T,P,F){$i(d,m);var $=(m.flags&128)!==0;if(!T&&!$)return P&&Xo(m,M,!1),dr(d,m,F);T=m.stateNode,dp.current=m;var he=$&&typeof M.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,d!==null&&$?(m.child=fo(m,d.child,null,F),m.child=fo(m,null,he,F)):Hn(d,m,he,F),m.memoizedState=T.state,P&&Xo(m,M,!0),m.child}function nc(d){var m=d.stateNode;m.pendingContext?Er(d,m.pendingContext,m.pendingContext!==m.context):m.context&&Er(d,m.context,!1),Zf(d,m.containerInfo)}function pp(d,m,M,T,P){return Bl(),qf(P),m.flags|=256,Hn(d,m,M,T),m.child}var ic={dehydrated:null,treeContext:null,retryLane:0};function Oa(d){return{baseLanes:d,cachePool:null}}function mp(d,m,M){var T=m.pendingProps,P=Nn.current,F=!1,$=(m.flags&128)!==0,he;if((he=$)||(he=d!==null&&d.memoizedState===null?!1:(P&2)!==0),he?(F=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),pt(Nn,P&1),d===null)return Qo(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:io(d)?m.lanes=8:m.lanes=1073741824,null):(P=T.children,d=T.fallback,F?(T=m.mode,F=m.child,P={mode:"hidden",children:P},(T&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=P):F=yc(P,T,0,null),d=Ya(d,T,M,null),F.return=m,d.return=m,F.sibling=d,m.child=F,m.child.memoizedState=Oa(M),m.memoizedState=ic,d):ms(m,P));if(P=d.memoizedState,P!==null){if(he=P.dehydrated,he!==null){if($)return m.flags&256?(m.flags&=-257,sc(d,m,M,Error(o(422)))):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(F=T.fallback,P=m.mode,T=yc({mode:"visible",children:T.children},P,0,null),F=Ya(F,P,M,null),F.flags|=2,T.return=m,F.return=m,T.sibling=F,m.child=T,(m.mode&1)!==0&&fo(m,d.child,null,M),m.child.memoizedState=Oa(M),m.memoizedState=ic,F);if((m.mode&1)===0)m=sc(d,m,M,null);else if(io(he))m=sc(d,m,M,Error(o(419)));else if(T=(M&d.childLanes)!==0,Ai||T){if(T=Qn,T!==null){switch(M&-M){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}T=(F&(T.suspendedLanes|M))!==0?0:F,T!==0&&T!==P.retryLane&&(P.retryLane=T,Vi(d,T,-1))}xh(),m=sc(d,m,M,Error(o(421)))}else Uu(he)?(m.flags|=128,m.child=d.child,m=Gg.bind(null,d),ro(he,m),m=null):(M=P.treeContext,Ie&&(Bi=Df(he),Zi=m,Ln=!0,Yr=null,Pl=!1,M!==null&&(Jr[Tr++]=uo,Jr[Tr++]=co,Jr[Tr++]=Ea,uo=M.id,co=M.overflow,Ea=m)),m=ms(m,m.pendingProps.children),m.flags|=4096);return m}return F?(T=ph(d,m,T.children,T.fallback,M),F=m.child,P=d.child.memoizedState,F.memoizedState=P===null?Oa(M):{baseLanes:P.baseLanes|M,cachePool:null},F.childLanes=d.childLanes&~M,m.memoizedState=ic,T):(M=rc(d,m,T.children,M),m.memoizedState=null,M)}return F?(T=ph(d,m,T.children,T.fallback,M),F=m.child,P=d.child.memoizedState,F.memoizedState=P===null?Oa(M):{baseLanes:P.baseLanes|M,cachePool:null},F.childLanes=d.childLanes&~M,m.memoizedState=ic,T):(M=rc(d,m,T.children,M),m.memoizedState=null,M)}function ms(d,m){return m=yc({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function rc(d,m,M,T){var P=d.child;return d=P.sibling,M=Eo(P,{mode:"visible",children:M}),(m.mode&1)===0&&(M.lanes=T),M.return=m,M.sibling=null,d!==null&&(T=m.deletions,T===null?(m.deletions=[d],m.flags|=16):T.push(d)),m.child=M}function ph(d,m,M,T,P){var F=m.mode;d=d.child;var $=d.sibling,he={mode:"hidden",children:M};return(F&1)===0&&m.child!==d?(M=m.child,M.childLanes=0,M.pendingProps=he,m.deletions=null):(M=Eo(d,he),M.subtreeFlags=d.subtreeFlags&14680064),$!==null?T=Eo($,T):(T=Ya(T,F,P,null),T.flags|=2),T.return=m,M.return=m,M.sibling=T,m.child=M,T}function sc(d,m,M,T){return T!==null&&qf(T),fo(m,d.child,null,M),d=ms(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Ng(d,m,M){d.lanes|=m;var T=d.alternate;T!==null&&(T.lanes|=m),wa(d.return,m,M)}function zs(d,m,M,T,P){var F=d.memoizedState;F===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:M,tailMode:P}:(F.isBackwards=m,F.rendering=null,F.renderingStartTime=0,F.last=T,F.tail=M,F.tailMode=P)}function Na(d,m,M){var T=m.pendingProps,P=T.revealOrder,F=T.tail;if(Hn(d,m,T.children,M),T=Nn.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Ng(d,M,m);else if(d.tag===19)Ng(d,M,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(pt(Nn,T),(m.mode&1)===0)m.memoizedState=null;else switch(P){case"forwards":for(M=m.child,P=null;M!==null;)d=M.alternate,d!==null&&$f(d)===null&&(P=M),M=M.sibling;M=P,M===null?(P=m.child,m.child=null):(P=M.sibling,M.sibling=null),zs(m,!1,P,M,F);break;case"backwards":for(M=null,P=m.child,m.child=null;P!==null;){if(d=P.alternate,d!==null&&$f(d)===null){m.child=P;break}d=P.sibling,P.sibling=M,M=P,P=d}zs(m,!0,M,null,F);break;case"together":zs(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function dr(d,m,M){if(d!==null&&(m.dependencies=d.dependencies),Gs|=m.lanes,(M&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(o(153));if(m.child!==null){for(d=m.child,M=Eo(d,d.pendingProps),m.child=M,M.return=m;d.sibling!==null;)d=d.sibling,M=M.sibling=Eo(d,d.pendingProps),M.return=m;M.sibling=null}return m.child}function mh(d,m,M){switch(m.tag){case 3:nc(m),Bl();break;case 5:Lg(m);break;case 1:Yn(m.type)&&Pi(m);break;case 4:Zf(m,m.stateNode.containerInfo);break;case 10:Ma(m,m.type._context,m.memoizedProps.value);break;case 13:var T=m.memoizedState;if(T!==null)return T.dehydrated!==null?(pt(Nn,Nn.current&1),m.flags|=128,null):(M&m.child.childLanes)!==0?mp(d,m,M):(pt(Nn,Nn.current&1),d=dr(d,m,M),d!==null?d.sibling:null);pt(Nn,Nn.current&1);break;case 19:if(T=(M&m.childLanes)!==0,(d.flags&128)!==0){if(T)return Na(d,m,M);m.flags|=128}var P=m.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),pt(Nn,Nn.current),T)break;return null;case 22:case 23:return m.lanes=0,Li(d,m,M)}return dr(d,m,M)}function gh(d,m){switch($d(m),m.tag){case 1:return Yn(m.type)&&Cn(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Fl(),wt(Gn),wt(Jt),Ra(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return np(m),null;case 13:if(wt(Nn),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Bl()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return wt(Nn),null;case 4:return Fl(),null;case 10:return ju(m.type._context),null;case 22:case 23:return mc(),null;case 24:return null;default:return null}}var er=!1,Si=!1,Ua=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Kr(d,m){var M=d.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(T){nr(d,m,T)}else M.current=null}function yo(d,m,M){try{M()}catch(T){nr(d,m,T)}}var gp=!1;function vp(d,m){for(Y(d.containerInfo),tt=m;tt!==null;)if(d=tt,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,tt=m;else for(;tt!==null;){d=tt;try{var M=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var T=M.memoizedProps,P=M.memoizedState,F=d.stateNode,$=F.getSnapshotBeforeUpdate(d.elementType===d.type?T:cr(d.type,T),P);F.__reactInternalSnapshotBeforeUpdate=$}break;case 3:Oe&&et(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){nr(d,d.return,he)}if(m=d.sibling,m!==null){m.return=d.return,tt=m;break}tt=d.return}return M=gp,gp=!1,M}function _o(d,m,M){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var P=T=T.next;do{if((P.tag&d)===d){var F=P.destroy;P.destroy=void 0,F!==void 0&&yo(m,M,F)}P=P.next}while(P!==T)}}function Di(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var M=m=m.next;do{if((M.tag&d)===d){var T=M.create;M.destroy=T()}M=M.next}while(M!==m)}}function tr(d){var m=d.ref;if(m!==null){var M=d.stateNode;switch(d.tag){case 5:d=se(M);break;default:d=M}typeof m=="function"?m(d):m.current=d}}function bn(d,m,M){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(Gu,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(d=m.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var T=d=d.next;do{var P=T,F=P.destroy;P=P.tag,F!==void 0&&((P&2)!==0||(P&4)!==0)&&yo(m,M,F),T=T.next}while(T!==d)}break;case 1:if(Kr(m,M),d=m.stateNode,typeof d.componentWillUnmount=="function")try{d.props=m.memoizedProps,d.state=m.memoizedState,d.componentWillUnmount()}catch($){nr(m,M,$)}break;case 5:Kr(m,M);break;case 4:Oe?xp(d,m,M):ne&&ne&&(m=m.stateNode.containerInfo,M=Be(m),Ht(m,M))}}function Qr(d,m,M){for(var T=m;;)if(bn(d,T,M),T.child===null||Oe&&T.tag===4){if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function yp(d){var m=d.alternate;m!==null&&(d.alternate=null,yp(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&lt(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function _p(d){return d.tag===5||d.tag===3||d.tag===4}function vh(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||_p(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function yh(d){if(Oe){e:{for(var m=d.return;m!==null;){if(_p(m))break e;m=m.return}throw Error(o(160))}var M=m;switch(M.tag){case 5:m=M.stateNode,M.flags&32&&(Pe(m),M.flags&=-33),M=vh(d),Hl(d,M,m);break;case 3:case 4:m=M.stateNode.containerInfo,M=vh(d),_h(d,M,m);break;default:throw Error(o(161))}}}function _h(d,m,M){var T=d.tag;if(T===5||T===6)d=d.stateNode,m?Qe(M,d,m):mt(M,d);else if(T!==4&&(d=d.child,d!==null))for(_h(d,m,M),d=d.sibling;d!==null;)_h(d,m,M),d=d.sibling}function Hl(d,m,M){var T=d.tag;if(T===5||T===6)d=d.stateNode,m?qt(M,d,m):je(M,d);else if(T!==4&&(d=d.child,d!==null))for(Hl(d,m,M),d=d.sibling;d!==null;)Hl(d,m,M),d=d.sibling}function xp(d,m,M){for(var T=m,P=!1,F,$;;){if(!P){P=T.return;e:for(;;){if(P===null)throw Error(o(160));switch(F=P.stateNode,P.tag){case 5:$=!1;break e;case 3:F=F.containerInfo,$=!0;break e;case 4:F=F.containerInfo,$=!0;break e}P=P.return}P=!0}if(T.tag===5||T.tag===6)Qr(d,T,M),$?ae(F,T.stateNode):rn(F,T.stateNode);else if(T.tag===18)$?Se(F,T.stateNode):Ee(F,T.stateNode);else if(T.tag===4){if(T.child!==null){F=T.stateNode.containerInfo,$=!0,T.child.return=T,T=T.child;continue}}else if(bn(d,T,M),T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return,T.tag===4&&(P=!1)}T.sibling.return=T.return,T=T.sibling}}function ta(d,m){if(Oe){switch(m.tag){case 0:case 11:case 14:case 15:_o(3,m,m.return),Di(3,m),_o(5,m,m.return);return;case 1:return;case 5:var M=m.stateNode;if(M!=null){var T=m.memoizedProps;d=d!==null?d.memoizedProps:T;var P=m.type,F=m.updateQueue;m.updateQueue=null,F!==null&&Ct(M,F,P,d,T,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));M=m.memoizedProps,Je(m.stateNode,d!==null?d.memoizedProps:M,M);return;case 3:Ie&&d!==null&&d.memoizedState.isDehydrated&&ge(m.stateNode.containerInfo);return;case 12:return;case 13:Vl(m);return;case 19:Vl(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:_o(3,m,m.return),Di(3,m),_o(5,m,m.return);return;case 12:return;case 13:Vl(m);return;case 19:Vl(m);return;case 3:Ie&&d!==null&&d.memoizedState.isDehydrated&&ge(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Ht(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function Vl(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var M=d.stateNode;M===null&&(M=d.stateNode=new Ua),m.forEach(function(T){var P=Hg.bind(null,d,T);M.has(T)||(M.add(T),T.then(P,P))})}}function e_(d,m){for(tt=m;tt!==null;){m=tt;var M=m.deletions;if(M!==null)for(var T=0;T<M.length;T++){var P=M[T];try{var F=d;Oe?xp(F,P,m):Qr(F,P,m);var $=P.alternate;$!==null&&($.return=null),P.return=null}catch(Mt){nr(P,m,Mt)}}if(M=m.child,(m.subtreeFlags&12854)!==0&&M!==null)M.return=m,tt=M;else for(;tt!==null;){m=tt;try{var he=m.flags;if(he&32&&Oe&&Pe(m.stateNode),he&512){var be=m.alternate;if(be!==null){var Ze=be.ref;Ze!==null&&(typeof Ze=="function"?Ze(null):Ze.current=null)}}if(he&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var dt=m.alternate;(dt===null||dt.memoizedState===null)&&(hc=ci())}break;case 22:var zt=m.memoizedState!==null,bt=m.alternate,Xt=bt!==null&&bt.memoizedState!==null;if(M=m,Oe){e:if(T=M,P=zt,F=null,Oe)for(var ut=T;;){if(ut.tag===5){if(F===null){F=ut;var Oi=ut.stateNode;P?ke(Oi):St(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(F===null){var Ir=ut.stateNode;P?He(Ir):ce(Ir,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===T)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===T)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===T)break e;F===ut&&(F=null),ut=ut.return}F===ut&&(F=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(zt&&!Xt&&(M.mode&1)!==0){tt=M;for(var xe=M.child;xe!==null;){for(M=tt=xe;tt!==null;){T=tt;var de=T.child;switch(T.tag){case 0:case 11:case 14:case 15:_o(4,T,T.return);break;case 1:Kr(T,T.return);var we=T.stateNode;if(typeof we.componentWillUnmount=="function"){var at=T.return;try{we.props=T.memoizedProps,we.state=T.memoizedState,we.componentWillUnmount()}catch(Mt){nr(T,at,Mt)}}break;case 5:Kr(T,T.return);break;case 22:if(T.memoizedState!==null){Sp(M);continue}}de!==null?(de.return=T,tt=de):Sp(M)}xe=xe.sibling}}}switch(he&4102){case 2:yh(m),m.flags&=-3;break;case 6:yh(m),m.flags&=-3,ta(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,ta(m.alternate,m);break;case 4:ta(m.alternate,m)}}catch(Mt){nr(m,m.return,Mt)}if(M=m.sibling,M!==null){M.return=m.return,tt=M;break}tt=m.return}}}function oc(d,m,M){tt=d,ac(d)}function ac(d,m,M){for(var T=(d.mode&1)!==0;tt!==null;){var P=tt,F=P.child;if(P.tag===22&&T){var $=P.memoizedState!==null||er;if(!$){var he=P.alternate,be=he!==null&&he.memoizedState!==null||Si;he=er;var Ze=Si;if(er=$,(Si=be)&&!Ze)for(tt=P;tt!==null;)$=tt,be=$.child,$.tag===22&&$.memoizedState!==null?ka(P):be!==null?(be.return=$,tt=be):ka(P);for(;F!==null;)tt=F,ac(F),F=F.sibling;tt=P,er=he,Si=Ze}Ap(d)}else(P.subtreeFlags&8772)!==0&&F!==null?(F.return=P,tt=F):Ap(d)}}function Ap(d){for(;tt!==null;){var m=tt;if((m.flags&8772)!==0){var M=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Si||Di(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!Si)if(M===null)T.componentDidMount();else{var P=m.elementType===m.type?M.memoizedProps:cr(m.type,M.memoizedProps);T.componentDidUpdate(P,M.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var F=m.updateQueue;F!==null&&wg(m,F,T);break;case 3:var $=m.updateQueue;if($!==null){if(M=null,m.child!==null)switch(m.child.tag){case 5:M=se(m.child.stateNode);break;case 1:M=m.child.stateNode}wg(m,$,M)}break;case 5:var he=m.stateNode;M===null&&m.flags&4&&nt(he,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(Ie&&m.memoizedState===null){var be=m.alternate;if(be!==null){var Ze=be.memoizedState;if(Ze!==null){var dt=Ze.dehydrated;dt!==null&&Me(dt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Si||m.flags&512&&tr(m)}catch(zt){nr(m,m.return,zt)}}if(m===d){tt=null;break}if(M=m.sibling,M!==null){M.return=m.return,tt=M;break}tt=m.return}}function Sp(d){for(;tt!==null;){var m=tt;if(m===d){tt=null;break}var M=m.sibling;if(M!==null){M.return=m.return,tt=M;break}tt=m.return}}function ka(d){for(;tt!==null;){var m=tt;try{switch(m.tag){case 0:case 11:case 15:var M=m.return;try{Di(4,m)}catch(be){nr(m,M,be)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var P=m.return;try{T.componentDidMount()}catch(be){nr(m,P,be)}}var F=m.return;try{tr(m)}catch(be){nr(m,F,be)}break;case 5:var $=m.return;try{tr(m)}catch(be){nr(m,$,be)}}}catch(be){nr(m,m.return,be)}if(m===d){tt=null;break}var he=m.sibling;if(he!==null){he.return=m.return,tt=he;break}tt=m.return}}var lc=0,za=1,Ga=2,xo=3,Wl=4;if(typeof Symbol=="function"&&Symbol.for){var Ha=Symbol.for;lc=Ha("selector.component"),za=Ha("selector.has_pseudo_class"),Ga=Ha("selector.role"),xo=Ha("selector.test_id"),Wl=Ha("selector.text")}function uc(d){var m=Ce(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(d=It(d),d===null)throw Error(o(362));return d.stateNode.current}function cc(d,m){switch(m.$$typeof){case lc:if(d.type===m.value)return!0;break;case za:e:{m=m.value,d=[d,0];for(var M=0;M<d.length;){var T=d[M++],P=d[M++],F=m[P];if(T.tag!==5||!G(T)){for(;F!=null&&cc(T,F);)P++,F=m[P];if(P===m.length){m=!0;break e}else for(T=T.child;T!==null;)d.push(T,P),T=T.sibling}}m=!1}return m;case Ga:if(d.tag===5&&ye(d.stateNode,m.value))return!0;break;case Wl:if((d.tag===5||d.tag===6)&&(d=Z(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case xo:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function na(d){switch(d.$$typeof){case lc:return"<"+(O(d.value)||"Unknown")+">";case za:return":has("+(na(d)||"")+")";case Ga:return'[role="'+d.value+'"]';case Wl:return'"'+d.value+'"';case xo:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function Pr(d,m){var M=[];d=[d,0];for(var T=0;T<d.length;){var P=d[T++],F=d[T++],$=m[F];if(P.tag!==5||!G(P)){for(;$!=null&&cc(P,$);)F++,$=m[F];if(F===m.length)M.push(P);else for(P=P.child;P!==null;)d.push(P,F),P=P.sibling}}return M}function Ao(d,m){if(!_t)throw Error(o(363));d=uc(d),d=Pr(d,m),m=[],d=Array.from(d);for(var M=0;M<d.length;){var T=d[M++];if(T.tag===5)G(T)||m.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return m}var Mp=Math.ceil,fc=a.ReactCurrentDispatcher,gs=a.ReactCurrentOwner,gn=a.ReactCurrentBatchConfig,jt=0,Qn=null,vn=null,Dn=0,Hi=0,Va=Jn(0),Vn=0,jl=null,Gs=0,Br=0,Wa=0,So=null,ni=null,hc=0,ia=1/0;function ja(){ia=ci()+500}var Xl=!1,Rn=null,vs=null,Jl=!1,Hs=null,Xa=0,Ja=0,Mo=null,En=-1,Wn=0;function fn(){return(jt&6)!==0?ci():En!==-1?En:En=ci()}function ys(d){return(d.mode&1)===0?1:(jt&2)!==0&&Dn!==0?Dn&-Dn:Mg.transition!==null?(Wn===0&&(d=wl,wl<<=1,(wl&4194240)===0&&(wl=64),Wn=d),Wn):(d=Yt,d!==0?d:Fe())}function Vi(d,m,M){if(50<Ja)throw Ja=0,Mo=null,Error(o(185));var T=ra(d,m);return T===null?null:(_a(T,m,M),((jt&2)===0||T!==Qn)&&(T===Qn&&((jt&2)===0&&(Br|=m),Vn===4&&Fi(T,Dn)),pr(T,M),m===1&&jt===0&&(d.mode&1)===0&&(ja(),zf&&Wr())),T)}function ra(d,m){d.lanes|=m;var M=d.alternate;for(M!==null&&(M.lanes|=m),M=d,d=d.return;d!==null;)d.childLanes|=m,M=d.alternate,M!==null&&(M.childLanes|=m),M=d,d=d.return;return M.tag===3?M.stateNode:null}function pr(d,m){var M=d.callbackNode;Sg(d,m);var T=zu(d,d===Qn?Dn:0);if(T===0)M!==null&&Tl(M),d.callbackNode=null,d.callbackPriority=0;else if(m=T&-T,d.callbackPriority!==m){if(M!=null&&Tl(M),m===1)d.tag===0?Hf(Lr.bind(null,d)):Gf(Lr.bind(null,d)),it?rt(function(){jt===0&&Wr()}):xa(Aa,Wr),M=null;else{switch(oo(T)){case 1:M=Aa;break;case 4:M=qy;break;case 16:M=Uf;break;case 536870912:M=kf;break;default:M=Uf}M=Ah(M,Ii.bind(null,d))}d.callbackPriority=m,d.callbackNode=M}}function Ii(d,m){if(En=-1,Wn=0,(jt&6)!==0)throw Error(o(327));var M=d.callbackNode;if(Vs()&&d.callbackNode!==M)return null;var T=zu(d,d===Qn?Dn:0);if(T===0)return null;if((T&30)!==0||(T&d.expiredLanes)!==0||m)m=gc(d,T);else{m=T;var P=jt;jt|=2;var F=Tp();(Qn!==d||Dn!==m)&&(ja(),wo(d,m));do try{kg();break}catch(he){Ep(d,he)}while(!0);qi(),fc.current=F,jt=P,vn!==null?m=0:(Qn=null,Dn=0,m=Vn)}if(m!==0){if(m===2&&(P=Ff(d),P!==0&&(T=P,m=dc(d,P))),m===1)throw M=jl,wo(d,0),Fi(d,T),pr(d,ci()),M;if(m===6)Fi(d,T);else{if(P=d.current.alternate,(T&30)===0&&!wp(P)&&(m=gc(d,T),m===2&&(F=Ff(d),F!==0&&(T=F,m=dc(d,F))),m===1))throw M=jl,wo(d,0),Fi(d,T),pr(d,ci()),M;switch(d.finishedWork=P,d.finishedLanes=T,m){case 0:case 1:throw Error(o(345));case 2:_s(d,ni);break;case 3:if(Fi(d,T),(T&130023424)===T&&(m=hc+500-ci(),10<m)){if(zu(d,0)!==0)break;if(P=d.suspendedLanes,(P&T)!==T){fn(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=Re(_s.bind(null,d,ni),m);break}_s(d,ni);break;case 4:if(Fi(d,T),(T&4194240)===T)break;for(m=d.eventTimes,P=-1;0<T;){var $=31-ur(T);F=1<<$,$=m[$],$>P&&(P=$),T&=~F}if(T=P,T=ci()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Mp(T/1960))-T,10<T){d.timeoutHandle=Re(_s.bind(null,d,ni),T);break}_s(d,ni);break;case 5:_s(d,ni);break;default:throw Error(o(329))}}}return pr(d,ci()),d.callbackNode===M?Ii.bind(null,d):null}function dc(d,m){var M=So;return d.current.memoizedState.isDehydrated&&(wo(d,m).flags|=256),d=gc(d,m),d!==2&&(m=ni,ni=M,m!==null&&pc(m)),d}function pc(d){ni===null?ni=d:ni.push.apply(ni,d)}function wp(d){for(var m=d;;){if(m.flags&16384){var M=m.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var T=0;T<M.length;T++){var P=M[T],F=P.getSnapshot;P=P.value;try{if(!Qi(F(),P))return!1}catch{return!1}}}if(M=m.child,m.subtreeFlags&16384&&M!==null)M.return=m,m=M;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Fi(d,m){for(m&=~Wa,m&=~Br,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var M=31-ur(m),T=1<<M;d[M]=-1,m&=~T}}function Lr(d){if((jt&6)!==0)throw Error(o(327));Vs();var m=zu(d,0);if((m&1)===0)return pr(d,ci()),null;var M=gc(d,m);if(d.tag!==0&&M===2){var T=Ff(d);T!==0&&(m=T,M=dc(d,T))}if(M===1)throw M=jl,wo(d,0),Fi(d,m),pr(d,ci()),M;if(M===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,_s(d,ni),pr(d,ci()),null}function Yl(d){Hs!==null&&Hs.tag===0&&(jt&6)===0&&Vs();var m=jt;jt|=1;var M=gn.transition,T=Yt;try{if(gn.transition=null,Yt=1,d)return d()}finally{Yt=T,gn.transition=M,jt=m,(jt&6)===0&&Wr()}}function mc(){Hi=Va.current,wt(Va)}function wo(d,m){d.finishedWork=null,d.finishedLanes=0;var M=d.timeoutHandle;if(M!==We&&(d.timeoutHandle=We,Ue(M)),vn!==null)for(M=vn.return;M!==null;){var T=M;switch($d(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Cn();break;case 3:Fl(),wt(Gn),wt(Jt),Ra();break;case 5:np(T);break;case 4:Fl();break;case 13:wt(Nn);break;case 19:wt(Nn);break;case 10:ju(T.type._context);break;case 22:case 23:mc()}M=M.return}if(Qn=d,vn=d=Eo(d.current,null),Dn=Hi=m,Vn=0,jl=null,Wa=Br=Gs=0,ni=So=null,jr!==null){for(m=0;m<jr.length;m++)if(M=jr[m],T=M.interleaved,T!==null){M.interleaved=null;var P=T.next,F=M.pending;if(F!==null){var $=F.next;F.next=P,T.next=$}M.pending=T}jr=null}return d}function Ep(d,m){do{var M=vn;try{if(qi(),Ju.current=zl,eh){for(var T=Un.memoizedState;T!==null;){var P=T.queue;P!==null&&(P.pending=null),T=T.next}eh=!1}if(Pa=0,_i=yi=Un=null,Us=!1,Ba=0,gs.current=null,M===null||M.return===null){Vn=1,jl=m,vn=null;break}e:{var F=d,$=M.return,he=M,be=m;if(m=Dn,he.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ze=be,dt=he,zt=dt.tag;if((dt.mode&1)===0&&(zt===0||zt===11||zt===15)){var bt=dt.alternate;bt?(dt.updateQueue=bt.updateQueue,dt.memoizedState=bt.memoizedState,dt.lanes=bt.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var Xt=hp($);if(Xt!==null){Xt.flags&=-257,Da(Xt,$,he,F,m),Xt.mode&1&&po(F,Ze,m),m=Xt,be=Ze;var ut=m.updateQueue;if(ut===null){var Oi=new Set;Oi.add(be),m.updateQueue=Oi}else ut.add(be);break e}else{if((m&1)===0){po(F,Ze,m),xh();break e}be=Error(o(426))}}else if(Ln&&he.mode&1){var Ir=hp($);if(Ir!==null){(Ir.flags&65536)===0&&(Ir.flags|=256),Da(Ir,$,he,F,m),qf(be);break e}}F=be,Vn!==4&&(Vn=2),So===null?So=[F]:So.push(F),be=fp(be,he),he=$;do{switch(he.tag){case 3:he.flags|=65536,m&=-m,he.lanes|=m;var xe=Og(he,be,m);jf(he,xe);break e;case 1:F=be;var de=he.type,we=he.stateNode;if((he.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(vs===null||!vs.has(we)))){he.flags|=65536,m&=-m,he.lanes|=m;var at=ch(he,F,m);jf(he,at);break e}}he=he.return}while(he!==null)}bp(M)}catch(Mt){m=Mt,vn===M&&M!==null&&(vn=M=M.return);continue}break}while(!0)}function Tp(){var d=fc.current;return fc.current=zl,d===null?zl:d}function xh(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Qn===null||(Gs&268435455)===0&&(Br&268435455)===0||Fi(Qn,Dn)}function gc(d,m){var M=jt;jt|=2;var T=Tp();Qn===d&&Dn===m||wo(d,m);do try{Ug();break}catch(P){Ep(d,P)}while(!0);if(qi(),jt=M,fc.current=T,vn!==null)throw Error(o(261));return Qn=null,Dn=0,Vn}function Ug(){for(;vn!==null;)Cp(vn)}function kg(){for(;vn!==null&&!Jo();)Cp(vn)}function Cp(d){var m=Bp(d.alternate,d,Hi);d.memoizedProps=d.pendingProps,m===null?bp(d):vn=m,gs.current=null}function bp(d){var m=d;do{var M=m.alternate;if(d=m.return,(m.flags&32768)===0){if(M=dh(M,m,Hi),M!==null){vn=M;return}}else{if(M=gh(M,m),M!==null){M.flags&=32767,vn=M;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Vn=6,vn=null;return}}if(m=m.sibling,m!==null){vn=m;return}vn=m=d}while(m!==null);Vn===0&&(Vn=5)}function _s(d,m){var M=Yt,T=gn.transition;try{gn.transition=null,Yt=1,zg(d,m,M)}finally{gn.transition=T,Yt=M}return null}function zg(d,m,M){do Vs();while(Hs!==null);if((jt&6)!==0)throw Error(o(327));var T=d.finishedWork,P=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var F=T.lanes|T.childLanes;if(Nf(d,F),d===Qn&&(vn=Qn=null,Dn=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Jl||(Jl=!0,Ah(Uf,function(){return Vs(),null})),F=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||F){F=gn.transition,gn.transition=null;var $=Yt;Yt=1;var he=jt;jt|=4,gs.current=null,vp(d,T),e_(d,T),V(d.containerInfo),d.current=T,oc(T),Qy(),jt=he,Yt=$,gn.transition=F}else d.current=T;if(Jl&&(Jl=!1,Hs=d,Xa=P),F=d.pendingLanes,F===0&&(vs=null),Hu(T.stateNode),pr(d,ci()),m!==null)for(M=d.onRecoverableError,T=0;T<m.length;T++)M(m[T]);if(Xl)throw Xl=!1,d=Rn,Rn=null,d;return(Xa&1)!==0&&d.tag!==0&&Vs(),F=d.pendingLanes,(F&1)!==0?d===Mo?Ja++:(Ja=0,Mo=d):Ja=0,Wr(),null}function Vs(){if(Hs!==null){var d=oo(Xa),m=gn.transition,M=Yt;try{if(gn.transition=null,Yt=16>d?16:d,Hs===null)var T=!1;else{if(d=Hs,Hs=null,Xa=0,(jt&6)!==0)throw Error(o(331));var P=jt;for(jt|=4,tt=d.current;tt!==null;){var F=tt,$=F.child;if((tt.flags&16)!==0){var he=F.deletions;if(he!==null){for(var be=0;be<he.length;be++){var Ze=he[be];for(tt=Ze;tt!==null;){var dt=tt;switch(dt.tag){case 0:case 11:case 15:_o(8,dt,F)}var zt=dt.child;if(zt!==null)zt.return=dt,tt=zt;else for(;tt!==null;){dt=tt;var bt=dt.sibling,Xt=dt.return;if(yp(dt),dt===Ze){tt=null;break}if(bt!==null){bt.return=Xt,tt=bt;break}tt=Xt}}}var ut=F.alternate;if(ut!==null){var Oi=ut.child;if(Oi!==null){ut.child=null;do{var Ir=Oi.sibling;Oi.sibling=null,Oi=Ir}while(Oi!==null)}}tt=F}}if((F.subtreeFlags&2064)!==0&&$!==null)$.return=F,tt=$;else e:for(;tt!==null;){if(F=tt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:_o(9,F,F.return)}var xe=F.sibling;if(xe!==null){xe.return=F.return,tt=xe;break e}tt=F.return}}var de=d.current;for(tt=de;tt!==null;){$=tt;var we=$.child;if(($.subtreeFlags&2064)!==0&&we!==null)we.return=$,tt=we;else e:for($=de;tt!==null;){if(he=tt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:Di(9,he)}}catch(Mt){nr(he,he.return,Mt)}if(he===$){tt=null;break e}var at=he.sibling;if(at!==null){at.return=he.return,tt=at;break e}tt=he.return}}if(jt=P,Wr(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(Gu,d)}catch{}T=!0}return T}finally{Yt=M,gn.transition=m}}return!1}function vc(d,m,M){m=fp(M,m),m=Og(d,m,1),Yo(d,m),m=fn(),d=ra(d,1),d!==null&&(_a(d,1,m),pr(d,m))}function nr(d,m,M){if(d.tag===3)vc(d,d,M);else for(;m!==null;){if(m.tag===3){vc(m,d,M);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(vs===null||!vs.has(T))){d=fp(M,d),d=ch(m,d,1),Yo(m,d),d=fn(),m=ra(m,1),m!==null&&(_a(m,1,d),pr(m,d));break}}m=m.return}}function Rp(d,m,M){var T=d.pingCache;T!==null&&T.delete(m),m=fn(),d.pingedLanes|=d.suspendedLanes&M,Qn===d&&(Dn&M)===M&&(Vn===4||Vn===3&&(Dn&130023424)===Dn&&500>ci()-hc?wo(d,0):Wa|=M),pr(d,m)}function Pp(d,m){m===0&&((d.mode&1)===0?m=1:(m=cn,cn<<=1,(cn&130023424)===0&&(cn=4194304)));var M=fn();d=ra(d,m),d!==null&&(_a(d,m,M),pr(d,M))}function Gg(d){var m=d.memoizedState,M=0;m!==null&&(M=m.retryLane),Pp(d,M)}function Hg(d,m){var M=0;switch(d.tag){case 13:var T=d.stateNode,P=d.memoizedState;P!==null&&(M=P.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(m),Pp(d,M)}var Bp;Bp=function(d,m,M){if(d!==null)if(d.memoizedProps!==m.pendingProps||Gn.current)Ai=!0;else{if((d.lanes&M)===0&&(m.flags&128)===0)return Ai=!1,mh(d,m,M);Ai=(d.flags&131072)!==0}else Ai=!1,Ln&&(m.flags&1048576)!==0&&bg(m,Kf,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),d=m.pendingProps;var P=Ki(m,Jt.current);Cl(m,M),P=Ol(null,m,T,d,P,M);var F=Zo();return m.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Yn(T)?(F=!0,Pi(m)):F=!1,m.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,bl(m),P.updater=Jf,m.stateNode=P,P._reactInternals=m,qd(m,T,d,M),m=Gi(null,m,T,!0,F,M)):(m.tag=0,Ln&&F&&Zd(m),Hn(null,m,P,M),m=m.child),m;case 16:T=m.elementType;e:{switch(d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),d=m.pendingProps,P=T._init,T=P(T._payload),m.type=T,P=m.tag=t_(T),d=cr(T,d),P){case 0:m=vo(null,m,T,d,M);break e;case 1:m=Fa(null,m,T,d,M);break e;case 11:m=wn(null,m,T,d,M);break e;case 14:m=yn(null,m,T,cr(T.type,d),M);break e}throw Error(o(306,T,""))}return m;case 0:return T=m.type,P=m.pendingProps,P=m.elementType===T?P:cr(T,P),vo(d,m,T,P,M);case 1:return T=m.type,P=m.pendingProps,P=m.elementType===T?P:cr(T,P),Fa(d,m,T,P,M);case 3:e:{if(nc(m),d===null)throw Error(o(387));T=m.pendingProps,F=m.memoizedState,P=F.element,Yd(d,m),Xf(m,T,null,M);var $=m.memoizedState;if(T=$.element,Ie&&F.isDehydrated)if(F={element:T,isDehydrated:!1,cache:$.cache,transitions:$.transitions},m.updateQueue.baseState=F,m.memoizedState=F,m.flags&256){P=Error(o(423)),m=pp(d,m,T,M,P);break e}else if(T!==P){P=Error(o(424)),m=pp(d,m,T,M,P);break e}else for(Ie&&(Bi=Lf(m.stateNode.containerInfo),Zi=m,Ln=!0,Yr=null,Pl=!1),M=Bg(m,null,T,M),m.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Bl(),T===P){m=dr(d,m,M);break e}Hn(d,m,T,M)}m=m.child}return m;case 5:return Lg(m),d===null&&Qo(m),T=m.type,P=m.pendingProps,F=d!==null?d.memoizedProps:null,$=P.children,Te(T,P)?$=null:F!==null&&Te(T,F)&&(m.flags|=32),$i(d,m),Hn(d,m,$,M),m.child;case 6:return d===null&&Qo(m),null;case 13:return mp(d,m,M);case 4:return Zf(m,m.stateNode.containerInfo),T=m.pendingProps,d===null?m.child=fo(m,null,T,M):Hn(d,m,T,M),m.child;case 11:return T=m.type,P=m.pendingProps,P=m.elementType===T?P:cr(T,P),wn(d,m,T,P,M);case 7:return Hn(d,m,m.pendingProps,M),m.child;case 8:return Hn(d,m,m.pendingProps.children,M),m.child;case 12:return Hn(d,m,m.pendingProps.children,M),m.child;case 10:e:{if(T=m.type._context,P=m.pendingProps,F=m.memoizedProps,$=P.value,Ma(m,T,$),F!==null)if(Qi(F.value,$)){if(F.children===P.children&&!Gn.current){m=dr(d,m,M);break e}}else for(F=m.child,F!==null&&(F.return=m);F!==null;){var he=F.dependencies;if(he!==null){$=F.child;for(var be=he.firstContext;be!==null;){if(be.context===T){if(F.tag===1){be=lo(-1,M&-M),be.tag=2;var Ze=F.updateQueue;if(Ze!==null){Ze=Ze.shared;var dt=Ze.pending;dt===null?be.next=be:(be.next=dt.next,dt.next=be),Ze.pending=be}}F.lanes|=M,be=F.alternate,be!==null&&(be.lanes|=M),wa(F.return,M,m),he.lanes|=M;break}be=be.next}}else if(F.tag===10)$=F.type===m.type?null:F.child;else if(F.tag===18){if($=F.return,$===null)throw Error(o(341));$.lanes|=M,he=$.alternate,he!==null&&(he.lanes|=M),wa($,M,m),$=F.sibling}else $=F.child;if($!==null)$.return=F;else for($=F;$!==null;){if($===m){$=null;break}if(F=$.sibling,F!==null){F.return=$.return,$=F;break}$=$.return}F=$}Hn(d,m,P.children,M),m=m.child}return m;case 9:return P=m.type,T=m.pendingProps.children,Cl(m,M),P=fr(P),T=T(P),m.flags|=1,Hn(d,m,T,M),m.child;case 14:return T=m.type,P=cr(T,m.pendingProps),P=cr(T.type,P),yn(d,m,T,P,M);case 15:return go(d,m,m.type,m.pendingProps,M);case 17:return T=m.type,P=m.pendingProps,P=m.elementType===T?P:cr(T,P),d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Yn(T)?(d=!0,Pi(m)):d=!1,Cl(m,M),Tg(m,T,P),qd(m,T,P,M),Gi(null,m,T,!0,d,M);case 19:return Na(d,m,M);case 22:return Li(d,m,M)}throw Error(o(156,m.tag))};function Ah(d,m){return xa(d,m)}function Vg(d,m,M,T){this.tag=d,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(d,m,M,T){return new Vg(d,m,M,T)}function Sh(d){return d=d.prototype,!(!d||!d.isReactComponent)}function t_(d){if(typeof d=="function")return Sh(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===C)return 14}return 2}function Eo(d,m){var M=d.alternate;return M===null?(M=Dr(d.tag,m,d.key,d.mode),M.elementType=d.elementType,M.type=d.type,M.stateNode=d.stateNode,M.alternate=d,d.alternate=M):(M.pendingProps=m,M.type=d.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=d.flags&14680064,M.childLanes=d.childLanes,M.lanes=d.lanes,M.child=d.child,M.memoizedProps=d.memoizedProps,M.memoizedState=d.memoizedState,M.updateQueue=d.updateQueue,m=d.dependencies,M.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},M.sibling=d.sibling,M.index=d.index,M.ref=d.ref,M}function Mh(d,m,M,T,P,F){var $=2;if(T=d,typeof d=="function")Sh(d)&&($=1);else if(typeof d=="string")$=5;else e:switch(d){case h:return Ya(M.children,P,F,m);case p:$=8,P|=8;break;case g:return d=Dr(12,M,m,P|2),d.elementType=g,d.lanes=F,d;case A:return d=Dr(13,M,m,P),d.elementType=A,d.lanes=F,d;case S:return d=Dr(19,M,m,P),d.elementType=S,d.lanes=F,d;case R:return yc(M,P,F,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case v:$=10;break e;case _:$=9;break e;case x:$=11;break e;case C:$=14;break e;case E:$=16,T=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return m=Dr($,M,m,P),m.elementType=d,m.type=T,m.lanes=F,m}function Ya(d,m,M,T){return d=Dr(7,d,T,m),d.lanes=M,d}function yc(d,m,M,T){return d=Dr(22,d,T,m),d.elementType=R,d.lanes=M,d.stateNode={},d}function wh(d,m,M){return d=Dr(6,d,null,m),d.lanes=M,d}function Eh(d,m,M){return m=Dr(4,d.children!==null?d.children:[],d.key,m),m.lanes=M,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Th(d,m,M,T,P){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=We,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=T,this.onRecoverableError=P,Ie&&(this.mutableSourceEagerHydrationData=null)}function Wg(d,m,M,T,P,F,$,he,be){return d=new Th(d,m,M,he,be),m===1?(m=1,F===!0&&(m|=8)):m=0,F=Dr(3,null,null,m),d.current=F,F.stateNode=d,F.memoizedState={element:T,isDehydrated:M,cache:null,transitions:null},bl(F),d}function jg(d){if(!d)return zn;d=d._reactInternals;e:{if(L(d)!==d||d.tag!==1)throw Error(o(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Yn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(d.tag===1){var M=d.type;if(Yn(M))return Sl(d,M,m)}return m}function Xg(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=q(m),d===null?null:d.stateNode}function qr(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var M=d.retryLane;d.retryLane=M!==0&&M<m?M:m}}function _c(d,m){qr(d,m),(d=d.alternate)&&qr(d,m)}function Ch(d){return d=q(d),d===null?null:d.stateNode}function Jg(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var m=fn();Vi(d,134217728,m),_c(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var m=fn(),M=ys(d);Vi(d,M,m),_c(d,M)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var M=El(m.pendingLanes);M!==0&&(Os(m,M|1),pr(m,ci()),(jt&6)===0&&(ja(),Wr()))}break;case 13:var T=fn();Yl(function(){return Vi(d,1,T)}),_c(d,1)}},t.batchedUpdates=function(d,m){var M=jt;jt|=1;try{return d(m)}finally{jt=M,jt===0&&(ja(),zf&&Wr())}},t.createComponentSelector=function(d){return{$$typeof:lc,value:d}},t.createContainer=function(d,m,M,T,P,F,$){return Wg(d,m,!1,null,M,T,P,F,$)},t.createHasPseudoClassSelector=function(d){return{$$typeof:za,value:d}},t.createHydrationContainer=function(d,m,M,T,P,F,$,he,be){return d=Wg(M,T,!0,d,P,F,$,he,be),d.context=jg(null),M=d.current,T=fn(),P=ys(M),F=lo(T,P),F.callback=m??null,Yo(M,F),d.current.lanes=P,_a(d,P,T),pr(d,T),d},t.createPortal=function(d,m,M){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:d,containerInfo:m,implementation:M}},t.createRoleSelector=function(d){return{$$typeof:Ga,value:d}},t.createTestNameSelector=function(d){return{$$typeof:xo,value:d}},t.createTextSelector=function(d){return{$$typeof:Wl,value:d}},t.deferredUpdates=function(d){var m=Yt,M=gn.transition;try{return gn.transition=null,Yt=16,d()}finally{Yt=m,gn.transition=M}},t.discreteUpdates=function(d,m,M,T,P){var F=Yt,$=gn.transition;try{return gn.transition=null,Yt=1,d(m,M,T,P)}finally{Yt=F,gn.transition=$,jt===0&&ja()}},t.findAllNodes=Ao,t.findBoundingRects=function(d,m){if(!_t)throw Error(o(363));m=Ao(d,m),d=[];for(var M=0;M<m.length;M++)d.push(en(m[M]));for(m=d.length-1;0<m;m--){M=d[m];for(var T=M.x,P=T+M.width,F=M.y,$=F+M.height,he=m-1;0<=he;he--)if(m!==he){var be=d[he],Ze=be.x,dt=Ze+be.width,zt=be.y,bt=zt+be.height;if(T>=Ze&&F>=zt&&P<=dt&&$<=bt){d.splice(m,1);break}else if(T!==Ze||M.width!==be.width||bt<F||zt>$){if(!(F!==zt||M.height!==be.height||dt<T||Ze>P)){Ze>T&&(be.width+=Ze-T,be.x=T),dt<P&&(be.width=P-Ze),d.splice(m,1);break}}else{zt>F&&(be.height+=zt-F,be.y=F),bt<$&&(be.height=$-zt),d.splice(m,1);break}}}return d},t.findHostInstance=Xg,t.findHostInstanceWithNoPortals=function(d){return d=H(d),d=d!==null?J(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return Xg(d)},t.flushControlled=function(d){var m=jt;jt|=1;var M=gn.transition,T=Yt;try{gn.transition=null,Yt=1,d()}finally{Yt=T,gn.transition=M,jt=m,jt===0&&(ja(),Wr())}},t.flushPassiveEffects=Vs,t.flushSync=Yl,t.focusWithin=function(d,m){if(!_t)throw Error(o(363));for(d=uc(d),m=Pr(d,m),m=Array.from(m),d=0;d<m.length;){var M=m[d++];if(!G(M)){if(M.tag===5&&Ge(M.stateNode))return!0;for(M=M.child;M!==null;)m.push(M),M=M.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Yt},t.getFindAllNodesFailureDescription=function(d,m){if(!_t)throw Error(o(363));var M=0,T=[];d=[uc(d),0];for(var P=0;P<d.length;){var F=d[P++],$=d[P++],he=m[$];if((F.tag!==5||!G(F))&&(cc(F,he)&&(T.push(na(he)),$++,$>M&&(M=$)),$<m.length))for(F=F.child;F!==null;)d.push(F,$),F=F.sibling}if(M<m.length){for(d=[];M<m.length;M++)d.push(na(m[M]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return se(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Ch,findFiberByHostInstance:d.findFiberByHostInstance||Jg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{Gu=m.inject(d),Ns=m}catch{}d=!!m.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,m,M,T){if(!_t)throw Error(o(363));d=Ao(d,m);var P=Ne(d,M,T).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(d,m){var M=m._getVersion;M=M(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,M]:d.mutableSourceEagerHydrationData.push(m,M)},t.runWithPriority=function(d,m){var M=Yt;try{return Yt=d,m()}finally{Yt=M}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,m,M,T){var P=m.current,F=fn(),$=ys(P);return M=jg(M),m.context===null?m.context=M:m.pendingContext=M,m=lo(F,$),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),Yo(P,m),d=Vi(P,$,F),d!==null&&Wf(d,P,$),$},t}),yx}var nT;function Gz(){return nT||(nT=1,mx.exports=zz()),mx.exports}var Hz=Gz();const Vz=sy(Hz);var iT=OP();const IS={},Wz=r=>void Object.assign(IS,r);function jz(r,e){function t(h,{args:p=[],attach:g,...v},_){let x=`${h[0].toUpperCase()}${h.slice(1)}`,A;if(h==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const S=v.object;A=td(S,{type:h,root:_,attach:g,primitive:!0})}else{const S=IS[x];if(!S)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");A=td(new S(...p),{type:h,root:_,attach:g,memoizedProps:{args:p}})}return A.__r3f.attach===void 0&&(A instanceof Vt?A.__r3f.attach="geometry":A instanceof bi&&(A.__r3f.attach="material")),x!=="inject"&&Ax(A,v),A}function n(h,p){let g=!1;if(p){var v,_;(v=p.__r3f)!=null&&v.attach?xx(h,p,p.__r3f.attach):p.isObject3D&&h.isObject3D&&(h.add(p),g=!0),g||(_=h.__r3f)==null||_.objects.push(p),p.__r3f||td(p,{}),p.__r3f.parent=h,t1(p),nd(p)}}function i(h,p,g){let v=!1;if(p){var _,x;if((_=p.__r3f)!=null&&_.attach)xx(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){p.parent=h,p.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:p});const A=h.children.filter(C=>C!==p),S=A.indexOf(g);h.children=[...A.slice(0,S),p,...A.slice(S)],v=!0}v||(x=h.__r3f)==null||x.objects.push(p),p.__r3f||td(p,{}),p.__r3f.parent=h,t1(p),nd(p)}}function s(h,p,g=!1){h&&[...h].forEach(v=>o(p,v,g))}function o(h,p,g){if(p){var v,_,x;if(p.__r3f&&(p.__r3f.parent=null),(v=h.__r3f)!=null&&v.objects&&(h.__r3f.objects=h.__r3f.objects.filter(R=>R!==p)),(_=p.__r3f)!=null&&_.attach)lT(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){var A;h.remove(p),(A=p.__r3f)!=null&&A.root&&$z(Ev(p),p)}const C=(x=p.__r3f)==null?void 0:x.primitive,E=!C&&(g===void 0?p.dispose!==null:g);if(!C){var S;s((S=p.__r3f)==null?void 0:S.objects,p,E),s(p.children,p,E)}if(delete p.__r3f,E&&p.dispose&&p.type!=="Scene"){const R=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?iT.unstable_scheduleCallback(iT.unstable_IdlePriority,R):R()}nd(h)}}function a(h,p,g,v){var _;const x=(_=h.__r3f)==null?void 0:_.parent;if(!x)return;const A=t(p,g,h.__r3f.root);if(h.children){for(const S of h.children)S.__r3f&&n(A,S);h.children=h.children.filter(S=>!S.__r3f)}h.__r3f.objects.forEach(S=>n(A,S)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(x,h),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),n(x,A),A.raycast&&A.__r3f.eventCount&&Ev(A).getState().internal.interaction.push(A),[v,v.alternate].forEach(S=>{S!==null&&(S.stateNode=A,S.ref&&(typeof S.ref=="function"?S.ref(A):S.ref.current=A))})}const u=()=>{};return{reconciler:Vz({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,p)=>{if(!p)return;const g=h.getState().scene;g.__r3f&&(g.__r3f.root=h,n(g,p))},removeChildFromContainer:(h,p)=>{p&&o(h.getState().scene,p)},insertInContainerBefore:(h,p,g)=>{if(!p||!g)return;const v=h.getState().scene;v.__r3f&&i(v,p,g)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var p;return!!((p=h?.__r3f)!=null?p:{}).handlers},prepareUpdate(h,p,g,v){var _;if(((_=h?.__r3f)!=null?_:{}).primitive&&v.object&&v.object!==h)return[!0];{const{args:A=[],children:S,...C}=v,{args:E=[],children:R,...B}=g;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((O,U)=>O!==E[U]))return[!0];const I=VP(h,C,B,!0);return I.changes.length?[!1,I]:null}},commitUpdate(h,[p,g],v,_,x,A){p?a(h,v,x,A):Ax(h,g)},commitMount(h,p,g,v){var _;const x=(_=h.__r3f)!=null?_:{};h.raycast&&x.handlers&&x.eventCount&&Ev(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>td(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var p;const{attach:g,parent:v}=(p=h.__r3f)!=null?p:{};g&&v&&lT(v,h,g),h.isObject3D&&(h.visible=!1),nd(h)},unhideInstance(h,p){var g;const{attach:v,parent:_}=(g=h.__r3f)!=null?g:{};v&&_&&xx(_,h,v),(h.isObject3D&&p.visible==null||p.visible)&&(h.visible=!0),nd(h)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():ad.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Fn.fun(performance.now)?performance.now:Fn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ax}}var rT,sT;const _x=r=>"colorSpace"in r||"outputColorSpace"in r,NP=()=>{var r;return(r=IS.ColorManagement)!=null?r:null},UP=r=>r&&r.isOrthographicCamera,Xz=r=>r&&r.hasOwnProperty("current"),dg=typeof window<"u"&&((rT=window.document)!=null&&rT.createElement||((sT=window.navigator)==null?void 0:sT.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function kP(r){const e=te.useRef(r);return dg(()=>void(e.current=r),[r]),e}function Jz({set:r}){return dg(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}class zP extends te.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}zP.getDerivedStateFromError=()=>({error:!0});const GP="__default",oT=new Map,Yz=r=>r&&!!r.memoized&&!!r.changes;function HP(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}const qp=r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()};function Ev(r){let e=r.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Fn={obj:r=>r===Object(r)&&!Fn.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(Fn.str(r)||Fn.num(r)||Fn.boo(r))return r===e;const s=Fn.obj(r);if(s&&n==="reference")return r===e;const o=Fn.arr(r);if(o&&t==="reference")return r===e;if((o||s)&&r===e)return!0;let a;for(a in r)if(!(a in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(a in i?e:r)if(!Fn.equ(r[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:r)if(r[a]!==e[a])return!1;if(Fn.und(a)){if(o&&r.length===0&&e.length===0||s&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function Kz(r){const e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Qz(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const e in r)e.dispose==null||e.dispose(),delete r[e]}function td(r,e){const t=r;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},r}function e1(r,e){let t=r;if(e.includes("-")){const n=e.split("-"),i=n.pop();return t=n.reduce((s,o)=>s[o],r),{target:t,key:i}}else return{target:t,key:e}}const aT=/-\d+$/;function xx(r,e,t){if(Fn.str(t)){if(aT.test(t)){const s=t.replace(aT,""),{target:o,key:a}=e1(r,s);Array.isArray(o[a])||(o[a]=[])}const{target:n,key:i}=e1(r,t);e.__r3f.previousAttach=n[i],n[i]=e}else e.__r3f.previousAttach=t(r,e)}function lT(r,e,t){var n,i;if(Fn.str(t)){const{target:s,key:o}=e1(r,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(r,e);(i=e.__r3f)==null||delete i.previousAttach}function VP(r,{children:e,key:t,ref:n,...i},{children:s,key:o,ref:a,...u}={},c=!1){const h=r.__r3f,p=Object.entries(i),g=[];if(c){const _=Object.keys(u);for(let x=0;x<_.length;x++)i.hasOwnProperty(_[x])||p.unshift([_[x],GP+"remove"])}p.forEach(([_,x])=>{var A;if((A=r.__r3f)!=null&&A.primitive&&_==="object"||Fn.equ(x,u[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return g.push([_,x,!0,[]]);let S=[];_.includes("-")&&(S=_.split("-")),g.push([_,x,!1,S]);for(const C in i){const E=i[C];C.startsWith(`${_}-`)&&g.push([C,E,!1,C.split("-")])}});const v={...i};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:g}}function Ax(r,e){var t;const n=r.__r3f,i=n?.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Yz(e)?e:VP(r,e),u=n?.eventCount;r.__r3f&&(r.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[p,g,v,_]=a[h];if(_x(r)){const C="srgb",E="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?C:E):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?C:E)}let x=r,A=x[p];if(_.length&&(A=_.reduce((S,C)=>S[C],r),!(A&&A.set))){const[S,...C]=_.reverse();x=C.reverse().reduce((E,R)=>E[R],r),p=S}if(g===GP+"remove")if(x.constructor){let S=oT.get(x.constructor);S||(S=new x.constructor,oT.set(x.constructor,S)),g=S[p]}else g=0;if(v&&n)g?n.handlers[p]=g:delete n.handlers[p],n.eventCount=Object.keys(n.handlers).length;else if(A&&A.set&&(A.copy||A instanceof af)){if(Array.isArray(g))A.fromArray?A.fromArray(g):A.set(...g);else if(A.copy&&g&&g.constructor&&A.constructor===g.constructor)A.copy(g);else if(g!==void 0){const S=A instanceof ot;!S&&A.setScalar?A.setScalar(g):A instanceof af&&g instanceof af?A.mask=g.mask:A.set(g),!NP()&&s&&!s.linear&&S&&A.convertSRGBToLinear()}}else if(x[p]=g,x[p]instanceof On&&x[p].format===kr&&x[p].type===fa&&s){const S=x[p];_x(S)&&_x(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}nd(r)}if(n&&n.parent&&r.raycast&&u!==n.eventCount){const h=Ev(r).getState().internal,p=h.interaction.indexOf(r);p>-1&&h.interaction.splice(p,1),n.eventCount&&h.interaction.push(r)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=r.__r3f)!=null&&t.parent&&t1(r),r}function nd(r){var e,t;const n=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function t1(r){r.onUpdate==null||r.onUpdate(r)}function qz(r,e){r.manual||(UP(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}function ov(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function Zz(){var r;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ad.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ad.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ad.ContinuousEventPriority;default:return ad.DefaultEventPriority}}function WP(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function $z(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{WP(t.capturedMap,e,n,i)})}function eG(r){function e(u){const{internal:c}=r.getState(),h=u.offsetX-c.initialClick[0],p=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function n(u,c){const h=r.getState(),p=new Set,g=[],v=c?c(h.internal.interaction):h.internal.interaction;for(let S=0;S<v.length;S++){const C=qp(v[S]);C&&(C.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function _(S){const C=qp(S);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var E;C.events.compute==null||C.events.compute(u,C,(E=C.previousRoot)==null?void 0:E.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(S,!0):[]}let x=v.flatMap(_).sort((S,C)=>{const E=qp(S.object),R=qp(C.object);return!E||!R?S.distance-C.distance:R.events.priority-E.events.priority||S.distance-C.distance}).filter(S=>{const C=ov(S);return p.has(C)?!1:(p.add(C),!0)});h.events.filter&&(x=h.events.filter(x,h));for(const S of x){let C=S.object;for(;C;){var A;(A=C.__r3f)!=null&&A.eventCount&&g.push({...S,eventObject:C}),C=C.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let S of h.internal.capturedMap.get(u.pointerId).values())p.has(ov(S.intersection))||g.push(S.intersection);return g}function i(u,c,h,p){const g=r.getState();if(u.length){const v={stopped:!1};for(const _ of u){const x=qp(_.object)||g,{raycaster:A,pointer:S,camera:C,internal:E}=x,R=new W(S.x,S.y,0).unproject(C),B=N=>{var H,q;return(H=(q=E.capturedMap.get(N))==null?void 0:q.has(_.eventObject))!=null?H:!1},I=N=>{const H={intersection:_,target:c.target};E.capturedMap.has(N)?E.capturedMap.get(N).set(_.eventObject,H):E.capturedMap.set(N,new Map([[_.eventObject,H]])),c.target.setPointerCapture(N)},O=N=>{const H=E.capturedMap.get(N);H&&WP(E.capturedMap,_.eventObject,H,N)};let U={};for(let N in c){let H=c[N];typeof H!="function"&&(U[N]=H)}let L={..._,...U,pointer:S,intersections:u,stopped:v.stopped,delta:h,unprojectedPoint:R,ray:A.ray,camera:C,stopPropagation(){const N="pointerId"in c&&E.capturedMap.get(c.pointerId);if((!N||N.has(_.eventObject))&&(L.stopped=v.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(H=>H.eventObject===_.eventObject))){const H=u.slice(0,u.indexOf(_));s([...H,_])}},target:{hasPointerCapture:B,setPointerCapture:I,releasePointerCapture:O},currentTarget:{hasPointerCapture:B,setPointerCapture:I,releasePointerCapture:O},nativeEvent:c};if(p(L),v.stopped===!0)break}}return u}function s(u){const{internal:c}=r.getState();for(const h of c.hovered.values())if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const g=h.eventObject.__r3f,v=g?.handlers;if(c.hovered.delete(ov(h)),g!=null&&g.eventCount){const _={...h,intersections:u};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function o(u,c){for(let h=0;h<c.length;h++){const p=c[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(u)}}function a(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=r.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:g}=r.getState();g.lastEvent.current=h;const v=u==="onPointerMove",_=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",A=n(h,v?t:void 0),S=_?e(h):0;u==="onPointerDown"&&(g.initialClick=[h.offsetX,h.offsetY],g.initialHits=A.map(E=>E.eventObject)),_&&!A.length&&S<=2&&(o(h,g.interaction),p&&p(h)),v&&s(A);function C(E){const R=E.eventObject,B=R.__r3f,I=B?.handlers;if(B!=null&&B.eventCount)if(v){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const O=ov(E),U=g.hovered.get(O);U?U.stopped&&E.stopPropagation():(g.hovered.set(O,E),I.onPointerOver==null||I.onPointerOver(E),I.onPointerEnter==null||I.onPointerEnter(E))}I.onPointerMove==null||I.onPointerMove(E)}else{const O=I[u];O?(!_||g.initialHits.includes(R))&&(o(h,g.interaction.filter(U=>!g.initialHits.includes(U))),O(E)):_&&g.initialHits.includes(R)&&o(h,g.interaction.filter(U=>!g.initialHits.includes(U)))}}i(A,h,S,C)}}return{handlePointer:a}}const jP=r=>!!(r!=null&&r.render),XP=te.createContext(null),tG=(r,e)=>{const t=Iz((a,u)=>{const c=new W,h=new W,p=new W;function g(S=u().camera,C=h,E=u().size){const{width:R,height:B,top:I,left:O}=E,U=R/B;C instanceof W?p.copy(C):p.set(...C);const L=S.getWorldPosition(c).distanceTo(p);if(UP(S))return{width:R/S.zoom,height:B/S.zoom,top:I,left:O,factor:1,distance:L,aspect:U};{const N=S.fov*Math.PI/180,H=2*Math.tan(N/2)*L,q=H*(R/B);return{width:q,height:H,top:I,left:O,factor:R/q,distance:L,aspect:U}}}let v;const _=S=>a(C=>({performance:{...C.performance,current:S}})),x=new Le;return{set:a,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(S=1)=>r(u(),S),advance:(S,C)=>e(S,C,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new PS,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();v&&clearTimeout(v),S.performance.current!==S.performance.min&&_(S.performance.min),v=setTimeout(()=>_(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:S=>a(C=>({...C,events:{...C.events,...S}})),setSize:(S,C,E,R,B)=>{const I=u().camera,O={width:S,height:C,top:R||0,left:B||0,updateStyle:E};a(U=>({size:O,viewport:{...U.viewport,...g(I,h,O)}}))},setDpr:S=>a(C=>{const E=HP(S);return{viewport:{...C.viewport,dpr:E,initialDpr:C.viewport.initialDpr||E}}}),setFrameloop:(S="always")=>{const C=u().clock;C.stop(),C.elapsedTime=0,S!=="never"&&(C.start(),C.elapsedTime=0),a(()=>({frameloop:S}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:te.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(S,C,E)=>{const R=u().internal;return R.priority=R.priority+(C>0?1:0),R.subscribers.push({ref:S,priority:C,store:E}),R.subscribers=R.subscribers.sort((B,I)=>B.priority-I.priority),()=>{const B=u().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(C>0?1:0),B.subscribers=B.subscribers.filter(I=>I.ref!==S))}}}}}),n=t.getState();let i=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:a,size:u,viewport:c,gl:h,set:p}=t.getState();if(u.width!==i.width||u.height!==i.height||c.dpr!==s){var g;i=u,s=c.dpr,qz(a,u),h.setPixelRatio(c.dpr);const v=(g=u.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,v)}a!==o&&(o=a,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>r(a)),t};let av,nG=new Set,iG=new Set,rG=new Set;function Sx(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function Zp(r,e){switch(r){case"before":return Sx(nG,e);case"after":return Sx(iG,e);case"tail":return Sx(rG,e)}}let Mx,wx;function Ex(r,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),Mx=e.internal.subscribers,av=0;av<Mx.length;av++)wx=Mx[av],wx.ref.current(wx.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function sG(r){let e=!1,t=!1,n,i,s;function o(c){i=requestAnimationFrame(o),e=!0,n=0,Zp("before",c),t=!0;for(const p of r.values()){var h;s=p.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(n+=Ex(c,s))}if(t=!1,Zp("after",c),n===0)return Zp("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,h=1){var p;if(!c)return r.forEach(g=>a(g.store.getState(),h));(p=c.gl.xr)!=null&&p.isPresenting||!c.internal.active||c.frameloop==="never"||(h>1?c.internal.frames=Math.min(60,c.internal.frames+h):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function u(c,h=!0,p,g){if(h&&Zp("before",c),p)Ex(c,p,g);else for(const v of r.values())Ex(c,v.store.getState());h&&Zp("after",c)}return{loop:o,invalidate:a,advance:u}}function JP(){const r=te.useContext(XP);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Ms(r=t=>t,e){return JP()(r,e)}function Vd(r,e=0){const t=JP(),n=t.getState().internal.subscribe,i=kP(r);return dg(()=>n(i,e,t),[e,n,t]),null}const uT=new WeakMap;function YP(r,e){return function(t,...n){let i=uT.get(t);return i||(i=new t,uT.set(t,i)),r&&r(i),Promise.all(n.map(s=>new Promise((o,a)=>i.load(s,u=>{u.scene&&Object.assign(u,Kz(u.scene)),o(u)},e,u=>a(new Error(`Could not load ${s}: ${u?.message}`))))))}}function Fu(r,e,t,n){const i=Array.isArray(e)?e:[e],s=Oz(YP(t,n),[r,...i],{equal:Fn.equ});return Array.isArray(e)?s:s[0]}Fu.preload=function(r,e,t){const n=Array.isArray(e)?e:[e];return Nz(YP(t),[r,...n])};Fu.clear=function(r,e){const t=Array.isArray(e)?e:[e];return Uz([r,...t])};const bd=new Map,{invalidate:cT,advance:fT}=sG(bd),{reconciler:Gv,applyProps:aa}=jz(bd,Zz),$h={objects:"shallow",strict:!1},oG=(r,e)=>{const t=typeof r=="function"?r(e):r;return jP(t)?t:new uS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})};function aG(r,e){const t=typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement;if(e){const{width:n,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:n,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:n,height:i,top:s,left:o}=r.parentElement.getBoundingClientRect();return{width:n,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function lG(r){const e=bd.get(r),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=n||tG(cT,fT),o=t||Gv.createContainer(s,ad.ConcurrentRoot,null,!1,null,"",i,null);e||bd.set(r,{fiber:o,store:s});let a,u=!1,c;return{configure(h={}){let{gl:p,size:g,scene:v,events:_,onCreated:x,shadows:A=!1,linear:S=!1,flat:C=!1,legacy:E=!1,orthographic:R=!1,frameloop:B="always",dpr:I=[1,2],performance:O,raycaster:U,camera:L,onPointerMissed:N}=h,H=s.getState(),q=H.gl;H.gl||H.set({gl:q=oG(p,r)});let oe=H.raycaster;oe||H.set({raycaster:oe=new LP});const{params:J,...ie}=U||{};if(Fn.equ(ie,oe,$h)||aa(oe,{...ie}),Fn.equ(J,oe.params,$h)||aa(oe,{params:{...oe.params,...J}}),!H.camera||H.camera===c&&!Fn.equ(c,L,$h)){c=L;const V=L instanceof tg,k=V?L:R?new Uo(0,0,0,0,.1,1e3):new jn(75,0,.1,1e3);V||(k.position.z=5,L&&(aa(k,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(k.manual=!0,k.updateProjectionMatrix())),!H.camera&&!(L!=null&&L.rotation)&&k.lookAt(0,0,0)),H.set({camera:k}),oe.camera=k}if(!H.scene){let V;v instanceof kv?V=v:(V=new kv,v&&aa(V,v)),H.set({scene:td(V)})}if(!H.xr){var se;const V=(re,j)=>{const Te=s.getState();Te.frameloop!=="never"&&fT(re,!0,Te,j)},k=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?V:null),re.gl.xr.isPresenting||cT(re)},K={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",k),re.xr.addEventListener("sessionend",k)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",k),re.xr.removeEventListener("sessionend",k)}};typeof((se=q.xr)==null?void 0:se.addEventListener)=="function"&&K.connect(),H.set({xr:K})}if(q.shadowMap){const V=q.shadowMap.enabled,k=q.shadowMap.type;if(q.shadowMap.enabled=!!A,Fn.boo(A))q.shadowMap.type=pm;else if(Fn.str(A)){var le;const K={basic:Ib,percentage:uy,soft:pm,variance:Do};q.shadowMap.type=(le=K[A])!=null?le:pm}else Fn.obj(A)&&Object.assign(q.shadowMap,A);(V!==q.shadowMap.enabled||k!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const Q=NP();Q&&("enabled"in Q?Q.enabled=!E:"legacyMode"in Q&&(Q.legacyMode=E)),u||aa(q,{outputEncoding:S?3e3:3001,toneMapping:C?ca:k1}),H.legacy!==E&&H.set(()=>({legacy:E})),H.linear!==S&&H.set(()=>({linear:S})),H.flat!==C&&H.set(()=>({flat:C})),p&&!Fn.fun(p)&&!jP(p)&&!Fn.equ(p,q,$h)&&aa(q,p),_&&!H.events.handlers&&H.set({events:_(s)});const Y=aG(r,g);return Fn.equ(Y,H.size,$h)||H.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),I&&H.viewport.dpr!==HP(I)&&H.setDpr(I),H.frameloop!==B&&H.setFrameloop(B),H.onPointerMissed||H.set({onPointerMissed:N}),O&&!Fn.equ(O,H.performance,$h)&&H.set(V=>({performance:{...V.performance,...O}})),a=x,u=!0,this},render(h){return u||this.configure(),Gv.updateContainer(pe.jsx(uG,{store:s,children:h,onCreated:a,rootElement:r}),o,null,()=>{}),s},unmount(){KP(r)}}}function uG({store:r,children:e,onCreated:t,rootElement:n}){return dg(()=>{const i=r.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),pe.jsx(XP.Provider,{value:r,children:e})}function KP(r,e){const t=bd.get(r),n=t?.fiber;if(n){const i=t?.store.getState();i&&(i.internal.active=!1),Gv.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var s,o,a,u;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),Qz(i),bd.delete(r)}catch{}},500)})}}Gv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:te.version});const Tx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function cG(r){const{handlePointer:e}=eG(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(Tx).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var n;const{set:i,events:s}=r.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,a])=>{const[u,c]=Tx[o];t.addEventListener(u,a,{passive:c})})},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){var i;Object.entries((i=n.handlers)!=null?i:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[a]=Tx[s];n.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}var Cx,hT;function fG(){if(hT)return Cx;hT=1;function r(e,t,n){var i,s,o,a,u;t==null&&(t=100);function c(){var p=Date.now()-a;p<t&&p>=0?i=setTimeout(c,t-p):(i=null,n||(u=e.apply(o,s),o=s=null))}var h=function(){o=this,s=arguments,a=Date.now();var p=n&&!i;return i||(i=setTimeout(c,t)),p&&(u=e.apply(o,s),o=s=null),u};return h.clear=function(){i&&(clearTimeout(i),i=null)},h.flush=function(){i&&(u=e.apply(o,s),o=s=null,clearTimeout(i),i=null)},h}return r.debounce=r,Cx=r,Cx}var hG=fG();const dT=sy(hG);var dG=Object.defineProperty,pG=Object.defineProperties,mG=Object.getOwnPropertyDescriptors,pT=Object.getOwnPropertySymbols,gG=Object.prototype.hasOwnProperty,vG=Object.prototype.propertyIsEnumerable,mT=(r,e,t)=>e in r?dG(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gT=(r,e)=>{for(var t in e||(e={}))gG.call(e,t)&&mT(r,t,e[t]);if(pT)for(var t of pT(e))vG.call(e,t)&&mT(r,t,e[t]);return r},yG=(r,e)=>pG(r,mG(e)),vT,yT;typeof window<"u"&&((vT=window.document)!=null&&vT.createElement||((yT=window.navigator)==null?void 0:yT.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function QP(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=r.child;for(;n;){const i=QP(n,e,t);if(i)return i;n=n.sibling}}function qP(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const _T=console.error;console.error=function(){const r=[...arguments].join("");if(r?.startsWith("Warning:")&&r.includes("useContext")){console.error=_T;return}return _T.apply(this,arguments)};const FS=qP(te.createContext(null));class ZP extends te.Component{render(){return te.createElement(FS.Provider,{value:this._reactInternals},this.props.children)}}function _G(){const r=te.useContext(FS);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=te.useId();return te.useMemo(()=>{for(const n of[r,r?.alternate]){if(!n)continue;const i=QP(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[r,e])}function xG(){const r=_G(),[e]=te.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==FS&&!e.has(i)&&e.set(i,te.useContext(qP(i)))}t=t.return}return e}function AG(){const r=xG();return te.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>te.createElement(e,null,te.createElement(t.Provider,yG(gT({},n),{value:r.get(t)}))),e=>te.createElement(ZP,gT({},e))),[r])}function SG({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||typeof window<"u"&&window.ResizeObserver,[s,o]=te.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=te.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),u=r?typeof r=="number"?r:r.scroll:null,c=r?typeof r=="number"?r:r.resize:null,h=te.useRef(!1);te.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,g,v]=te.useMemo(()=>{const S=()=>{if(!a.current.element)return;const{left:C,top:E,width:R,height:B,bottom:I,right:O,x:U,y:L}=a.current.element.getBoundingClientRect(),N={left:C,top:E,width:R,height:B,bottom:I,right:O,x:U,y:L};a.current.element instanceof HTMLElement&&n&&(N.height=a.current.element.offsetHeight,N.width=a.current.element.offsetWidth),Object.freeze(N),h.current&&!TG(a.current.lastBounds,N)&&o(a.current.lastBounds=N)};return[S,c?dT(S,c):S,u?dT(S,u):S]},[o,n,u,c]);function _(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){var S;a.current.element&&(a.current.resizeObserver=new i(g),(S=a.current.resizeObserver)==null||S.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(C=>C.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const A=S=>{!S||S===a.current.element||(_(),a.current.element=S,a.current.scrollContainers=$P(S),x())};return wG(v,!!e),MG(g),te.useEffect(()=>{_(),x()},[e,v,g]),te.useEffect(()=>_,[]),[A,s,p]}function MG(r){te.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function wG(r,e){te.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function $P(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(s=>s==="auto"||s==="scroll")&&e.push(r),[...e,...$P(r.parentElement)]}const EG=["x","y","top","bottom","left","right","width","height"],TG=(r,e)=>EG.every(t=>r[t]===e[t]),CG=te.forwardRef(function({children:e,fallback:t,resize:n,style:i,gl:s,events:o=cG,eventSource:a,eventPrefix:u,shadows:c,linear:h,flat:p,legacy:g,orthographic:v,frameloop:_,dpr:x,performance:A,raycaster:S,camera:C,scene:E,onPointerMissed:R,onCreated:B,...I},O){te.useMemo(()=>Wz(Rz),[]);const U=AG(),[L,N]=SG({scroll:!0,debounce:{scroll:50,resize:0},...n}),H=te.useRef(null),q=te.useRef(null);te.useImperativeHandle(O,()=>H.current);const oe=kP(R),[J,ie]=te.useState(!1),[se,le]=te.useState(!1);if(J)throw J;if(se)throw se;const Q=te.useRef(null);dg(()=>{const V=H.current;N.width>0&&N.height>0&&V&&(Q.current||(Q.current=lG(V)),Q.current.configure({gl:s,events:o,shadows:c,linear:h,flat:p,legacy:g,orthographic:v,frameloop:_,dpr:x,performance:A,raycaster:S,camera:C,scene:E,size:N,onPointerMissed:(...k)=>oe.current==null?void 0:oe.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(a?Xz(a)?a.current:a:q.current),u&&k.setEvents({compute:(K,re)=>{const j=K[u+"X"],Te=K[u+"Y"];re.pointer.set(j/re.size.width*2-1,-(Te/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),B?.(k)}}),Q.current.render(pe.jsx(U,{children:pe.jsx(zP,{set:le,children:pe.jsx(te.Suspense,{fallback:pe.jsx(Jz,{set:ie}),children:e})})})))}),te.useEffect(()=>{const V=H.current;if(V)return()=>KP(V)},[]);const Y=a?"none":"auto";return pe.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...i},...I,children:pe.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:pe.jsx("canvas",{ref:H,style:{display:"block"},children:t})})})}),Oy=te.forwardRef(function(e,t){return pe.jsx(ZP,{children:pe.jsx(CG,{...e,ref:t})})});function va(){return va=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},va.apply(null,arguments)}var lv={},xT;function bG(){if(xT)return lv;xT=1;var r=Ab();return lv.createRoot=r.createRoot,lv.hydrateRoot=r.hydrateRoot,lv}var RG=bG();const pg=new W,OS=new W,PG=new W,AT=new Le;function BG(r,e,t){const n=pg.setFromMatrixPosition(r.matrixWorld);n.project(e);const i=t.width/2,s=t.height/2;return[n.x*i+i,-(n.y*s)+s]}function LG(r,e){const t=pg.setFromMatrixPosition(r.matrixWorld),n=OS.setFromMatrixPosition(e.matrixWorld),i=t.sub(n),s=e.getWorldDirection(PG);return i.angleTo(s)>Math.PI/2}function DG(r,e,t,n){const i=pg.setFromMatrixPosition(r.matrixWorld),s=i.clone();s.project(e),AT.set(s.x,s.y),t.setFromCamera(AT,e);const o=t.intersectObjects(n,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function IG(r,e){if(e instanceof Uo)return e.zoom;if(e instanceof jn){const t=pg.setFromMatrixPosition(r.matrixWorld),n=OS.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(n);return 1/(2*Math.tan(i/2)*s)}else return 1}function FG(r,e,t){if(e instanceof jn||e instanceof Uo){const n=pg.setFromMatrixPosition(r.matrixWorld),i=OS.setFromMatrixPosition(e.matrixWorld),s=n.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const n1=r=>Math.abs(r)<1e-10?0:r;function e2(r,e,t=""){let n="matrix3d(";for(let i=0;i!==16;i++)n+=n1(e[i]*r.elements[i])+(i!==15?",":")");return t+n}const OG=(r=>e=>e2(e,r))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),NG=(r=>(e,t)=>e2(e,r(t),"translate(-50%,-50%)"))(r=>[1/r,1/r,1/r,1,-1/r,-1/r,-1/r,-1,1/r,1/r,1/r,1,1,1,1,1]);function UG(r){return r&&typeof r=="object"&&"current"in r}const kG=te.forwardRef(({children:r,eps:e=.001,style:t,className:n,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:u,sprite:c=!1,transform:h=!1,occlude:p,onOcclude:g,castShadow:v,receiveShadow:_,material:x,geometry:A,zIndexRange:S=[16777271,0],calculatePosition:C=BG,as:E="div",wrapperClass:R,pointerEvents:B="auto",...I},O)=>{const{gl:U,camera:L,scene:N,size:H,raycaster:q,events:oe,viewport:J}=Ms(),[ie]=te.useState(()=>document.createElement(E)),se=te.useRef(),le=te.useRef(null),Q=te.useRef(0),Y=te.useRef([0,0]),V=te.useRef(null),k=te.useRef(null),K=a?.current||oe.connected||U.domElement.parentNode,re=te.useRef(null),j=te.useRef(!1),Te=te.useMemo(()=>p&&p!=="blending"||Array.isArray(p)&&p.length&&UG(p[0]),[p]);te.useLayoutEffect(()=>{const De=U.domElement;p&&p==="blending"?(De.style.zIndex=`${Math.floor(S[0]/2)}`,De.style.position="absolute",De.style.pointerEvents="none"):(De.style.zIndex=null,De.style.position=null,De.style.pointerEvents=null)},[p]),te.useLayoutEffect(()=>{if(le.current){const De=se.current=RG.createRoot(ie);if(N.updateMatrixWorld(),h)ie.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Oe=C(le.current,L,H);ie.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Oe[0]}px,${Oe[1]}px,0);transform-origin:0 0;`}return K&&(i?K.prepend(ie):K.appendChild(ie)),()=>{K&&K.removeChild(ie),De.unmount()}}},[K,h]),te.useLayoutEffect(()=>{R&&(ie.className=R)},[R]);const me=te.useMemo(()=>h?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...t},[t,s,o,H,h]),Re=te.useMemo(()=>({position:"absolute",pointerEvents:B}),[B]);te.useLayoutEffect(()=>{if(j.current=!1,h){var De;(De=se.current)==null||De.render(te.createElement("div",{ref:V,style:me},te.createElement("div",{ref:k,style:Re},te.createElement("div",{ref:O,className:n,style:t,children:r}))))}else{var Oe;(Oe=se.current)==null||Oe.render(te.createElement("div",{ref:O,style:me,className:n,children:r}))}});const Ue=te.useRef(!0);Vd(De=>{if(le.current){L.updateMatrixWorld(),le.current.updateWorldMatrix(!0,!1);const Oe=h?Y.current:C(le.current,L,H);if(h||Math.abs(Q.current-L.zoom)>e||Math.abs(Y.current[0]-Oe[0])>e||Math.abs(Y.current[1]-Oe[1])>e){const ne=LG(le.current,L);let Ie=!1;Te&&(Array.isArray(p)?Ie=p.map(lt=>lt.current):p!=="blending"&&(Ie=[N]));const Ce=Ue.current;if(Ie){const lt=DG(le.current,L,q,Ie);Ue.current=lt&&!ne}else Ue.current=!ne;Ce!==Ue.current&&(g?g(!Ue.current):ie.style.display=Ue.current?"block":"none");const Xe=Math.floor(S[0]/2),Fe=p?Te?[S[0],Xe]:[Xe-1,0]:S;if(ie.style.zIndex=`${FG(le.current,L,Fe)}`,h){const[lt,it]=[H.width/2,H.height/2],rt=L.projectionMatrix.elements[5]*it,{isOrthographicCamera:_t,top:It,left:en,bottom:Z,right:G}=L,ye=OG(L.matrixWorldInverse),Ge=_t?`scale(${rt})translate(${n1(-(G+en)/2)}px,${n1((It+Z)/2)}px)`:`translateZ(${rt}px)`;let Ne=le.current.matrixWorld;c&&(Ne=L.matrixWorldInverse.clone().transpose().copyPosition(Ne).scale(le.current.scale),Ne.elements[3]=Ne.elements[7]=Ne.elements[11]=0,Ne.elements[15]=1),ie.style.width=H.width+"px",ie.style.height=H.height+"px",ie.style.perspective=_t?"":`${rt}px`,V.current&&k.current&&(V.current.style.transform=`${Ge}${ye}translate(${lt}px,${it}px)`,k.current.style.transform=NG(Ne,1/((u||10)/400)))}else{const lt=u===void 0?1:IG(le.current,L)*u;ie.style.transform=`translate3d(${Oe[0]}px,${Oe[1]}px,0) scale(${lt})`}Y.current=Oe,Q.current=L.zoom}}if(!Te&&re.current&&!j.current)if(h){if(V.current){const Oe=V.current.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const{isOrthographicCamera:ne}=L;if(ne||A)I.scale&&(Array.isArray(I.scale)?I.scale instanceof W?re.current.scale.copy(I.scale.clone().divideScalar(1)):re.current.scale.set(1/I.scale[0],1/I.scale[1],1/I.scale[2]):re.current.scale.setScalar(1/I.scale));else{const Ie=(u||10)/400,Ce=Oe.clientWidth*Ie,Xe=Oe.clientHeight*Ie;re.current.scale.set(Ce,Xe,1)}j.current=!0}}}else{const Oe=ie.children[0];if(Oe!=null&&Oe.clientWidth&&Oe!=null&&Oe.clientHeight){const ne=1/J.factor,Ie=Oe.clientWidth*ne,Ce=Oe.clientHeight*ne;re.current.scale.set(Ie,Ce,1),j.current=!0}re.current.lookAt(De.camera.position)}});const We=te.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return te.createElement("group",va({},I,{ref:le}),p&&!Te&&te.createElement("mesh",{castShadow:v,receiveShadow:_,ref:re},A||te.createElement("planeGeometry",null),x||te.createElement("shaderMaterial",{side:Zs,vertexShader:We.vertexShader,fragmentShader:We.fragmentShader})))}),ST=r=>{let e;const t=new Set,n=(c,h)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,g))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c))},u=e=r(n,i,a);return a},zG=r=>r?ST(r):ST,GG=r=>r;function HG(r,e=GG){const t=ml.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return ml.useDebugValue(t),t}const MT=r=>{const e=zG(r),t=n=>HG(e,n);return Object.assign(t,e),t},VG=r=>r?MT(r):MT;let $p=0;const WG=VG(r=>(od.onStart=(e,t,n)=>{r({active:!0,item:e,loaded:t,total:n,progress:(t-$p)/(n-$p)*100})},od.onLoad=()=>{r({active:!1})},od.onError=e=>r(t=>({errors:[...t.errors,e]})),od.onProgress=(e,t,n)=>{t===n&&($p=n),r({active:!0,item:e,loaded:t,total:n,progress:(t-$p)/(n-$p)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function gd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ET(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(t),!0).forEach(function(n){gd(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wT(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}new Le;new Le;function t2(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Js=function r(e,t,n){var i=this;t2(this,r),gd(this,"dot2",function(s,o){return i.x*s+i.y*o}),gd(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=n},jG=[new Js(1,1,0),new Js(-1,1,0),new Js(1,-1,0),new Js(-1,-1,0),new Js(1,0,1),new Js(-1,0,1),new Js(1,0,-1),new Js(-1,0,-1),new Js(0,1,1),new Js(0,-1,1),new Js(0,1,-1),new Js(0,-1,-1)],TT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],CT=new Array(512),bT=new Array(512),XG=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=TT[t]^e&255:n=TT[t]^e>>8&255,CT[t]=CT[t+256]=n,bT[t]=bT[t+256]=jG[n%12]}};XG(0);function JG(r){if(typeof r=="number")r=Math.abs(r);else if(typeof r=="string"){var e=r;r=0;for(var t=0;t<e.length;t++)r=(r+(t+1)*(e.charCodeAt(t)%96))%2147483647}return r===0&&(r=311),r}function RT(r){var e=JG(r);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var YG=function r(e){var t=this;t2(this,r),gd(this,"seed",0),gd(this,"init",function(n){t.seed=n,t.value=RT(n)}),gd(this,"value",RT(this.seed)),this.init(e)},KG=new YG(Math.random()),QG={radius:1,center:[0,0,0]};function qG(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KG,n=ET(ET({},QG),e),i=n.radius,s=n.center,o=0;o<r.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),u=t.value()*2-1,c=t.value()*2-1,h=t.value()*2-1,p=Math.sqrt(u*u+c*c+h*h);u=a*u/p,c=a*c/p,h=a*h/p,r[o]=u*i+s[0],r[o+1]=c*i+s[1],r[o+2]=h*i+s[2]}return r}const ZG=parseInt(Ud.replace(/\D+/g,""));function PT(r,e){if(e===SR)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===Ov||e===Y1){let t=r.getIndex();if(t===null){const o=[],a=r.getAttribute("position");if(a!==void 0){for(let u=0;u<a.count;u++)o.push(u);r.setIndex(o),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(t)if(e===Ov)for(let o=1;o<=n;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}var $G=Object.defineProperty,eH=(r,e,t)=>e in r?$G(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tH=(r,e,t)=>(eH(r,e+"",t),t);class nH{constructor(){tH(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var iH=Object.defineProperty,rH=(r,e,t)=>e in r?iH(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dt=(r,e,t)=>(rH(r,typeof e!="symbol"?e+"":e,t),t);const uv=new wf,BT=new sl,sH=Math.cos(70*(Math.PI/180)),LT=(r,e)=>(r%e+e)%e;let oH=class extends nH{constructor(e,t){super(),Dt(this,"object"),Dt(this,"domElement"),Dt(this,"enabled",!0),Dt(this,"target",new W),Dt(this,"minDistance",0),Dt(this,"maxDistance",1/0),Dt(this,"minZoom",0),Dt(this,"maxZoom",1/0),Dt(this,"minPolarAngle",0),Dt(this,"maxPolarAngle",Math.PI),Dt(this,"minAzimuthAngle",-1/0),Dt(this,"maxAzimuthAngle",1/0),Dt(this,"enableDamping",!1),Dt(this,"dampingFactor",.05),Dt(this,"enableZoom",!0),Dt(this,"zoomSpeed",1),Dt(this,"enableRotate",!0),Dt(this,"rotateSpeed",1),Dt(this,"enablePan",!0),Dt(this,"panSpeed",1),Dt(this,"screenSpacePanning",!0),Dt(this,"keyPanSpeed",7),Dt(this,"zoomToCursor",!1),Dt(this,"autoRotate",!1),Dt(this,"autoRotateSpeed",2),Dt(this,"reverseOrbit",!1),Dt(this,"reverseHorizontalOrbit",!1),Dt(this,"reverseVerticalOrbit",!1),Dt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Dt(this,"mouseButtons",{LEFT:zc.ROTATE,MIDDLE:zc.DOLLY,RIGHT:zc.PAN}),Dt(this,"touches",{ONE:Gc.ROTATE,TWO:Gc.DOLLY_PAN}),Dt(this,"target0"),Dt(this,"position0"),Dt(this,"zoom0"),Dt(this,"_domElementKeyEvents",null),Dt(this,"getPolarAngle"),Dt(this,"getAzimuthalAngle"),Dt(this,"setPolarAngle"),Dt(this,"setAzimuthalAngle"),Dt(this,"getDistance"),Dt(this,"getZoomScale"),Dt(this,"listenToKeyEvents"),Dt(this,"stopListenToKeyEvents"),Dt(this,"saveState"),Dt(this,"reset"),Dt(this,"update"),Dt(this,"connect"),Dt(this,"dispose"),Dt(this,"dollyIn"),Dt(this,"dollyOut"),Dt(this,"getScale"),Dt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=ae=>{let Pe=LT(ae,2*Math.PI),ke=h.phi;ke<0&&(ke+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let He=Math.abs(Pe-ke);2*Math.PI-He<He&&(Pe<ke?Pe+=2*Math.PI:ke+=2*Math.PI),p.phi=Pe-ke,n.update()},this.setAzimuthalAngle=ae=>{let Pe=LT(ae,2*Math.PI),ke=h.theta;ke<0&&(ke+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let He=Math.abs(Pe-ke);2*Math.PI-He<He&&(Pe<ke?Pe+=2*Math.PI:ke+=2*Math.PI),p.theta=Pe-ke,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",je),this._domElementKeyEvents=ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",je),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),u=a.NONE},this.update=(()=>{const ae=new W,Pe=new W(0,1,0),ke=new Ji().setFromUnitVectors(e.up,Pe),He=ke.clone().invert(),St=new W,ce=new Ji,et=2*Math.PI;return function(){const Be=n.object.position;ke.setFromUnitVectors(e.up,Pe),He.copy(ke).invert(),ae.copy(Be).sub(n.target),ae.applyQuaternion(ke),h.setFromVector3(ae),n.autoRotate&&u===a.NONE&&J(q()),n.enableDamping?(h.theta+=p.theta*n.dampingFactor,h.phi+=p.phi*n.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);let Ye=n.minAzimuthAngle,xt=n.maxAzimuthAngle;isFinite(Ye)&&isFinite(xt)&&(Ye<-Math.PI?Ye+=et:Ye>Math.PI&&(Ye-=et),xt<-Math.PI?xt+=et:xt>Math.PI&&(xt-=et),Ye<=xt?h.theta=Math.max(Ye,Math.min(xt,h.theta)):h.theta=h.theta>(Ye+xt)/2?Math.max(Ye,h.theta):Math.min(xt,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(v,n.dampingFactor):n.target.add(v),n.zoomToCursor&&L||n.object.isOrthographicCamera?h.radius=re(h.radius):h.radius=re(h.radius*g),ae.setFromSpherical(h),ae.applyQuaternion(He),Be.copy(n.target).add(ae),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(p.theta*=1-n.dampingFactor,p.phi*=1-n.dampingFactor,v.multiplyScalar(1-n.dampingFactor)):(p.set(0,0,0),v.set(0,0,0));let Ht=!1;if(n.zoomToCursor&&L){let mn=null;if(n.object instanceof jn&&n.object.isPerspectiveCamera){const Tn=ae.length();mn=re(Tn*g);const $t=Tn-mn;n.object.position.addScaledVector(O,$t),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Tn=new W(U.x,U.y,0);Tn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),Ht=!0;const $t=new W(U.x,U.y,0);$t.unproject(n.object),n.object.position.sub($t).add(Tn),n.object.updateMatrixWorld(),mn=ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;mn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(mn).add(n.object.position):(uv.origin.copy(n.object.position),uv.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(uv.direction))<sH?e.lookAt(n.target):(BT.setFromNormalAndCoplanarPoint(n.object.up,n.target),uv.intersectPlane(BT,n.target))))}else n.object instanceof Uo&&n.object.isOrthographicCamera&&(Ht=g!==1,Ht&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix()));return g=1,L=!1,Ht||St.distanceToSquared(n.object.position)>c||8*(1-ce.dot(n.object.quaternion))>c?(n.dispatchEvent(i),St.copy(n.object.position),ce.copy(n.object.quaternion),Ht=!1,!0):!1}})(),this.connect=ae=>{n.domElement=ae,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",nt),n.domElement.addEventListener("pointerdown",en),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var ae,Pe,ke,He,St,ce;n.domElement&&(n.domElement.style.touchAction="auto"),(ae=n.domElement)==null||ae.removeEventListener("contextmenu",nt),(Pe=n.domElement)==null||Pe.removeEventListener("pointerdown",en),(ke=n.domElement)==null||ke.removeEventListener("pointercancel",G),(He=n.domElement)==null||He.removeEventListener("wheel",Ne),(St=n.domElement)==null||St.ownerDocument.removeEventListener("pointermove",Z),(ce=n.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",G),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",je)};const n=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=a.NONE;const c=1e-6,h=new $A,p=new $A;let g=1;const v=new W,_=new Le,x=new Le,A=new Le,S=new Le,C=new Le,E=new Le,R=new Le,B=new Le,I=new Le,O=new W,U=new Le;let L=!1;const N=[],H={};function q(){return 2*Math.PI/60/60*n.autoRotateSpeed}function oe(){return Math.pow(.95,n.zoomSpeed)}function J(ae){n.reverseOrbit||n.reverseHorizontalOrbit?p.theta+=ae:p.theta-=ae}function ie(ae){n.reverseOrbit||n.reverseVerticalOrbit?p.phi+=ae:p.phi-=ae}const se=(()=>{const ae=new W;return function(ke,He){ae.setFromMatrixColumn(He,0),ae.multiplyScalar(-ke),v.add(ae)}})(),le=(()=>{const ae=new W;return function(ke,He){n.screenSpacePanning===!0?ae.setFromMatrixColumn(He,1):(ae.setFromMatrixColumn(He,0),ae.crossVectors(n.object.up,ae)),ae.multiplyScalar(ke),v.add(ae)}})(),Q=(()=>{const ae=new W;return function(ke,He){const St=n.domElement;if(St&&n.object instanceof jn&&n.object.isPerspectiveCamera){const ce=n.object.position;ae.copy(ce).sub(n.target);let et=ae.length();et*=Math.tan(n.object.fov/2*Math.PI/180),se(2*ke*et/St.clientHeight,n.object.matrix),le(2*He*et/St.clientHeight,n.object.matrix)}else St&&n.object instanceof Uo&&n.object.isOrthographicCamera?(se(ke*(n.object.right-n.object.left)/n.object.zoom/St.clientWidth,n.object.matrix),le(He*(n.object.top-n.object.bottom)/n.object.zoom/St.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Y(ae){n.object instanceof jn&&n.object.isPerspectiveCamera||n.object instanceof Uo&&n.object.isOrthographicCamera?g=ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function V(ae){Y(g/ae)}function k(ae){Y(g*ae)}function K(ae){if(!n.zoomToCursor||!n.domElement)return;L=!0;const Pe=n.domElement.getBoundingClientRect(),ke=ae.clientX-Pe.left,He=ae.clientY-Pe.top,St=Pe.width,ce=Pe.height;U.x=ke/St*2-1,U.y=-(He/ce)*2+1,O.set(U.x,U.y,1).unproject(n.object).sub(n.object.position).normalize()}function re(ae){return Math.max(n.minDistance,Math.min(n.maxDistance,ae))}function j(ae){_.set(ae.clientX,ae.clientY)}function Te(ae){K(ae),R.set(ae.clientX,ae.clientY)}function me(ae){S.set(ae.clientX,ae.clientY)}function Re(ae){x.set(ae.clientX,ae.clientY),A.subVectors(x,_).multiplyScalar(n.rotateSpeed);const Pe=n.domElement;Pe&&(J(2*Math.PI*A.x/Pe.clientHeight),ie(2*Math.PI*A.y/Pe.clientHeight)),_.copy(x),n.update()}function Ue(ae){B.set(ae.clientX,ae.clientY),I.subVectors(B,R),I.y>0?V(oe()):I.y<0&&k(oe()),R.copy(B),n.update()}function We(ae){C.set(ae.clientX,ae.clientY),E.subVectors(C,S).multiplyScalar(n.panSpeed),Q(E.x,E.y),S.copy(C),n.update()}function De(ae){K(ae),ae.deltaY<0?k(oe()):ae.deltaY>0&&V(oe()),n.update()}function Oe(ae){let Pe=!1;switch(ae.code){case n.keys.UP:Q(0,n.keyPanSpeed),Pe=!0;break;case n.keys.BOTTOM:Q(0,-n.keyPanSpeed),Pe=!0;break;case n.keys.LEFT:Q(n.keyPanSpeed,0),Pe=!0;break;case n.keys.RIGHT:Q(-n.keyPanSpeed,0),Pe=!0;break}Pe&&(ae.preventDefault(),n.update())}function ne(){if(N.length==1)_.set(N[0].pageX,N[0].pageY);else{const ae=.5*(N[0].pageX+N[1].pageX),Pe=.5*(N[0].pageY+N[1].pageY);_.set(ae,Pe)}}function Ie(){if(N.length==1)S.set(N[0].pageX,N[0].pageY);else{const ae=.5*(N[0].pageX+N[1].pageX),Pe=.5*(N[0].pageY+N[1].pageY);S.set(ae,Pe)}}function Ce(){const ae=N[0].pageX-N[1].pageX,Pe=N[0].pageY-N[1].pageY,ke=Math.sqrt(ae*ae+Pe*Pe);R.set(0,ke)}function Xe(){n.enableZoom&&Ce(),n.enablePan&&Ie()}function Fe(){n.enableZoom&&Ce(),n.enableRotate&&ne()}function lt(ae){if(N.length==1)x.set(ae.pageX,ae.pageY);else{const ke=rn(ae),He=.5*(ae.pageX+ke.x),St=.5*(ae.pageY+ke.y);x.set(He,St)}A.subVectors(x,_).multiplyScalar(n.rotateSpeed);const Pe=n.domElement;Pe&&(J(2*Math.PI*A.x/Pe.clientHeight),ie(2*Math.PI*A.y/Pe.clientHeight)),_.copy(x)}function it(ae){if(N.length==1)C.set(ae.pageX,ae.pageY);else{const Pe=rn(ae),ke=.5*(ae.pageX+Pe.x),He=.5*(ae.pageY+Pe.y);C.set(ke,He)}E.subVectors(C,S).multiplyScalar(n.panSpeed),Q(E.x,E.y),S.copy(C)}function rt(ae){const Pe=rn(ae),ke=ae.pageX-Pe.x,He=ae.pageY-Pe.y,St=Math.sqrt(ke*ke+He*He);B.set(0,St),I.set(0,Math.pow(B.y/R.y,n.zoomSpeed)),V(I.y),R.copy(B)}function _t(ae){n.enableZoom&&rt(ae),n.enablePan&&it(ae)}function It(ae){n.enableZoom&&rt(ae),n.enableRotate&&lt(ae)}function en(ae){var Pe,ke;n.enabled!==!1&&(N.length===0&&((Pe=n.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",Z),(ke=n.domElement)==null||ke.ownerDocument.addEventListener("pointerup",G)),Ct(ae),ae.pointerType==="touch"?mt(ae):ye(ae))}function Z(ae){n.enabled!==!1&&(ae.pointerType==="touch"?Je(ae):Ge(ae))}function G(ae){var Pe,ke,He;qt(ae),N.length===0&&((Pe=n.domElement)==null||Pe.releasePointerCapture(ae.pointerId),(ke=n.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",Z),(He=n.domElement)==null||He.ownerDocument.removeEventListener("pointerup",G)),n.dispatchEvent(o),u=a.NONE}function ye(ae){let Pe;switch(ae.button){case 0:Pe=n.mouseButtons.LEFT;break;case 1:Pe=n.mouseButtons.MIDDLE;break;case 2:Pe=n.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case zc.DOLLY:if(n.enableZoom===!1)return;Te(ae),u=a.DOLLY;break;case zc.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(n.enablePan===!1)return;me(ae),u=a.PAN}else{if(n.enableRotate===!1)return;j(ae),u=a.ROTATE}break;case zc.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(n.enableRotate===!1)return;j(ae),u=a.ROTATE}else{if(n.enablePan===!1)return;me(ae),u=a.PAN}break;default:u=a.NONE}u!==a.NONE&&n.dispatchEvent(s)}function Ge(ae){if(n.enabled!==!1)switch(u){case a.ROTATE:if(n.enableRotate===!1)return;Re(ae);break;case a.DOLLY:if(n.enableZoom===!1)return;Ue(ae);break;case a.PAN:if(n.enablePan===!1)return;We(ae);break}}function Ne(ae){n.enabled===!1||n.enableZoom===!1||u!==a.NONE&&u!==a.ROTATE||(ae.preventDefault(),n.dispatchEvent(s),De(ae),n.dispatchEvent(o))}function je(ae){n.enabled===!1||n.enablePan===!1||Oe(ae)}function mt(ae){switch(Qe(ae),N.length){case 1:switch(n.touches.ONE){case Gc.ROTATE:if(n.enableRotate===!1)return;ne(),u=a.TOUCH_ROTATE;break;case Gc.PAN:if(n.enablePan===!1)return;Ie(),u=a.TOUCH_PAN;break;default:u=a.NONE}break;case 2:switch(n.touches.TWO){case Gc.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Xe(),u=a.TOUCH_DOLLY_PAN;break;case Gc.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Fe(),u=a.TOUCH_DOLLY_ROTATE;break;default:u=a.NONE}break;default:u=a.NONE}u!==a.NONE&&n.dispatchEvent(s)}function Je(ae){switch(Qe(ae),u){case a.TOUCH_ROTATE:if(n.enableRotate===!1)return;lt(ae),n.update();break;case a.TOUCH_PAN:if(n.enablePan===!1)return;it(ae),n.update();break;case a.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;_t(ae),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;It(ae),n.update();break;default:u=a.NONE}}function nt(ae){n.enabled!==!1&&ae.preventDefault()}function Ct(ae){N.push(ae)}function qt(ae){delete H[ae.pointerId];for(let Pe=0;Pe<N.length;Pe++)if(N[Pe].pointerId==ae.pointerId){N.splice(Pe,1);return}}function Qe(ae){let Pe=H[ae.pointerId];Pe===void 0&&(Pe=new Le,H[ae.pointerId]=Pe),Pe.set(ae.pageX,ae.pageY)}function rn(ae){const Pe=ae.pointerId===N[0].pointerId?N[1]:N[0];return H[Pe.pointerId]}this.dollyIn=(ae=oe())=>{k(ae),n.update()},this.dollyOut=(ae=oe())=>{V(ae),n.update()},this.getScale=()=>g,this.setScale=ae=>{Y(ae),n.update()},this.getZoomScale=()=>oe(),t!==void 0&&this.connect(t),this.update()}};function Hv(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let e="";for(let t=0,n=r.length;t<n;t++)e+=String.fromCharCode(r[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const ef="srgb",hl="srgb-linear",DT=3001,aH=3e3;class NS extends lr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new hH(t)}),this.register(function(t){return new dH(t)}),this.register(function(t){return new SH(t)}),this.register(function(t){return new MH(t)}),this.register(function(t){return new wH(t)}),this.register(function(t){return new mH(t)}),this.register(function(t){return new gH(t)}),this.register(function(t){return new vH(t)}),this.register(function(t){return new yH(t)}),this.register(function(t){return new fH(t)}),this.register(function(t){return new _H(t)}),this.register(function(t){return new pH(t)}),this.register(function(t){return new AH(t)}),this.register(function(t){return new xH(t)}),this.register(function(t){return new uH(t)}),this.register(function(t){return new EH(t)}),this.register(function(t){return new TH(t)})}load(e,t,n,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=xu.extractUrlBase(e);o=xu.resolveURL(c,this.path)}else o=xu.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},u=new Hr(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Hv(new Uint8Array(e.slice(0,4)))===n2){try{o[nn.KHR_BINARY_GLTF]=new CH(e)}catch(h){i&&i(h);return}s=JSON.parse(o[nn.KHR_BINARY_GLTF].content)}else s=JSON.parse(Hv(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new zH(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](u);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],p=s.extensionsRequired||[];switch(h){case nn.KHR_MATERIALS_UNLIT:o[h]=new cH;break;case nn.KHR_DRACO_MESH_COMPRESSION:o[h]=new bH(s,this.dracoLoader);break;case nn.KHR_TEXTURE_TRANSFORM:o[h]=new RH;break;case nn.KHR_MESH_QUANTIZATION:o[h]=new PH;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,s){n.parse(e,t,i,s)})}}function lH(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const nn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class uH{constructor(e){this.parser=e,this.name=nn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const s=t.json,u=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const h=new ot(16777215);u.color!==void 0&&h.setRGB(u.color[0],u.color[1],u.color[2],hl);const p=u.range!==void 0?u.range:0;switch(u.type){case"directional":c=new bS(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new CS(h),c.distance=p;break;case"spot":c=new TS(h),c.distance=p,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,c.angle=u.spot.outerConeAngle,c.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return c.position.set(0,0,0),c.decay=2,il(c,u),u.intensity!==void 0&&(c.intensity=u.intensity),c.name=t.createUniqueName(u.name||"light_"+e),i=Promise.resolve(c),t.cache.add(n,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(u){return n._getNodeRef(t.cache,a,u)})}}class cH{constructor(){this.name=nn.KHR_MATERIALS_UNLIT}getMaterialType(){return Cs}extendParams(e,t,n){const i=[];e.color=new ot(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],hl),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",s.baseColorTexture,ef))}return Promise.all(i)}}class fH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class hH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Le(a,a)}return Promise.all(s)}}class dH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class pH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class mH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ot(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],hl)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,ef)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class gH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class vH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ot().setRGB(a[0],a[1],a[2],hl),Promise.all(s)}}class yH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class _H{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ot().setRGB(a[0],a[1],a[2],hl),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,ef)),Promise.all(s)}}class xH{constructor(e){this.parser=e,this.name=nn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class AH{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:no}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class SH{constructor(e){this.parser=e,this.name=nn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class MH{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let u=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(u=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class wH{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let u=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(u=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,u);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class EH{constructor(e){this.name=nn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const u=i.byteOffset||0,c=i.byteLength||0,h=i.count,p=i.byteStride,g=new Uint8Array(a,u,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,p,g,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(h*p);return o.decodeGltfBuffer(new Uint8Array(v),h,p,g,i.mode,i.filter),v})})}else return null}}class TH{constructor(e){this.name=nn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const c of i.primitives)if(c.mode!==qs.TRIANGLES&&c.mode!==qs.TRIANGLE_STRIP&&c.mode!==qs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=n.extensions[this.name].attributes,a=[],u={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(u[c]=h,u[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),p=h.isGroup?h.children:[h],g=c[0].count,v=[];for(const _ of p){const x=new Rt,A=new W,S=new Ji,C=new W(1,1,1),E=new hS(_.geometry,_.material,g);for(let R=0;R<g;R++)u.TRANSLATION&&A.fromBufferAttribute(u.TRANSLATION,R),u.ROTATION&&S.fromBufferAttribute(u.ROTATION,R),u.SCALE&&C.fromBufferAttribute(u.SCALE,R),E.setMatrixAt(R,x.compose(A,S,C));for(const R in u)if(R==="_COLOR_0"){const B=u[R];E.instanceColor=new vf(B.array,B.itemSize,B.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&_.geometry.setAttribute(R,u[R]);un.prototype.copy.call(E,_),this.parser.assignFinalMaterial(E),v.push(E)}return h.isGroup?(h.clear(),h.add(...v),h):v[0]}))}}const n2="glTF",em=12,IT={JSON:1313821514,BIN:5130562};class CH{constructor(e){this.name=nn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,em);if(this.header={magic:Hv(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==n2)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-em,i=new DataView(e,em);let s=0;for(;s<n;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===IT.JSON){const u=new Uint8Array(e,em+s,o);this.content=Hv(u)}else if(a===IT.BIN){const u=em+s;this.body=e.slice(u,u+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class bH{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=nn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},u={},c={};for(const h in o){const p=i1[h]||h.toLowerCase();a[p]=o[h]}for(const h in e.attributes){const p=i1[h]||h.toLowerCase();if(o[h]!==void 0){const g=n.accessors[e.attributes[h]],v=vd[g.componentType];c[p]=v.name,u[p]=g.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(p,g){i.decodeDracoFile(h,function(v){for(const _ in v.attributes){const x=v.attributes[_],A=u[_];A!==void 0&&(x.normalized=A)}p(v)},a,c,hl,g)})})}}class RH{constructor(){this.name=nn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class PH{constructor(){this.name=nn.KHR_MESH_QUANTIZATION}}class i2 extends Hd{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=a*2,c=a*3,h=i-t,p=(n-t)/h,g=p*p,v=g*p,_=e*c,x=_-c,A=-2*v+3*g,S=v-g,C=1-A,E=S-g+p;for(let R=0;R!==a;R++){const B=o[x+R+a],I=o[x+R+u]*h,O=o[_+R+a],U=o[_+R]*h;s[R]=C*B+E*I+A*O+S*U}return s}}const BH=new Ji;class LH extends i2{interpolate_(e,t,n,i){const s=super.interpolate_(e,t,n,i);return BH.fromArray(s).normalize().toArray(s),s}}const qs={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},vd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},FT={9728:oi,9729:Zn,9984:Pm,9985:fy,9986:pd,9987:ma},OT={33071:sr,33648:Ad,10497:Eu},bx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},i1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ZG>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},cu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},DH={CUBICSPLINE:void 0,LINEAR:gf,STEP:Md},Rx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function IH(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new fg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:pa})),r.DefaultMaterial}function Fc(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function il(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function FH(r,e,t){let n=!1,i=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const p=e[c];if(p.POSITION!==void 0&&(n=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(s=!0),n&&i&&s)break}if(!n&&!i&&!s)return Promise.resolve(r);const o=[],a=[],u=[];for(let c=0,h=e.length;c<h;c++){const p=e[c];if(n){const g=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):r.attributes.position;o.push(g)}if(i){const g=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):r.attributes.normal;a.push(g)}if(s){const g=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):r.attributes.color;u.push(g)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(u)]).then(function(c){const h=c[0],p=c[1],g=c[2];return n&&(r.morphAttributes.position=h),i&&(r.morphAttributes.normal=p),s&&(r.morphAttributes.color=g),r.morphTargetsRelative=!0,r})}function OH(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function NH(r){let e;const t=r.extensions&&r.extensions[nn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Px(t.attributes):e=r.indices+":"+Px(r.attributes)+":"+r.mode,r.targets!==void 0)for(let n=0,i=r.targets.length;n<i;n++)e+=":"+Px(r.targets[n]);return e}function Px(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function r1(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function UH(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const kH=new Rt;class zH{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new lH,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||i&&s<98?this.textureLoader=new hg(this.options.manager):this.textureLoader=new bP(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Hr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:n,userData:{}};return Fc(s,a,i),il(a,i),Promise.all(n._invokeAll(function(u){return u.afterRoot&&u.afterRoot(a)})).then(function(){for(const u of a.scenes)u.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,u=o.length;a<u;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),s=(o,a)=>{const u=this.associations.get(o);u!=null&&this.associations.set(a,u);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[nn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){n.load(xu.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=bx[i.type],a=vd[i.componentType],u=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new on(c,o,u))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],u=bx[i.type],c=vd[i.componentType],h=c.BYTES_PER_ELEMENT,p=h*u,g=i.byteOffset||0,v=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,_=i.normalized===!0;let x,A;if(v&&v!==p){const S=Math.floor(g/v),C="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+S+":"+i.count;let E=t.cache.get(C);E||(x=new c(a,S*v,i.count*v/h),E=new sg(x,v/h),t.cache.add(C,E)),A=new Tu(E,u,g%v/h,_)}else a===null?x=new c(i.count*u):x=new c(a,g,i.count*u),A=new on(x,u,_);if(i.sparse!==void 0){const S=bx.SCALAR,C=vd[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,R=i.sparse.values.byteOffset||0,B=new C(o[1],E,i.sparse.count*S),I=new c(o[2],R,i.sparse.count*u);a!==null&&(A=new on(A.array.slice(),A.itemSize,A.normalized));for(let O=0,U=B.length;O<U;O++){const L=B[O];if(A.setX(L,I[O*u]),u>=2&&A.setY(L,I[O*u+1]),u>=3&&A.setZ(L,I[O*u+2]),u>=4&&A.setW(L,I[O*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const u=n.manager.getHandler(o.uri);u!==null&&(a=u)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,n){const i=this,s=this.json,o=s.textures[e],a=s.images[t],u=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];const c=this.loadImageSource(t,n).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const g=(s.samplers||{})[o.sampler]||{};return h.magFilter=FT[g.magFilter]||Zn,h.minFilter=FT[g.minFilter]||ma,h.wrapS=OT[g.wrapS]||Eu,h.wrapT=OT[g.wrapT]||Eu,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[u]=c,c}loadImageSource(e,t){const n=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const o=i.images[e],a=self.URL||self.webkitURL;let u=o.uri||"",c=!1;if(o.bufferView!==void 0)u=n.getDependency("bufferView",o.bufferView).then(function(p){c=!0;const g=new Blob([p],{type:o.mimeType});return u=a.createObjectURL(g),u});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(u).then(function(p){return new Promise(function(g,v){let _=g;t.isImageBitmapLoader===!0&&(_=function(x){const A=new On(x);A.needsUpdate=!0,g(A)}),t.load(xu.resolveURL(p,s.path),_,void 0,v)})}).then(function(p){return c===!0&&a.revokeObjectURL(u),il(p,o),p.userData.mimeType=o.mimeType||UH(o.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),p});return this.sourceCache[e]=h,h}assignTexture(e,t,n,i){const s=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),s.extensions[nn.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[nn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const u=s.associations.get(o);o=s.extensions[nn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,u)}}return i!==void 0&&(typeof i=="number"&&(i=i===DT?ef:hl),"colorSpace"in o?o.colorSpace=i:o.encoding=i===ef?DT:aH),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let u=this.cache.get(a);u||(u=new ag,bi.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(a,u)),n=u}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let u=this.cache.get(a);u||(u=new wr,bi.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,this.cache.add(a,u)),n=u}if(i||s||o){let a="ClonedMaterial:"+n.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let u=this.cache.get(a);u||(u=n.clone(),s&&(u.vertexColors=!0),o&&(u.flatShading=!0),i&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(a,u),this.associations.set(u,this.associations.get(n))),n=u}e.material=n}getMaterialType(){return fg}loadMaterial(e){const t=this,n=this.json,i=this.extensions,s=n.materials[e];let o;const a={},u=s.extensions||{},c=[];if(u[nn.KHR_MATERIALS_UNLIT]){const p=i[nn.KHR_MATERIALS_UNLIT];o=p.getMaterialType(),c.push(p.extendParams(a,s,t))}else{const p=s.pbrMetallicRoughness||{};if(a.color=new ot(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){const g=p.baseColorFactor;a.color.setRGB(g[0],g[1],g[2],hl),a.opacity=g[3]}p.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",p.baseColorTexture,ef)),a.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,a.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),o=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Zs);const h=s.alphaMode||Rx.OPAQUE;if(h===Rx.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===Rx.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Cs&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Le(1,1),s.normalTexture.scale!==void 0)){const p=s.normalTexture.scale;a.normalScale.set(p,p)}if(s.occlusionTexture!==void 0&&o!==Cs&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Cs){const p=s.emissiveFactor;a.emissive=new ot().setRGB(p[0],p[1],p[2],hl)}return s.emissiveTexture!==void 0&&o!==Cs&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,ef)),Promise.all(c).then(function(){const p=new o(a);return s.name&&(p.name=s.name),il(p,s),t.associations.set(p,{materials:e}),s.extensions&&Fc(i,p,s),p})}createUniqueName(e){const t=hn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function s(a){return n[nn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(u){return NT(u,a,t)})}const o=[];for(let a=0,u=e.length;a<u;a++){const c=e[a],h=NH(c),p=i[h];if(p)o.push(p.promise);else{let g;c.extensions&&c.extensions[nn.KHR_DRACO_MESH_COMPRESSION]?g=s(c):g=NT(new Vt,c,t),i[h]={primitive:c,promise:g},o.push(g)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,i=this.extensions,s=n.meshes[e],o=s.primitives,a=[];for(let u=0,c=o.length;u<c;u++){const h=o[u].material===void 0?IH(this.cache):this.getDependency("material",o[u].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(u){const c=u.slice(0,u.length-1),h=u[u.length-1],p=[];for(let v=0,_=h.length;v<_;v++){const x=h[v],A=o[v];let S;const C=c[v];if(A.mode===qs.TRIANGLES||A.mode===qs.TRIANGLE_STRIP||A.mode===qs.TRIANGLE_FAN||A.mode===void 0)S=s.isSkinnedMesh===!0?new fS(x,C):new vi(x,C),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),A.mode===qs.TRIANGLE_STRIP?S.geometry=PT(S.geometry,Y1):A.mode===qs.TRIANGLE_FAN&&(S.geometry=PT(S.geometry,Ov));else if(A.mode===qs.LINES)S=new Ho(x,C);else if(A.mode===qs.LINE_STRIP)S=new vl(x,C);else if(A.mode===qs.LINE_LOOP)S=new dS(x,C);else if(A.mode===qs.POINTS)S=new pS(x,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(S.geometry.morphAttributes).length>0&&OH(S,s),S.name=t.createUniqueName(s.name||"mesh_"+e),il(S,s),A.extensions&&Fc(i,S,A),t.assignFinalMaterial(S),p.push(S)}for(let v=0,_=p.length;v<_;v++)t.associations.set(p[v],{meshes:e,primitives:v});if(p.length===1)return s.extensions&&Fc(i,p[0],s),p[0];const g=new ul;s.extensions&&Fc(i,g,s),t.associations.set(g,{meshes:e});for(let v=0,_=p.length;v<_;v++)g.add(p[v]);return g})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new jn(Z1.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Uo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),il(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let i=0,s=t.joints.length;i<s;i++)n.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(i){const s=i.pop(),o=i,a=[],u=[];for(let c=0,h=o.length;c<h;c++){const p=o[c];if(p){a.push(p);const g=new Rt;s!==null&&g.fromArray(s.array,c*16),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new og(a,u)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],u=[],c=[],h=[];for(let p=0,g=i.channels.length;p<g;p++){const v=i.channels[p],_=i.samplers[v.sampler],x=v.target,A=x.node,S=i.parameters!==void 0?i.parameters[_.input]:_.input,C=i.parameters!==void 0?i.parameters[_.output]:_.output;x.node!==void 0&&(o.push(this.getDependency("node",A)),a.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",C)),c.push(_),h.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(u),Promise.all(c),Promise.all(h)]).then(function(p){const g=p[0],v=p[1],_=p[2],x=p[3],A=p[4],S=[];for(let C=0,E=g.length;C<E;C++){const R=g[C],B=v[C],I=_[C],O=x[C],U=A[C];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const L=n._createAnimationTracks(R,B,I,O,U);if(L)for(let N=0;N<L.length;N++)S.push(L[N])}return new Cd(s,void 0,S)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let u=0,c=i.weights.length;u<c;u++)a.morphTargetInfluences[u]=i.weights[u]}),o})}loadNode(e){const t=this.json,n=this,i=t.nodes[e],s=n._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,h=a.length;c<h;c++)o.push(n.getDependency("node",a[c]));const u=i.skin===void 0?Promise.resolve(null):n.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),u]).then(function(c){const h=c[0],p=c[1],g=c[2];g!==null&&h.traverse(function(v){v.isSkinnedMesh&&v.bind(g,kH)});for(let v=0,_=p.length;v<_;v++)h.add(p[v]);return h})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],u=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return u&&a.push(u),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(s.isBone===!0?h=new _y:c.length>1?h=new ul:c.length===1?h=c[0]:h=new un,h!==c[0])for(let p=0,g=c.length;p<g;p++)h.add(c[p]);if(s.name&&(h.userData.name=s.name,h.name=o),il(h,s),s.extensions&&Fc(n,h,s),s.matrix!==void 0){const p=new Rt;p.fromArray(s.matrix),h.applyMatrix4(p)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,s=new ul;n.name&&(s.name=i.createUniqueName(n.name)),il(s,n),n.extensions&&Fc(t,s,n);const o=n.nodes||[],a=[];for(let u=0,c=o.length;u<c;u++)a.push(i.getDependency("node",o[u]));return Promise.all(a).then(function(u){for(let h=0,p=u.length;h<p;h++)s.add(u[h]);const c=h=>{const p=new Map;for(const[g,v]of i.associations)(g instanceof bi||g instanceof On)&&p.set(g,v);return h.traverse(g=>{const v=i.associations.get(g);v!=null&&p.set(g,v)}),p};return i.associations=c(s),s})}_createAnimationTracks(e,t,n,i,s){const o=[],a=e.name?e.name:e.uuid,u=[];cu[s.path]===cu.weights?e.traverse(function(g){g.morphTargetInfluences&&u.push(g.name?g.name:g.uuid)}):u.push(a);let c;switch(cu[s.path]){case cu.weights:c=_f;break;case cu.rotation:c=Cu;break;case cu.position:case cu.scale:c=xf;break;default:switch(n.itemSize){case 1:c=_f;break;case 2:case 3:default:c=xf;break}break}const h=i.interpolation!==void 0?DH[i.interpolation]:gf,p=this._getArrayFromAccessor(n);for(let g=0,v=u.length;g<v;g++){const _=new c(u[g]+"."+cu[s.path],t.array,p,h);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(_),o.push(_)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=r1(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*n;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const i=this instanceof Cu?LH:i2;return new i(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function GH(r,e,t){const n=e.attributes,i=new Sr;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],u=a.min,c=a.max;if(u!==void 0&&c!==void 0){if(i.set(new W(u[0],u[1],u[2]),new W(c[0],c[1],c[2])),a.normalized){const h=r1(vd[a.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new W,u=new W;for(let c=0,h=s.length;c<h;c++){const p=s[c];if(p.POSITION!==void 0){const g=t.json.accessors[p.POSITION],v=g.min,_=g.max;if(v!==void 0&&_!==void 0){if(u.setX(Math.max(Math.abs(v[0]),Math.abs(_[0]))),u.setY(Math.max(Math.abs(v[1]),Math.abs(_[1]))),u.setZ(Math.max(Math.abs(v[2]),Math.abs(_[2]))),g.normalized){const x=r1(vd[g.componentType]);u.multiplyScalar(x)}a.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}r.boundingBox=i;const o=new or;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=o}function NT(r,e,t){const n=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(u){r.setAttribute(a,u)})}for(const o in n){const a=i1[o]||o.toLowerCase();a in r.attributes||i.push(s(n[o],a))}if(e.indices!==void 0&&!r.index){const o=t.getDependency("accessor",e.indices).then(function(a){r.setIndex(a)});i.push(o)}return il(r,e),GH(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?FH(r,e.targets,t):r})}class HH extends Vt{constructor(e,t,n,i){super();const s=[],o=[],a=[],u=new W,c=new Rt;c.makeRotationFromEuler(n),c.setPosition(t);const h=new Rt;h.copy(c).invert(),p(),this.setAttribute("position",new yt(s,3)),this.setAttribute("normal",new yt(o,3)),this.setAttribute("uv",new yt(a,2));function p(){let x,A=[];const S=new W,C=new W;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const E=e.geometry,R=E.attributes.position,B=E.attributes.normal;if(E.index!==null){const I=E.index;for(x=0;x<I.count;x++)S.fromBufferAttribute(R,I.getX(x)),C.fromBufferAttribute(B,I.getX(x)),g(A,S,C)}else for(x=0;x<R.count;x++)S.fromBufferAttribute(R,x),C.fromBufferAttribute(B,x),g(A,S,C);for(A=v(A,u.set(1,0,0)),A=v(A,u.set(-1,0,0)),A=v(A,u.set(0,1,0)),A=v(A,u.set(0,-1,0)),A=v(A,u.set(0,0,1)),A=v(A,u.set(0,0,-1)),x=0;x<A.length;x++){const I=A[x];a.push(.5+I.position.x/i.x,.5+I.position.y/i.y),I.position.applyMatrix4(c),s.push(I.position.x,I.position.y,I.position.z),o.push(I.normal.x,I.normal.y,I.normal.z)}}function g(x,A,S){A.applyMatrix4(e.matrixWorld),A.applyMatrix4(h),S.transformDirection(e.matrixWorld),x.push(new UT(A.clone(),S.clone()))}function v(x,A){const S=[],C=.5*Math.abs(i.dot(A));for(let E=0;E<x.length;E+=3){let R,B,I,O=0,U,L,N,H;const q=x[E+0].position.dot(A)-C,oe=x[E+1].position.dot(A)-C,J=x[E+2].position.dot(A)-C;switch(R=q>0,B=oe>0,I=J>0,O=(R?1:0)+(B?1:0)+(I?1:0),O){case 0:{S.push(x[E]),S.push(x[E+1]),S.push(x[E+2]);break}case 1:{if(R&&(U=x[E+1],L=x[E+2],N=_(x[E],U,A,C),H=_(x[E],L,A,C)),B){U=x[E],L=x[E+2],N=_(x[E+1],U,A,C),H=_(x[E+1],L,A,C),S.push(N),S.push(L.clone()),S.push(U.clone()),S.push(L.clone()),S.push(N.clone()),S.push(H);break}I&&(U=x[E],L=x[E+1],N=_(x[E+2],U,A,C),H=_(x[E+2],L,A,C)),S.push(U.clone()),S.push(L.clone()),S.push(N),S.push(H),S.push(N.clone()),S.push(L.clone());break}case 2:{R||(U=x[E].clone(),L=_(U,x[E+1],A,C),N=_(U,x[E+2],A,C),S.push(U),S.push(L),S.push(N)),B||(U=x[E+1].clone(),L=_(U,x[E+2],A,C),N=_(U,x[E],A,C),S.push(U),S.push(L),S.push(N)),I||(U=x[E+2].clone(),L=_(U,x[E],A,C),N=_(U,x[E+1],A,C),S.push(U),S.push(L),S.push(N));break}}}return S}function _(x,A,S,C){const E=x.position.dot(S)-C,R=A.position.dot(S)-C,B=E/(E-R);return new UT(new W(x.position.x+B*(A.position.x-x.position.x),x.position.y+B*(A.position.y-x.position.y),x.position.z+B*(A.position.z-x.position.z)),new W(x.normal.x+B*(A.normal.x-x.normal.x),x.normal.y+B*(A.normal.y-x.normal.y),x.normal.z+B*(A.normal.z-x.normal.z)))}}}class UT{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const Bx=new WeakMap;let VH=class extends lr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const s=new Hr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const c=t.attributeTypes[u];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=c.name)}const n=JSON.stringify(t);if(Bx.has(e)){const u=Bx.get(e);if(u.key===n)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(u=>(i=u,new Promise((c,h)=>{i._callbacks[s]={resolve:c,reject:h},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Bx.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Vt;e.index&&t.setIndex(new on(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new on(o,a))}return t}_loadLibrary(e,t){const n=new Hr(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,s)=>{n.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=WH.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}};function WH(){let r,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":r=a.decoderConfig,e=new Promise(function(h){r.onModuleLoaded=function(p){h({draco:p})},DracoDecoderModule(r)});break;case"decode":const u=a.buffer,c=a.taskConfig;e.then(h=>{const p=h.draco,g=new p.Decoder,v=new p.DecoderBuffer;v.Init(new Int8Array(u),u.byteLength);try{const _=t(p,g,v,c),x=_.attributes.map(A=>A.array.buffer);_.index&&x.push(_.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:_},x)}catch(_){console.error(_),self.postMessage({type:"error",id:a.id,error:_.message})}finally{p.destroy(v),p.destroy(g)}});break}};function t(o,a,u,c){const h=c.attributeIDs,p=c.attributeTypes;let g,v;const _=a.GetEncodedGeometryType(u);if(_===o.TRIANGULAR_MESH)g=new o.Mesh,v=a.DecodeBufferToMesh(u,g);else if(_===o.POINT_CLOUD)g=new o.PointCloud,v=a.DecodeBufferToPointCloud(u,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const x={index:null,attributes:[]};for(const A in h){const S=self[p[A]];let C,E;if(c.useUniqueIDs)E=h[A],C=a.GetAttributeByUniqueId(g,E);else{if(E=a.GetAttributeId(g,o[h[A]]),E===-1)continue;C=a.GetAttribute(g,E)}x.attributes.push(i(o,a,g,A,S,C))}return _===o.TRIANGULAR_MESH&&(x.index=n(o,a,g)),o.destroy(g),x}function n(o,a,u){const h=u.num_faces()*3,p=h*4,g=o._malloc(p);a.GetTrianglesUInt32Array(u,p,g);const v=new Uint32Array(o.HEAPF32.buffer,g,h).slice();return o._free(g),{array:v,itemSize:1}}function i(o,a,u,c,h,p){const g=p.num_components(),_=u.num_points()*g,x=_*h.BYTES_PER_ELEMENT,A=s(o,h),S=o._malloc(x);a.GetAttributeDataArrayForAllPoints(u,p,A,x,S);const C=new h(o.HEAPF32.buffer,S,_).slice();return o._free(S),{name:c,array:C,itemSize:g}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let cv;const Lx=()=>{if(cv)return cv;const r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=r;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(p=>{s=p.instance,s.exports.__wasm_call_ctors()});function a(p){const g=new Uint8Array(p.length);for(let _=0;_<p.length;++_){const x=p.charCodeAt(_);g[_]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let v=0;for(let _=0;_<p.length;++_)g[v++]=g[_]<60?n[g[_]]:(g[_]-60)*64+g[++_];return g.buffer.slice(0,v)}function u(p,g,v,_,x,A){const S=s.exports.sbrk,C=v+3&-4,E=S(C*_),R=S(x.length),B=new Uint8Array(s.exports.memory.buffer);B.set(x,R);const I=p(E,v,_,R,x.length);if(I===0&&A&&A(E,C,_),g.set(B.subarray(E,E+v*_)),S(E-S(0)),I!==0)throw new Error(`Malformed buffer data: ${I}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return cv={ready:o,supported:!0,decodeVertexBuffer(p,g,v,_,x){u(s.exports.meshopt_decodeVertexBuffer,p,g,v,_,s.exports[c[x]])},decodeIndexBuffer(p,g,v,_){u(s.exports.meshopt_decodeIndexBuffer,p,g,v,_)},decodeIndexSequence(p,g,v,_){u(s.exports.meshopt_decodeIndexSequence,p,g,v,_)},decodeGltfBuffer(p,g,v,_,x,A){u(s.exports[h[x]],p,g,v,_,s.exports[c[A]])}},cv},Dx=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function US(r,e){const t=Ms(s=>s.gl),n=Fu(hg,Dx(r)?Object.values(r):r);return te.useLayoutEffect(()=>{e?.(n)},[e]),te.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(n)?s=n:n instanceof On?s=[n]:Dx(n)&&(s=Object.values(n)),s.forEach(o=>{o instanceof On&&t.initTexture(o)})}},[t,n]),te.useMemo(()=>{if(Dx(r)){const s={};let o=0;for(const a in r)s[a]=n[o++];return s}else return n},[r,n])}US.preload=r=>Fu.preload(hg,r);US.clear=r=>Fu.clear(hg,r);const jH=()=>parseInt(Ud.replace(/\D+/g,"")),r2=jH();function XH(r){return Array.isArray(r)}function Ix(r=[0,0,0]){return XH(r)?r:r instanceof W||r instanceof Ef?[r.x,r.y,r.z]:[r,r,r]}const JH=te.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:n=-10,map:i,mesh:s,children:o,position:a,rotation:u,scale:c,...h},p){const g=te.useRef(null);te.useImperativeHandle(p,()=>g.current);const v=te.useRef(null),_=te.useRef({position:new W,rotation:new Ef,scale:new W(1,1,1)});return te.useLayoutEffect(()=>{const x=s?.current||g.current.parent,A=g.current;if(!(x instanceof vi))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(x){aa(_.current,{position:a,scale:c});const S=x.matrixWorld.clone();if(x.matrixWorld.identity(),!u||typeof u=="number"){const C=new un;C.position.copy(_.current.position);const E=x.geometry.attributes.position.array;x.geometry.attributes.normal===void 0&&x.geometry.computeVertexNormals();const R=x.geometry.attributes.normal.array;let B=1/0;new W;let I=new W;const O=C.position.x,U=C.position.y,L=C.position.z,N=E.length;let H=-1;for(let q=0;q<N;q+=3){const oe=E[q],J=E[q+1],ie=E[q+2],se=oe-O,le=J-U,Q=ie-L,Y=se*se+le*le+Q*Q;Y<B&&(B=Y,H=q)}I.fromArray(R,H),C.lookAt(C.position.clone().add(I)),C.rotateZ(Math.PI),C.rotateY(Math.PI),typeof u=="number"&&C.rotateZ(u),aa(_.current,{rotation:C.rotation})}else aa(_.current,{rotation:u});return A.geometry=new HH(x,_.current.position,_.current.rotation,_.current.scale),x.matrixWorld=S,()=>{A.geometry.dispose()}}},[s,...Ix(a),...Ix(c),...Ix(u)]),te.useLayoutEffect(()=>{v.current&&(aa(v.current,_.current),v.current.traverse(x=>x.raycast=()=>null))},[e]),te.createElement("mesh",va({ref:g,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":n,"material-depthTest":t,"material-map":i},h),o,e&&te.createElement("mesh",{ref:v},te.createElement("boxGeometry",null),te.createElement("meshNormalMaterial",{wireframe:!0}),te.createElement("axesHelper",null)))});let fv=null,s2="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function o2(r=!0,e=!0,t){return n=>{t&&t(n),r&&(fv||(fv=new VH),fv.setDecoderPath(typeof r=="string"?r:s2),n.setDRACOLoader(fv)),e&&n.setMeshoptDecoder(typeof Lx=="function"?Lx():Lx)}}const mg=(r,e,t,n)=>Fu(NS,r,o2(e,t,n));mg.preload=(r,e,t,n)=>Fu.preload(NS,r,o2(e,t,n));mg.clear=r=>Fu.clear(NS,r);mg.setDecoderPath=r=>{s2=r};const kS=te.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:u,...c},h)=>{const p=Ms(I=>I.invalidate),g=Ms(I=>I.camera),v=Ms(I=>I.gl),_=Ms(I=>I.events),x=Ms(I=>I.setEvents),A=Ms(I=>I.set),S=Ms(I=>I.get),C=Ms(I=>I.performance),E=e||g,R=n||_.connected||v.domElement,B=te.useMemo(()=>new oH(E),[E]);return Vd(()=>{B.enabled&&B.update()},-1),te.useEffect(()=>(s&&B.connect(s===!0?R:s),B.connect(R),()=>void B.dispose()),[s,R,t,B,p]),te.useEffect(()=>{const I=L=>{p(),t&&C.regress(),o&&o(L)},O=L=>{a&&a(L)},U=L=>{u&&u(L)};return B.addEventListener("change",I),B.addEventListener("start",O),B.addEventListener("end",U),()=>{B.removeEventListener("start",O),B.removeEventListener("end",U),B.removeEventListener("change",I)}},[o,a,u,B,p,x]),te.useEffect(()=>{if(r){const I=S().controls;return A({controls:B}),()=>A({controls:I})}},[r,B]),te.createElement("primitive",va({ref:h,object:B,enableDamping:i},c))});var Fx={exports:{}},Ox,kT;function YH(){if(kT)return Ox;kT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ox=r,Ox}var Nx,zT;function KH(){if(zT)return Nx;zT=1;var r=YH();function e(){}function t(){}return t.resetWarningCache=e,Nx=function(){function n(o,a,u,c,h,p){if(p!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Nx}var GT;function a2(){return GT||(GT=1,Fx.exports=KH()()),Fx.exports}const Ux=r2>=154?"opaque_fragment":"output_fragment";class QH extends ag{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:i}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${Ux}>`,`
        ${i?`#include <${Ux}>`:`#extension GL_OES_standard_derivatives : enable
#include <${Ux}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${r2>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const qH=te.forwardRef((r,e)=>{const[t]=te.useState(()=>new QH(null));return te.createElement("primitive",va({},r,{object:t,ref:e,attach:"material"}))}),ZH=te.forwardRef(({children:r,enabled:e=!0,speed:t=1,rotationIntensity:n=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},u)=>{const c=te.useRef(null);te.useImperativeHandle(u,()=>c.current,[]);const h=te.useRef(Math.random()*1e4);return Vd(p=>{var g,v;if(!e||t===0)return;o&&p.invalidate();const _=h.current+p.clock.getElapsedTime();c.current.rotation.x=Math.cos(_/4*t)/8*n,c.current.rotation.y=Math.sin(_/4*t)/8*n,c.current.rotation.z=Math.sin(_/4*t)/20*n;let x=Math.sin(_/4*t)/10;x=Z1.mapLinear(x,-.1,.1,(g=s?.[0])!==null&&g!==void 0?g:-.1,(v=s?.[1])!==null&&v!==void 0?v:.1),c.current.position.y=x*i,c.current.updateMatrix()}),te.createElement("group",a,te.createElement("group",{ref:c,matrixAutoUpdate:!1},r))});let Oc,tm;const $H=te.createContext(null),HT=new Rt,VT=new W,e4=te.forwardRef(({children:r,range:e,limit:t=1e3,...n},i)=>{const s=te.useRef(null);te.useImperativeHandle(i,()=>s.current,[]);const[o,a]=te.useState([]),[[u,c,h]]=te.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);te.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Vd(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),HT.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Oc=0;Oc<o.length;Oc++)tm=o[Oc].current,tm.getWorldPosition(VT).applyMatrix4(HT),VT.toArray(u,Oc*3),s.current.geometry.attributes.position.needsUpdate=!0,tm.matrixWorldNeedsUpdate=!0,tm.color.toArray(c,Oc*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([tm.size],Oc),s.current.geometry.attributes.size.needsUpdate=!0});const p=te.useMemo(()=>({getParent:()=>s,subscribe:g=>(a(v=>[...v,g]),()=>a(v=>v.filter(_=>_.current!==g.current)))}),[]);return te.createElement("points",va({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},n),te.createElement("bufferGeometry",null,te.createElement("bufferAttribute",{attach:"attributes-position",count:u.length/3,array:u,itemSize:3,usage:sf}),te.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:sf}),te.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:sf})),te.createElement($H.Provider,{value:p},r))}),t4=te.forwardRef(({children:r,positions:e,colors:t,sizes:n,stride:i=3,...s},o)=>{const a=te.useRef(null);return te.useImperativeHandle(o,()=>a.current,[]),Vd(()=>{const u=a.current.geometry.attributes;u.position.needsUpdate=!0,t&&(u.color.needsUpdate=!0),n&&(u.size.needsUpdate=!0)}),te.createElement("points",va({ref:a},s),te.createElement("bufferGeometry",null,te.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:sf}),t&&te.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/i,array:t,itemSize:3,usage:sf}),n&&te.createElement("bufferAttribute",{attach:"attributes-size",count:n.length/i,array:n,itemSize:1,usage:sf})),r)}),n4=te.forwardRef((r,e)=>r.positions instanceof Float32Array?te.createElement(t4,va({},r,{ref:e})):te.createElement(e4,va({},r,{ref:e})));function Ny({all:r,scene:e,camera:t}){const n=Ms(({gl:o})=>o),i=Ms(({camera:o})=>o),s=Ms(({scene:o})=>o);return te.useLayoutEffect(()=>{const o=[];r&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),n.compile(e||s,t||i);const a=new rS(128);new iS(.01,1e5,a).update(n,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const kx=new WeakMap;class l2 extends lr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const s=new Hr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.parse(o,t,i)},n,i)}parse(e,t,n){this.decodeDracoFile(e,t,null,null,mi).catch(n)}decodeDracoFile(e,t,n,i,s=ko){const o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:s};return this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){const n=JSON.stringify(t);if(kx.has(e)){const u=kx.get(e);if(u.key===n)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(u=>(i=u,new Promise((c,h)=>{i._callbacks[s]={resolve:c,reject:h},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),kx.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Vt;e.index&&t.setIndex(new on(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],s=i.name,o=i.array,a=i.itemSize,u=new on(o,a);s==="color"&&(this._assignVertexColorSpace(u,i.vertexColorSpace),u.normalized=!(o instanceof Float32Array)),t.setAttribute(s,u)}return t}_assignVertexColorSpace(e,t){if(t!==mi)return;const n=new ot;for(let i=0,s=e.count;i<s;i++)n.fromBufferAttribute(e,i).convertSRGBToLinear(),e.setXYZ(i,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new Hr(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,s)=>{n.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=i4.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function i4(){let r,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":r=a.decoderConfig,e=new Promise(function(h){r.onModuleLoaded=function(p){h({draco:p})},DracoDecoderModule(r)});break;case"decode":const u=a.buffer,c=a.taskConfig;e.then(h=>{const p=h.draco,g=new p.Decoder;try{const v=t(p,g,new Int8Array(u),c),_=v.attributes.map(x=>x.array.buffer);v.index&&_.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},_)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{p.destroy(g)}});break}};function t(o,a,u,c){const h=c.attributeIDs,p=c.attributeTypes;let g,v;const _=a.GetEncodedGeometryType(u);if(_===o.TRIANGULAR_MESH)g=new o.Mesh,v=a.DecodeArrayToMesh(u,u.byteLength,g);else if(_===o.POINT_CLOUD)g=new o.PointCloud,v=a.DecodeArrayToPointCloud(u,u.byteLength,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const x={index:null,attributes:[]};for(const A in h){const S=self[p[A]];let C,E;if(c.useUniqueIDs)E=h[A],C=a.GetAttributeByUniqueId(g,E);else{if(E=a.GetAttributeId(g,o[h[A]]),E===-1)continue;C=a.GetAttribute(g,E)}const R=i(o,a,g,A,S,C);A==="color"&&(R.vertexColorSpace=c.vertexColorSpace),x.attributes.push(R)}return _===o.TRIANGULAR_MESH&&(x.index=n(o,a,g)),o.destroy(g),x}function n(o,a,u){const h=u.num_faces()*3,p=h*4,g=o._malloc(p);a.GetTrianglesUInt32Array(u,p,g);const v=new Uint32Array(o.HEAPF32.buffer,g,h).slice();return o._free(g),{array:v,itemSize:1}}function i(o,a,u,c,h,p){const g=p.num_components(),_=u.num_points()*g,x=_*h.BYTES_PER_ELEMENT,A=s(o,h),S=o._malloc(x);a.GetAttributeDataArrayForAllPoints(u,p,A,x,S);const C=new h(o.HEAPF32.buffer,S,_).slice();return o._free(S),{name:c,array:C,itemSize:g}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const zS=()=>{const{progress:r}=WG(),e={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},t={fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40};return pe.jsxs(kG,{as:"div",center:!0,style:e,children:[pe.jsx("span",{className:"canvas-loader"}),pe.jsxs("p",{style:t,children:[r.toFixed(2),"%"]})]})},r4=()=>{const{scene:r}=mg("./planet/scene.gltf",void 0,e=>{const t=new l2;e.setDRACOLoader(t)});return pe.jsx("primitive",{object:r,scale:2.5,"position-y":0,"rotation-y":0})},s4=()=>pe.jsxs(Oy,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},shadows:!0,children:[pe.jsx(kS,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),pe.jsx(te.Suspense,{fallback:pe.jsx(zS,{}),children:pe.jsx(r4,{})}),pe.jsx(Ny,{all:!0})]}),o4=ml.memo(({iconUrl:r})=>{const[e]=US([r]);return pe.jsxs(ZH,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[pe.jsx("ambientLight",{intensity:.25}),pe.jsx("directionalLight",{position:[0,0,.05]}),pe.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[pe.jsx("icosahedronGeometry",{args:[1,1]}),pe.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),pe.jsx(JH,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})}),a4=({icon:r})=>pe.jsxs(Oy,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[pe.jsxs(te.Suspense,{fallback:pe.jsx(zS,{}),children:[pe.jsx(kS,{enableZoom:!1}),pe.jsx(o4,{iconUrl:r})]}),pe.jsx(Ny,{all:!0})]}),l4=({isMobile:r})=>{const{scene:e}=mg("./desktop_pc/scene.gltf",void 0,t=>{const n=new l2;t.setDRACOLoader(n)});return pe.jsxs("mesh",{children:[pe.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),pe.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),pe.jsx("pointLight",{intensity:1}),pe.jsx("primitive",{object:e,scale:r?.7:.75,position:r?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},u4=ml.memo(l4),c4=()=>{const[r,e]=te.useState(!1);return te.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)"),n=i=>{e(i.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[]),pe.jsxs(Oy,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[pe.jsxs(te.Suspense,{fallback:pe.jsx(zS,{}),children:[pe.jsx(kS,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),pe.jsx(u4,{isMobile:r})]}),pe.jsx(Ny,{all:!0})]})},f4=1500,h4=()=>{const r=te.useRef({rotation:{x:0,y:0,z:Math.PI/4}}),e=qG(new Float32Array(f4*3),{radius:1.2});return Vd((t,n)=>{r.current.rotation.x-=n/10,r.current.rotation.y-=n/15}),pe.jsx("group",{rotation:[0,0,Math.PI/4],children:pe.jsx(n4,{ref:r,positions:e,stride:3,frustumCulled:!0,children:pe.jsx(qH,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},d4=()=>pe.jsx("div",{className:"stars-canvas-container",children:pe.jsxs(Oy,{camera:{position:[0,0,1]},children:[pe.jsx(te.Suspense,{fallback:null,children:pe.jsx(h4,{})}),pe.jsx(Ny,{all:!0})]})}),u2=te.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),Uy=te.createContext({}),GS=te.createContext(null),ky=typeof document<"u",p4=ky?te.useLayoutEffect:te.useEffect,c2=te.createContext({strict:!1}),HS=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),m4="framerAppearId",f2="data-"+HS(m4);function g4(r,e,t,n){const{visualElement:i}=te.useContext(Uy),s=te.useContext(c2),o=te.useContext(GS),a=te.useContext(u2).reducedMotion,u=te.useRef();n=n||s.renderer,!u.current&&n&&(u.current=n(r,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=u.current;te.useInsertionEffect(()=>{c&&c.update(t,o)});const h=te.useRef(!!(t[f2]&&!window.HandoffComplete));return p4(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),te.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function ld(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function v4(r,e,t){return te.useCallback(n=>{n&&r.mount&&r.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):ld(t)&&(t.current=n))},[e])}function Hm(r){return typeof r=="string"||Array.isArray(r)}function zy(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const VS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WS=["initial",...VS];function Gy(r){return zy(r.animate)||WS.some(e=>Hm(r[e]))}function h2(r){return!!(Gy(r)||r.variants)}function y4(r,e){if(Gy(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Hm(t)?t:void 0,animate:Hm(n)?n:void 0}}return r.inherit!==!1?e:{}}function _4(r){const{initial:e,animate:t}=y4(r,te.useContext(Uy));return te.useMemo(()=>({initial:e,animate:t}),[WT(e),WT(t)])}function WT(r){return Array.isArray(r)?r.join(" "):r}const jT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vm={};for(const r in jT)Vm[r]={isEnabled:e=>jT[r].some(t=>!!e[t])};function x4(r){for(const e in r)Vm[e]={...Vm[e],...r[e]}}const d2=te.createContext({}),p2=te.createContext({}),A4=Symbol.for("motionComponentSymbol");function S4({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){r&&x4(r);function s(a,u){let c;const h={...te.useContext(u2),...a,layoutId:M4(a)},{isStatic:p}=h,g=_4(a),v=n(a,p);if(!p&&ky){g.visualElement=g4(i,v,h,e);const _=te.useContext(p2),x=te.useContext(c2).strict;g.visualElement&&(c=g.visualElement.loadFeatures(h,x,r,_))}return te.createElement(Uy.Provider,{value:g},c&&g.visualElement?te.createElement(c,{visualElement:g.visualElement,...h}):null,t(i,a,v4(v,g.visualElement,u),v,p,g.visualElement))}const o=te.forwardRef(s);return o[A4]=i,o}function M4({layoutId:r}){const e=te.useContext(d2).id;return e&&r!==void 0?e+"-"+r:r}function w4(r){function e(n,i={}){return S4(r(n,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const E4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jS(r){return typeof r!="string"||r.includes("-")?!1:!!(E4.indexOf(r)>-1||/[A-Z]/.test(r))}const Vv={};function T4(r){Object.assign(Vv,r)}const gg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rf=new Set(gg);function m2(r,{layout:e,layoutId:t}){return Rf.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!Vv[r]||r==="opacity")}const ls=r=>!!(r&&r.getVelocity),C4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b4=gg.length;function R4(r,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,i){let s="";for(let o=0;o<b4;o++){const a=gg[o];if(r[a]!==void 0){const u=C4[a]||a;s+=`${u}(${r[a]}) `}}return e&&!r.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(r,n?"":s):t&&n&&(s="none"),s}const g2=r=>e=>typeof e=="string"&&e.startsWith(r),v2=g2("--"),s1=g2("var(--"),P4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,B4=(r,e)=>e&&typeof r=="number"?e.transform(r):r,bu=(r,e,t)=>Math.min(Math.max(t,r),e),Pf={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},_m={...Pf,transform:r=>bu(0,1,r)},hv={...Pf,default:1},xm=r=>Math.round(r*1e5)/1e5,Hy=/(-)?([\d]*\.?[\d])+/g,y2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,L4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vg(r){return typeof r=="string"}const yg=r=>({test:e=>vg(e)&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),fu=yg("deg"),da=yg("%"),Ot=yg("px"),D4=yg("vh"),I4=yg("vw"),XT={...da,parse:r=>da.parse(r)/100,transform:r=>da.transform(r*100)},JT={...Pf,transform:Math.round},_2={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,size:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,rotate:fu,rotateX:fu,rotateY:fu,rotateZ:fu,scale:hv,scaleX:hv,scaleY:hv,scaleZ:hv,skew:fu,skewX:fu,skewY:fu,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:_m,originX:XT,originY:XT,originZ:Ot,zIndex:JT,fillOpacity:_m,strokeOpacity:_m,numOctaves:JT};function XS(r,e,t,n){const{style:i,vars:s,transform:o,transformOrigin:a}=r;let u=!1,c=!1,h=!0;for(const p in e){const g=e[p];if(v2(p)){s[p]=g;continue}const v=_2[p],_=B4(g,v);if(Rf.has(p)){if(u=!0,o[p]=_,!h)continue;g!==(v.default||0)&&(h=!1)}else p.startsWith("origin")?(c=!0,a[p]=_):i[p]=_}if(e.transform||(u||n?i.transform=R4(r.transform,t,h,n):i.transform&&(i.transform="none")),c){const{originX:p="50%",originY:g="50%",originZ:v=0}=a;i.transformOrigin=`${p} ${g} ${v}`}}const JS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function x2(r,e,t){for(const n in e)!ls(e[n])&&!m2(n,t)&&(r[n]=e[n])}function F4({transformTemplate:r},e,t){return te.useMemo(()=>{const n=JS();return XS(n,e,{enableHardwareAcceleration:!t},r),Object.assign({},n.vars,n.style)},[e])}function O4(r,e,t){const n=r.style||{},i={};return x2(i,n,r),Object.assign(i,F4(r,e,t)),r.transformValues?r.transformValues(i):i}function N4(r,e,t){const n={},i=O4(r,e,t);return r.drag&&r.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(n.tabIndex=0),n.style=i,n}const U4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wv(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||U4.has(r)}let A2=r=>!Wv(r);function k4(r){r&&(A2=e=>e.startsWith("on")?!Wv(e):r(e))}try{k4(require("@emotion/is-prop-valid").default)}catch{}function z4(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(A2(i)||t===!0&&Wv(i)||!e&&!Wv(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function YT(r,e,t){return typeof r=="string"?r:Ot.transform(e+t*r)}function G4(r,e,t){const n=YT(e,r.x,r.width),i=YT(t,r.y,r.height);return`${n} ${i}`}const H4={offset:"stroke-dashoffset",array:"stroke-dasharray"},V4={offset:"strokeDashoffset",array:"strokeDasharray"};function W4(r,e,t=1,n=0,i=!0){r.pathLength=1;const s=i?H4:V4;r[s.offset]=Ot.transform(-n);const o=Ot.transform(e),a=Ot.transform(t);r[s.array]=`${o} ${a}`}function YS(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,p,g){if(XS(r,c,h,g),p){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:v,style:_,dimensions:x}=r;v.transform&&(x&&(_.transform=v.transform),delete v.transform),x&&(i!==void 0||s!==void 0||_.transform)&&(_.transformOrigin=G4(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),n!==void 0&&(v.scale=n),o!==void 0&&W4(v,o,a,u,!1)}const S2=()=>({...JS(),attrs:{}}),KS=r=>typeof r=="string"&&r.toLowerCase()==="svg";function j4(r,e,t,n){const i=te.useMemo(()=>{const s=S2();return YS(s,e,{enableHardwareAcceleration:!1},KS(n),r.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(r.style){const s={};x2(s,r.style,r),i.style={...s,...i.style}}return i}function X4(r=!1){return(t,n,i,{latestValues:s},o)=>{const u=(jS(t)?j4:N4)(n,s,o,t),h={...z4(n,typeof t=="string",r),...u,ref:i},{children:p}=n,g=te.useMemo(()=>ls(p)?p.get():p,[p]);return te.createElement(t,{...h,children:g})}}function M2(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const s in t)r.style.setProperty(s,t[s])}const w2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E2(r,e,t,n){M2(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(w2.has(i)?i:HS(i),e.attrs[i])}function QS(r,e){const{style:t}=r,n={};for(const i in t)(ls(t[i])||e.style&&ls(e.style[i])||m2(i,r))&&(n[i]=t[i]);return n}function T2(r,e){const t=QS(r,e);for(const n in r)if(ls(r[n])||ls(e[n])){const i=gg.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;t[i]=r[n]}return t}function qS(r,e,t,n={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),e}function J4(r){const e=te.useRef(null);return e.current===null&&(e.current=r()),e.current}const jv=r=>Array.isArray(r),Y4=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),K4=r=>jv(r)?r[r.length-1]||0:r;function Tv(r){const e=ls(r)?r.get():r;return Y4(e)?e.toValue():e}function Q4({scrapeMotionValuesFromProps:r,createRenderState:e,onMount:t},n,i,s){const o={latestValues:q4(n,i,s,r),renderState:e()};return t&&(o.mount=a=>t(n,a,o)),o}const C2=r=>(e,t)=>{const n=te.useContext(Uy),i=te.useContext(GS),s=()=>Q4(r,e,n,i);return t?s():J4(s)};function q4(r,e,t,n){const i={},s=n(r,{});for(const g in s)i[g]=Tv(s[g]);let{initial:o,animate:a}=r;const u=Gy(r),c=h2(r);e&&c&&!u&&r.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const p=h?a:o;return p&&typeof p!="boolean"&&!zy(p)&&(Array.isArray(p)?p:[p]).forEach(v=>{const _=qS(r,v);if(!_)return;const{transitionEnd:x,transition:A,...S}=_;for(const C in S){let E=S[C];if(Array.isArray(E)){const R=h?E.length-1:0;E=E[R]}E!==null&&(i[C]=E)}for(const C in x)i[C]=x[C]}),i}const gi=r=>r;class KT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Z4(r){let e=new KT,t=new KT,n=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(u,c=!1,h=!1)=>{const p=h&&i,g=p?e:t;return c&&o.add(u),g.add(u)&&p&&i&&(n=e.order.length),u},cancel:u=>{t.remove(u),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),n=e.order.length,n)for(let c=0;c<n;c++){const h=e.order[c];h(u),o.has(h)&&(a.schedule(h),r())}i=!1,s&&(s=!1,a.process(u))}};return a}const dv=["prepare","read","update","preRender","render","postRender"],$4=40;function eV(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=dv.reduce((p,g)=>(p[g]=Z4(()=>t=!0),p),{}),o=p=>s[p].process(i),a=()=>{const p=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(p-i.timestamp,$4),1),i.timestamp=p,i.isProcessing=!0,dv.forEach(o),i.isProcessing=!1,t&&e&&(n=!1,r(a))},u=()=>{t=!0,n=!0,i.isProcessing||r(a)};return{schedule:dv.reduce((p,g)=>{const v=s[g];return p[g]=(_,x=!1,A=!1)=>(t||u(),v.schedule(_,x,A)),p},{}),cancel:p=>dv.forEach(g=>s[g].cancel(p)),state:i,steps:s}}const{schedule:kn,cancel:yl,state:xr,steps:zx}=eV(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0),tV={useVisualState:C2({scrapeMotionValuesFromProps:T2,createRenderState:S2,onMount:(r,e,{renderState:t,latestValues:n})=>{kn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),kn.render(()=>{YS(t,n,{enableHardwareAcceleration:!1},KS(e.tagName),r.transformTemplate),E2(e,t)})}})},nV={useVisualState:C2({scrapeMotionValuesFromProps:QS,createRenderState:JS})};function iV(r,{forwardMotionProps:e=!1},t,n){return{...jS(r)?tV:nV,preloadedFeatures:t,useRender:X4(e),createVisualElement:n,Component:r}}function cl(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}const b2=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function Vy(r,e="page"){return{point:{x:r[e+"X"],y:r[e+"Y"]}}}const rV=r=>e=>b2(e)&&r(e,Vy(e));function dl(r,e,t,n){return cl(r,e,rV(t),n)}const sV=(r,e)=>t=>e(r(t)),Au=(...r)=>r.reduce(sV);function R2(r){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=r,t):!1}}const QT=R2("dragHorizontal"),qT=R2("dragVertical");function P2(r){let e=!1;if(r==="y")e=qT();else if(r==="x")e=QT();else{const t=QT(),n=qT();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function B2(){const r=P2(!0);return r?(r(),!1):!0}class Ou{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ZT(r,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||B2())return;const a=r.getProps();r.animationState&&a.whileHover&&r.animationState.setActive("whileHover",e),a[n]&&kn.update(()=>a[n](s,o))};return dl(r.current,t,i,{passive:!r.getProps()[n]})}class oV extends Ou{mount(){this.unmount=Au(ZT(this.node,!0),ZT(this.node,!1))}unmount(){}}class aV extends Ou{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(cl(this.node.current,"focus",()=>this.onFocus()),cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const L2=(r,e)=>e?r===e?!0:L2(r,e.parentElement):!1;function Gx(r,e){if(!e)return;const t=new PointerEvent("pointer"+r);e(t,Vy(t))}class lV extends Ou{constructor(){super(...arguments),this.removeStartListeners=gi,this.removeEndListeners=gi,this.removeAccessibleListeners=gi,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=dl(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:p}=this.node.getProps();kn.update(()=>{!p&&!L2(this.node.current,a.target)?h&&h(a,u):c&&c(a,u)})},{passive:!(n.onTap||n.onPointerUp)}),o=dl(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Au(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Gx("up",(u,c)=>{const{onTap:h}=this.node.getProps();h&&kn.update(()=>h(u,c))})};this.removeEndListeners(),this.removeEndListeners=cl(this.node.current,"keyup",o),Gx("down",(a,u)=>{this.startPress(a,u)})},t=cl(this.node.current,"keydown",e),n=()=>{this.isPressing&&Gx("cancel",(s,o)=>this.cancelPress(s,o))},i=cl(this.node.current,"blur",n);this.removeAccessibleListeners=Au(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&kn.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!B2()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&kn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=dl(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=cl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Au(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const o1=new WeakMap,Hx=new WeakMap,uV=r=>{const e=o1.get(r.target);e&&e(r)},cV=r=>{r.forEach(uV)};function fV({root:r,...e}){const t=r||document;Hx.has(t)||Hx.set(t,{});const n=Hx.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(cV,{root:r,...e})),n[i]}function hV(r,e,t){const n=fV(e);return o1.set(r,t),n.observe(r),()=>{o1.delete(r),n.unobserve(r)}}const dV={some:0,all:1};class pV extends Ou{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:dV[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=c?h:p;g&&g(u)};return hV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(mV(e,t))&&this.startObserver()}unmount(){}}function mV({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const gV={inView:{Feature:pV},tap:{Feature:lV},focus:{Feature:aV},hover:{Feature:oV}};function D2(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function vV(r){const e={};return r.values.forEach((t,n)=>e[n]=t.get()),e}function yV(r){const e={};return r.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function Wy(r,e,t){const n=r.getProps();return qS(n,e,t!==void 0?t:n.custom,vV(r),yV(r))}let ZS=gi;const cf=r=>r*1e3,pl=r=>r/1e3,_V={current:!1},I2=r=>Array.isArray(r)&&typeof r[0]=="number";function F2(r){return!!(!r||typeof r=="string"&&O2[r]||I2(r)||Array.isArray(r)&&r.every(F2))}const fm=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,O2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fm([0,.65,.55,1]),circOut:fm([.55,0,1,.45]),backIn:fm([.31,.01,.66,-.59]),backOut:fm([.33,1.53,.69,.99])};function N2(r){if(r)return I2(r)?fm(r):Array.isArray(r)?r.map(N2):O2[r]}function xV(r,e,t,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:t};u&&(c.offset=u);const h=N2(a);return Array.isArray(h)&&(c.easing=h),r.animate(c,{delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function AV(r,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[n]}const U2=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,SV=1e-7,MV=12;function wV(r,e,t,n,i){let s,o,a=0;do o=e+(t-e)/2,s=U2(o,n,i)-r,s>0?t=o:e=o;while(Math.abs(s)>SV&&++a<MV);return o}function _g(r,e,t,n){if(r===e&&t===n)return gi;const i=s=>wV(s,0,1,r,t);return s=>s===0||s===1?s:U2(i(s),e,n)}const EV=_g(.42,0,1,1),TV=_g(0,0,.58,1),k2=_g(.42,0,.58,1),CV=r=>Array.isArray(r)&&typeof r[0]!="number",z2=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,G2=r=>e=>1-r(1-e),$S=r=>1-Math.sin(Math.acos(r)),H2=G2($S),bV=z2($S),V2=_g(.33,1.53,.69,.99),eM=G2(V2),RV=z2(eM),PV=r=>(r*=2)<1?.5*eM(r):.5*(2-Math.pow(2,-10*(r-1))),BV={linear:gi,easeIn:EV,easeInOut:k2,easeOut:TV,circIn:$S,circInOut:bV,circOut:H2,backIn:eM,backInOut:RV,backOut:V2,anticipate:PV},$T=r=>{if(Array.isArray(r)){ZS(r.length===4);const[e,t,n,i]=r;return _g(e,t,n,i)}else if(typeof r=="string")return BV[r];return r},tM=(r,e)=>t=>!!(vg(t)&&L4.test(t)&&t.startsWith(r)||e&&Object.prototype.hasOwnProperty.call(t,e)),W2=(r,e,t)=>n=>{if(!vg(n))return n;const[i,s,o,a]=n.match(Hy);return{[r]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},LV=r=>bu(0,255,r),Vx={...Pf,transform:r=>Math.round(LV(r))},tf={test:tM("rgb","red"),parse:W2("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Vx.transform(r)+", "+Vx.transform(e)+", "+Vx.transform(t)+", "+xm(_m.transform(n))+")"};function DV(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const a1={test:tM("#"),parse:DV,transform:tf.transform},ud={test:tM("hsl","hue"),parse:W2("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+da.transform(xm(e))+", "+da.transform(xm(t))+", "+xm(_m.transform(n))+")"},Ur={test:r=>tf.test(r)||a1.test(r)||ud.test(r),parse:r=>tf.test(r)?tf.parse(r):ud.test(r)?ud.parse(r):a1.parse(r),transform:r=>vg(r)?r:r.hasOwnProperty("red")?tf.transform(r):ud.transform(r)},ei=(r,e,t)=>-t*r+t*e+r;function Wx(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function IV({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,u=2*t-a;i=Wx(u,a,r+1/3),s=Wx(u,a,r),o=Wx(u,a,r-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const jx=(r,e,t)=>{const n=r*r;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},FV=[a1,tf,ud],OV=r=>FV.find(e=>e.test(r));function eC(r){const e=OV(r);let t=e.parse(r);return e===ud&&(t=IV(t)),t}const j2=(r,e)=>{const t=eC(r),n=eC(e),i={...t};return s=>(i.red=jx(t.red,n.red,s),i.green=jx(t.green,n.green,s),i.blue=jx(t.blue,n.blue,s),i.alpha=ei(t.alpha,n.alpha,s),tf.transform(i))};function NV(r){var e,t;return isNaN(r)&&vg(r)&&(((e=r.match(Hy))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(y2))===null||t===void 0?void 0:t.length)||0)>0}const X2={regex:P4,countKey:"Vars",token:"${v}",parse:gi},J2={regex:y2,countKey:"Colors",token:"${c}",parse:Ur.parse},Y2={regex:Hy,countKey:"Numbers",token:"${n}",parse:Pf.parse};function Xx(r,{regex:e,countKey:t,token:n,parse:i}){const s=r.tokenised.match(e);s&&(r["num"+t]=s.length,r.tokenised=r.tokenised.replace(e,n),r.values.push(...s.map(i)))}function Xv(r){const e=r.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Xx(t,X2),Xx(t,J2),Xx(t,Y2),t}function K2(r){return Xv(r).values}function Q2(r){const{values:e,numColors:t,numVars:n,tokenised:i}=Xv(r),s=e.length;return o=>{let a=i;for(let u=0;u<s;u++)u<n?a=a.replace(X2.token,o[u]):u<n+t?a=a.replace(J2.token,Ur.transform(o[u])):a=a.replace(Y2.token,xm(o[u]));return a}}const UV=r=>typeof r=="number"?0:r;function kV(r){const e=K2(r);return Q2(r)(e.map(UV))}const Ru={test:NV,parse:K2,createTransformer:Q2,getAnimatableNone:kV},q2=(r,e)=>t=>`${t>0?e:r}`;function Z2(r,e){return typeof r=="number"?t=>ei(r,e,t):Ur.test(r)?j2(r,e):r.startsWith("var(")?q2(r,e):eB(r,e)}const $2=(r,e)=>{const t=[...r],n=t.length,i=r.map((s,o)=>Z2(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=i[o](s);return t}},zV=(r,e)=>{const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=Z2(r[i],e[i]));return i=>{for(const s in n)t[s]=n[s](i);return t}},eB=(r,e)=>{const t=Ru.createTransformer(e),n=Xv(r),i=Xv(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Au($2(n.values,i.values),t):q2(r,e)},Wm=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},tC=(r,e)=>t=>ei(r,e,t);function GV(r){return typeof r=="number"?tC:typeof r=="string"?Ur.test(r)?j2:eB:Array.isArray(r)?$2:typeof r=="object"?zV:tC}function HV(r,e,t){const n=[],i=t||GV(r[0]),s=r.length-1;for(let o=0;o<s;o++){let a=i(r[o],r[o+1]);if(e){const u=Array.isArray(e)?e[o]||gi:e;a=Au(u,a)}n.push(a)}return n}function tB(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const s=r.length;if(ZS(s===e.length),s===1)return()=>e[0];r[0]>r[s-1]&&(r=[...r].reverse(),e=[...e].reverse());const o=HV(e,n,i),a=o.length,u=c=>{let h=0;if(a>1)for(;h<r.length-2&&!(c<r[h+1]);h++);const p=Wm(r[h],r[h+1],c);return o[h](p)};return t?c=>u(bu(r[0],r[s-1],c)):u}function VV(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Wm(0,e,n);r.push(ei(t,1,i))}}function WV(r){const e=[0];return VV(e,r.length-1),e}function jV(r,e){return r.map(t=>t*e)}function XV(r,e){return r.map(()=>e||k2).splice(0,r.length-1)}function Jv({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=CV(n)?n.map($T):$T(n),s={done:!1,value:e[0]},o=jV(t&&t.length===e.length?t:WV(e),r),a=tB(o,e,{ease:Array.isArray(i)?i:XV(e,i)});return{calculatedDuration:r,next:u=>(s.value=a(u),s.done=u>=r,s)}}function nB(r,e){return e?r*(1e3/e):0}const JV=5;function iB(r,e,t){const n=Math.max(e-JV,0);return nB(t-r(n),e-n)}const Jx=.001,YV=.01,KV=10,QV=.05,qV=1;function ZV({duration:r=800,bounce:e=.25,velocity:t=0,mass:n=1}){let i,s,o=1-e;o=bu(QV,qV,o),r=bu(YV,KV,pl(r)),o<1?(i=c=>{const h=c*o,p=h*r,g=h-t,v=l1(c,o),_=Math.exp(-p);return Jx-g/v*_},s=c=>{const p=c*o*r,g=p*t+t,v=Math.pow(o,2)*Math.pow(c,2)*r,_=Math.exp(-p),x=l1(Math.pow(c,2),o);return(-i(c)+Jx>0?-1:1)*((g-v)*_)/x}):(i=c=>{const h=Math.exp(-c*r),p=(c-t)*r+1;return-Jx+h*p},s=c=>{const h=Math.exp(-c*r),p=(t-c)*(r*r);return h*p});const a=5/r,u=e9(i,s,a);if(r=cf(r),isNaN(u))return{stiffness:100,damping:10,duration:r};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:r}}}const $V=12;function e9(r,e,t){let n=t;for(let i=1;i<$V;i++)n=n-r(n)/e(n);return n}function l1(r,e){return r*Math.sqrt(1-e*e)}const t9=["duration","bounce"],n9=["stiffness","damping","mass"];function nC(r,e){return e.some(t=>r[t]!==void 0)}function i9(r){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!nC(r,n9)&&nC(r,t9)){const t=ZV(r);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function rB({keyframes:r,restDelta:e,restSpeed:t,...n}){const i=r[0],s=r[r.length-1],o={done:!1,value:i},{stiffness:a,damping:u,mass:c,duration:h,velocity:p,isResolvedFromDuration:g}=i9({...n,velocity:-pl(n.velocity||0)}),v=p||0,_=u/(2*Math.sqrt(a*c)),x=s-i,A=pl(Math.sqrt(a/c)),S=Math.abs(x)<5;t||(t=S?.01:2),e||(e=S?.005:.5);let C;if(_<1){const E=l1(A,_);C=R=>{const B=Math.exp(-_*A*R);return s-B*((v+_*A*x)/E*Math.sin(E*R)+x*Math.cos(E*R))}}else if(_===1)C=E=>s-Math.exp(-A*E)*(x+(v+A*x)*E);else{const E=A*Math.sqrt(_*_-1);C=R=>{const B=Math.exp(-_*A*R),I=Math.min(E*R,300);return s-B*((v+_*A*x)*Math.sinh(I)+E*x*Math.cosh(I))/E}}return{calculatedDuration:g&&h||null,next:E=>{const R=C(E);if(g)o.done=E>=h;else{let B=v;E!==0&&(_<1?B=iB(C,E,R):B=0);const I=Math.abs(B)<=t,O=Math.abs(s-R)<=e;o.done=I&&O}return o.value=o.done?s:R,o}}}function iC({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const p=r[0],g={done:!1,value:p},v=U=>a!==void 0&&U<a||u!==void 0&&U>u,_=U=>a===void 0?u:u===void 0||Math.abs(a-U)<Math.abs(u-U)?a:u;let x=t*e;const A=p+x,S=o===void 0?A:o(A);S!==A&&(x=S-p);const C=U=>-x*Math.exp(-U/n),E=U=>S+C(U),R=U=>{const L=C(U),N=E(U);g.done=Math.abs(L)<=c,g.value=g.done?S:N};let B,I;const O=U=>{v(g.value)&&(B=U,I=rB({keyframes:[g.value,_(g.value)],velocity:iB(E,U,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return O(0),{calculatedDuration:null,next:U=>{let L=!1;return!I&&B===void 0&&(L=!0,R(U),O(U)),B!==void 0&&U>B?I.next(U-B):(!L&&R(U),g)}}}const r9=r=>{const e=({timestamp:t})=>r(t);return{start:()=>kn.update(e,!0),stop:()=>yl(e),now:()=>xr.isProcessing?xr.timestamp:performance.now()}},rC=2e4;function sC(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<rC;)e+=t,n=r.next(e);return e>=rC?1/0:e}const s9={decay:iC,inertia:iC,tween:Jv,keyframes:Jv,spring:rB};function Yv({autoplay:r=!0,delay:e=0,driver:t=r9,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:h,onUpdate:p,...g}){let v=1,_=!1,x,A;const S=()=>{A=new Promise(k=>{x=k})};S();let C;const E=s9[i]||Jv;let R;E!==Jv&&typeof n[0]!="number"&&(R=tB([0,100],n,{clamp:!1}),n=[0,100]);const B=E({...g,keyframes:n});let I;a==="mirror"&&(I=E({...g,keyframes:[...n].reverse(),velocity:-(g.velocity||0)}));let O="idle",U=null,L=null,N=null;B.calculatedDuration===null&&s&&(B.calculatedDuration=sC(B));const{calculatedDuration:H}=B;let q=1/0,oe=1/0;H!==null&&(q=H+o,oe=q*(s+1)-o);let J=0;const ie=k=>{if(L===null)return;v>0&&(L=Math.min(L,k)),v<0&&(L=Math.min(k-oe/v,L)),U!==null?J=U:J=Math.round(k-L)*v;const K=J-e*(v>=0?1:-1),re=v>=0?K<0:K>oe;J=Math.max(K,0),O==="finished"&&U===null&&(J=oe);let j=J,Te=B;if(s){const We=Math.min(J,oe)/q;let De=Math.floor(We),Oe=We%1;!Oe&&We>=1&&(Oe=1),Oe===1&&De--,De=Math.min(De,s+1),!!(De%2)&&(a==="reverse"?(Oe=1-Oe,o&&(Oe-=o/q)):a==="mirror"&&(Te=I)),j=bu(0,1,Oe)*q}const me=re?{done:!1,value:n[0]}:Te.next(j);R&&(me.value=R(me.value));let{done:Re}=me;!re&&H!==null&&(Re=v>=0?J>=oe:J<=0);const Ue=U===null&&(O==="finished"||O==="running"&&Re);return p&&p(me.value),Ue&&Q(),me},se=()=>{C&&C.stop(),C=void 0},le=()=>{O="idle",se(),x(),S(),L=N=null},Q=()=>{O="finished",h&&h(),se(),x()},Y=()=>{if(_)return;C||(C=t(ie));const k=C.now();u&&u(),U!==null?L=k-U:(!L||O==="finished")&&(L=k),O==="finished"&&S(),N=L,U=null,O="running",C.start()};r&&Y();const V={then(k,K){return A.then(k,K)},get time(){return pl(J)},set time(k){k=cf(k),J=k,U!==null||!C||v===0?U=k:L=C.now()-k/v},get duration(){const k=B.calculatedDuration===null?sC(B):B.calculatedDuration;return pl(k)},get speed(){return v},set speed(k){k===v||!C||(v=k,V.time=pl(J))},get state(){return O},play:Y,pause:()=>{O="paused",U=J},stop:()=>{_=!0,O!=="idle"&&(O="idle",c&&c(),le())},cancel:()=>{N!==null&&ie(N),le()},complete:()=>{O="finished"},sample:k=>(L=0,ie(k))};return V}function o9(r){let e;return()=>(e===void 0&&(e=r()),e)}const a9=o9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),l9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),pv=10,u9=2e4,c9=(r,e)=>e.type==="spring"||r==="backgroundColor"||!F2(e.ease);function f9(r,e,{onUpdate:t,onComplete:n,...i}){if(!(a9()&&l9.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,u,c=!1;const h=()=>{u=new Promise(E=>{a=E})};h();let{keyframes:p,duration:g=300,ease:v,times:_}=i;if(c9(e,i)){const E=Yv({...i,repeat:0,delay:0});let R={done:!1,value:p[0]};const B=[];let I=0;for(;!R.done&&I<u9;)R=E.sample(I),B.push(R.value),I+=pv;_=void 0,p=B,g=I-pv,v="linear"}const x=xV(r.owner.current,e,p,{...i,duration:g,ease:v,times:_}),A=()=>{c=!1,x.cancel()},S=()=>{c=!0,kn.update(A),a(),h()};return x.onfinish=()=>{c||(r.set(AV(p,i)),n&&n(),S())},{then(E,R){return u.then(E,R)},attachTimeline(E){return x.timeline=E,x.onfinish=null,gi},get time(){return pl(x.currentTime||0)},set time(E){x.currentTime=cf(E)},get speed(){return x.playbackRate},set speed(E){x.playbackRate=E},get duration(){return pl(g)},play:()=>{o||(x.play(),yl(A))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:E}=x;if(E){const R=Yv({...i,autoplay:!1});r.setWithVelocity(R.sample(E-pv).value,R.sample(E).value,pv)}S()},complete:()=>{c||x.finish()},cancel:S}}function h9({keyframes:r,delay:e,onUpdate:t,onComplete:n}){const i=()=>(t&&t(r[r.length-1]),n&&n(),{time:0,speed:1,duration:0,play:gi,pause:gi,stop:gi,then:s=>(s(),Promise.resolve()),cancel:gi,complete:gi});return e?Yv({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const d9={type:"spring",stiffness:500,damping:25,restSpeed:10},p9=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),m9={type:"keyframes",duration:.8},g9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},v9=(r,{keyframes:e})=>e.length>2?m9:Rf.has(r)?r.startsWith("scale")?p9(e[1]):d9:g9,u1=(r,e)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ru.test(e)||e==="0")&&!e.startsWith("url(")),y9=new Set(["brightness","contrast","saturate","opacity"]);function _9(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(Hy)||[];if(!n)return r;const i=t.replace(n,"");let s=y9.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+i+")"}const x9=/([a-z-]*)\(.*?\)/g,c1={...Ru,getAnimatableNone:r=>{const e=r.match(x9);return e?e.map(_9).join(" "):r}},A9={..._2,color:Ur,backgroundColor:Ur,outlineColor:Ur,fill:Ur,stroke:Ur,borderColor:Ur,borderTopColor:Ur,borderRightColor:Ur,borderBottomColor:Ur,borderLeftColor:Ur,filter:c1,WebkitFilter:c1},nM=r=>A9[r];function sB(r,e){let t=nM(r);return t!==c1&&(t=Ru),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const oB=r=>/^0[^.\s]+$/.test(r);function S9(r){if(typeof r=="number")return r===0;if(r!==null)return r==="none"||r==="0"||oB(r)}function M9(r,e,t,n){const i=u1(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=n.from!==void 0?n.from:r.get();let a;const u=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),S9(s[c])&&u.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&u.length&&a)for(let c=0;c<u.length;c++){const h=u[c];s[h]=sB(e,a)}return s}function w9({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}function iM(r,e){return r[e]||r.default||r}const E9={skipAnimations:!1},rM=(r,e,t,n={})=>i=>{const s=iM(n,r)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-cf(o);const u=M9(e,r,t,s),c=u[0],h=u[u.length-1],p=u1(r,c),g=u1(r,h);let v={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:_=>{e.set(_),s.onUpdate&&s.onUpdate(_)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(w9(s)||(v={...v,...v9(r,v)}),v.duration&&(v.duration=cf(v.duration)),v.repeatDelay&&(v.repeatDelay=cf(v.repeatDelay)),!p||!g||_V.current||s.type===!1||E9.skipAnimations)return h9(v);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=f9(e,r,v);if(_)return _}return Yv(v)};function Kv(r){return!!(ls(r)&&r.add)}const aB=r=>/^\-?\d*\.?\d+$/.test(r);function sM(r,e){r.indexOf(e)===-1&&r.push(e)}function oM(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class aM{constructor(){this.subscriptions=[]}add(e){return sM(this.subscriptions,e),()=>oM(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const T9=r=>!isNaN(parseFloat(r));class C9{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=xr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,kn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>kn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=T9(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new aM);const n=this.events[e].add(t);return e==="change"?()=>{n(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?nB(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rd(r,e){return new C9(r,e)}const lB=r=>e=>e.test(r),b9={test:r=>r==="auto",parse:r=>r},uB=[Pf,Ot,da,fu,I4,D4,b9],nm=r=>uB.find(lB(r)),R9=[...uB,Ur,Ru],P9=r=>R9.find(lB(r));function B9(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Rd(t))}function L9(r,e){const t=Wy(r,e);let{transitionEnd:n={},transition:i={},...s}=t?r.makeTargetAnimatable(t,!1):{};s={...s,...n};for(const o in s){const a=K4(s[o]);B9(r,o,a)}}function D9(r,e,t){var n,i;const s=Object.keys(e).filter(a=>!r.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const u=s[a],c=e[u];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(n=t[u])!==null&&n!==void 0?n:r.readValue(u))!==null&&i!==void 0?i:e[u]),h!=null&&(typeof h=="string"&&(aB(h)||oB(h))?h=parseFloat(h):!P9(h)&&Ru.test(c)&&(h=sB(u,c)),r.addValue(u,Rd(h,{owner:r})),t[u]===void 0&&(t[u]=h),h!==null&&r.setBaseTarget(u,h))}}function I9(r,e){return e?(e[r]||e.default||e).from:void 0}function F9(r,e,t){const n={};for(const i in r){const s=I9(i,e);if(s!==void 0)n[i]=s;else{const o=t.getValue(i);o&&(n[i]=o.get())}}return n}function O9({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function N9(r,e){const t=r.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}else return t!==e}function cB(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:s=r.getDefaultTransition(),transitionEnd:o,...a}=r.makeTargetAnimatable(e);const u=r.getValue("willChange");n&&(s=n);const c=[],h=i&&r.animationState&&r.animationState.getState()[i];for(const p in a){const g=r.getValue(p),v=a[p];if(!g||v===void 0||h&&O9(h,p))continue;const _={delay:t,elapsed:0,...iM(s||{},p)};if(window.HandoffAppearAnimations){const S=r.getProps()[f2];if(S){const C=window.HandoffAppearAnimations(S,p,g,kn);C!==null&&(_.elapsed=C,_.isHandoff=!0)}}let x=!_.isHandoff&&!N9(g,v);if(_.type==="spring"&&(g.getVelocity()||_.velocity)&&(x=!1),g.animation&&(x=!1),x)continue;g.start(rM(p,g,v,r.shouldReduceMotion&&Rf.has(p)?{type:!1}:_));const A=g.animation;Kv(u)&&(u.add(p),A.then(()=>u.remove(p))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&L9(r,o)}),c}function f1(r,e,t={}){const n=Wy(r,e,t.custom);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const s=n?()=>Promise.all(cB(r,n,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=i;return U9(r,e,c+u,h,p,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function U9(r,e,t=0,n=0,i=1,s){const o=[],a=(r.variantChildren.size-1)*n,u=i===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(r.variantChildren).sort(k9).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(f1(c,e,{...s,delay:t+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function k9(r,e){return r.sortNodePosition(e)}function z9(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>f1(r,s,t));n=Promise.all(i)}else if(typeof e=="string")n=f1(r,e,t);else{const i=typeof e=="function"?Wy(r,e,t.custom):e;n=Promise.all(cB(r,i,t))}return n.then(()=>r.notify("AnimationComplete",e))}const G9=[...VS].reverse(),H9=VS.length;function V9(r){return e=>Promise.all(e.map(({animation:t,options:n})=>z9(r,t,n)))}function W9(r){let e=V9(r);const t=X9();let n=!0;const i=(u,c)=>{const h=Wy(r,c);if(h){const{transition:p,transitionEnd:g,...v}=h;u={...u,...v,...g}}return u};function s(u){e=u(r)}function o(u,c){const h=r.getProps(),p=r.getVariantContext(!0)||{},g=[],v=new Set;let _={},x=1/0;for(let S=0;S<H9;S++){const C=G9[S],E=t[C],R=h[C]!==void 0?h[C]:p[C],B=Hm(R),I=C===c?E.isActive:null;I===!1&&(x=S);let O=R===p[C]&&R!==h[C]&&B;if(O&&n&&r.manuallyAnimateOnMount&&(O=!1),E.protectedKeys={..._},!E.isActive&&I===null||!R&&!E.prevProp||zy(R)||typeof R=="boolean")continue;let L=j9(E.prevProp,R)||C===c&&E.isActive&&!O&&B||S>x&&B,N=!1;const H=Array.isArray(R)?R:[R];let q=H.reduce(i,{});I===!1&&(q={});const{prevResolvedValues:oe={}}=E,J={...oe,...q},ie=se=>{L=!0,v.has(se)&&(N=!0,v.delete(se)),E.needsAnimating[se]=!0};for(const se in J){const le=q[se],Q=oe[se];if(_.hasOwnProperty(se))continue;let Y=!1;jv(le)&&jv(Q)?Y=!D2(le,Q):Y=le!==Q,Y?le!==void 0?ie(se):v.add(se):le!==void 0&&v.has(se)?ie(se):E.protectedKeys[se]=!0}E.prevProp=R,E.prevResolvedValues=q,E.isActive&&(_={..._,...q}),n&&r.blockInitialAnimation&&(L=!1),L&&(!O||N)&&g.push(...H.map(se=>({animation:se,options:{type:C,...u}})))}if(v.size){const S={};v.forEach(C=>{const E=r.getBaseTarget(C);E!==void 0&&(S[C]=E)}),g.push({animation:S})}let A=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!r.manuallyAnimateOnMount&&(A=!1),n=!1,A?e(g):Promise.resolve()}function a(u,c,h){var p;if(t[u].isActive===c)return Promise.resolve();(p=r.variantChildren)===null||p===void 0||p.forEach(v=>{var _;return(_=v.animationState)===null||_===void 0?void 0:_.setActive(u,c)}),t[u].isActive=c;const g=o(h,u);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function j9(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!D2(e,r):!1}function Nc(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X9(){return{animate:Nc(!0),whileInView:Nc(),whileHover:Nc(),whileTap:Nc(),whileDrag:Nc(),whileFocus:Nc(),exit:Nc()}}class J9 extends Ou{constructor(e){super(e),e.animationState||(e.animationState=W9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),zy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Y9=0;class K9 extends Ou{constructor(){super(...arguments),this.id=Y9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Q9={animation:{Feature:J9},exit:{Feature:K9}},oC=(r,e)=>Math.abs(r-e);function q9(r,e){const t=oC(r.x,e.x),n=oC(r.y,e.y);return Math.sqrt(t**2+n**2)}class fB{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Kx(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=q9(p.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:_}=p,{timestamp:x}=xr;this.history.push({..._,timestamp:x});const{onStart:A,onMove:S}=this.handlers;g||(A&&A(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Yx(g,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Kx(p.type==="pointercancel"?this.lastMoveEventInfo:Yx(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,A),_&&_(p,A)},!b2(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const o=Vy(e),a=Yx(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=xr;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=t;h&&h(e,Kx(a,this.history)),this.removeListeners=Au(dl(this.contextWindow,"pointermove",this.handlePointerMove),dl(this.contextWindow,"pointerup",this.handlePointerUp),dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yl(this.updatePoint)}}function Yx(r,e){return e?{point:e(r.point)}:r}function aC(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Kx({point:r},e){return{point:r,delta:aC(r,hB(e)),offset:aC(r,Z9(e)),velocity:$9(e,.1)}}function Z9(r){return r[0]}function hB(r){return r[r.length-1]}function $9(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=hB(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>cf(e)));)t--;if(!n)return{x:0,y:0};const s=pl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ls(r){return r.max-r.min}function h1(r,e=0,t=.01){return Math.abs(r-e)<=t}function lC(r,e,t,n=.5){r.origin=n,r.originPoint=ei(e.min,e.max,r.origin),r.scale=Ls(t)/Ls(e),(h1(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=ei(t.min,t.max,r.origin)-r.originPoint,(h1(r.translate)||isNaN(r.translate))&&(r.translate=0)}function Am(r,e,t,n){lC(r.x,e.x,t.x,n?n.originX:void 0),lC(r.y,e.y,t.y,n?n.originY:void 0)}function uC(r,e,t){r.min=t.min+e.min,r.max=r.min+Ls(e)}function e5(r,e,t){uC(r.x,e.x,t.x),uC(r.y,e.y,t.y)}function cC(r,e,t){r.min=e.min-t.min,r.max=r.min+Ls(e)}function Sm(r,e,t){cC(r.x,e.x,t.x),cC(r.y,e.y,t.y)}function t5(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?ei(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?ei(t,r,n.max):Math.min(r,t)),r}function fC(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function n5(r,{top:e,left:t,bottom:n,right:i}){return{x:fC(r.x,t,i),y:fC(r.y,e,n)}}function hC(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function i5(r,e){return{x:hC(r.x,e.x),y:hC(r.y,e.y)}}function r5(r,e){let t=.5;const n=Ls(r),i=Ls(e);return i>n?t=Wm(e.min,e.max-n,r.min):n>i&&(t=Wm(r.min,r.max-i,e.min)),bu(0,1,t)}function s5(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const d1=.35;function o5(r=d1){return r===!1?r=0:r===!0&&(r=d1),{x:dC(r,"left","right"),y:dC(r,"top","bottom")}}function dC(r,e,t){return{min:pC(r,e),max:pC(r,t)}}function pC(r,e){return typeof r=="number"?r:r[e]||0}const mC=()=>({translate:0,scale:1,origin:0,originPoint:0}),cd=()=>({x:mC(),y:mC()}),gC=()=>({min:0,max:0}),Ei=()=>({x:gC(),y:gC()});function Ks(r){return[r("x"),r("y")]}function dB({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function a5({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function l5(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Qx(r){return r===void 0||r===1}function p1({scale:r,scaleX:e,scaleY:t}){return!Qx(r)||!Qx(e)||!Qx(t)}function Wc(r){return p1(r)||pB(r)||r.z||r.rotate||r.rotateX||r.rotateY}function pB(r){return vC(r.x)||vC(r.y)}function vC(r){return r&&r!=="0%"}function Qv(r,e,t){const n=r-t,i=e*n;return t+i}function yC(r,e,t,n,i){return i!==void 0&&(r=Qv(r,i,n)),Qv(r,t,n)+e}function m1(r,e=0,t=1,n,i){r.min=yC(r.min,e,t,n,i),r.max=yC(r.max,e,t,n,i)}function mB(r,{x:e,y:t}){m1(r.x,e.translate,e.scale,e.originPoint),m1(r.y,t.translate,t.scale,t.originPoint)}function u5(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fd(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mB(r,o)),n&&Wc(s.latestValues)&&fd(r,s.latestValues))}e.x=_C(e.x),e.y=_C(e.y)}function _C(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function hu(r,e){r.min=r.min+e,r.max=r.max+e}function xC(r,e,[t,n,i]){const s=e[i]!==void 0?e[i]:.5,o=ei(r.min,r.max,s);m1(r,e[t],e[n],o,e.scale)}const c5=["x","scaleX","originX"],f5=["y","scaleY","originY"];function fd(r,e){xC(r.x,e,c5),xC(r.y,e,f5)}function gB(r,e){return dB(l5(r.getBoundingClientRect(),e))}function h5(r,e,t){const n=gB(r,t),{scroll:i}=e;return i&&(hu(n.x,i.offset.x),hu(n.y,i.offset.y)),n}const vB=({current:r})=>r?r.ownerDocument.defaultView:null,d5=new WeakMap;class p5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ei(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vy(h,"page").point)},s=(h,p)=>{const{drag:g,dragPropagation:v,onDragStart:_}=this.getProps();if(g&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=P2(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ks(A=>{let S=this.getAxisMotionValue(A).get()||0;if(da.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[A];E&&(S=Ls(E)*(parseFloat(S)/100))}}this.originPoint[A]=S}),_&&kn.update(()=>_(h,p),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:_,onDrag:x}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:A}=p;if(v&&this.currentDirection===null){this.currentDirection=m5(A),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",p.point,A),this.updateAxis("y",p.point,A),this.visualElement.render(),x&&x(h,p)},a=(h,p)=>this.stop(h,p),u=()=>Ks(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fB(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vB(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&kn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!mv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=t5(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&ld(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=n5(i.layoutBox,t):this.constraints=!1,this.elastic=o5(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ks(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=s5(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ld(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=h5(n,i.root,this.visualElement.getTransformPagePoint());let o=i5(i.layout.layoutBox,s);if(t){const a=t(a5(o));this.hasMutatedConstraints=!!a,a&&(o=dB(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=Ks(h=>{if(!mv(h,t,this.currentDirection))return;let p=u&&u[h]||{};o&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,_={type:"inertia",velocity:n?e[h]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(rM(e,n,0,t))}stopAnimation(){Ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ks(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ks(t=>{const{drag:n}=this.getProps();if(!mv(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-ei(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ld(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ks(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();i[o]=r5({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ks(o=>{if(!mv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(ei(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;d5.set(this.visualElement,this);const e=this.visualElement.current,t=dl(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();ld(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=cl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ks(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=d1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function mv(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function m5(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class g5 extends Ou{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new p5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const AC=r=>(e,t)=>{r&&kn.update(()=>r(e,t))};class v5 extends Ou{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new fB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:AC(e),onStart:AC(t),onMove:n,onEnd:(s,o)=>{delete this.session,i&&kn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function y5(){const r=te.useContext(GS);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=r,i=te.useId();return te.useEffect(()=>n(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const Cv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SC(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const im={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Ot.test(r))r=parseFloat(r);else return r;const t=SC(r,e.target.x),n=SC(r,e.target.y);return`${t}% ${n}%`}},_5={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Ru.parse(r);if(i.length>5)return n;const s=Ru.createTransformer(r),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,u=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=ei(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class x5 extends ml.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;T4(A5),s&&(t.group&&t.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Cv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yB(r){const[e,t]=y5(),n=te.useContext(d2);return ml.createElement(x5,{...r,layoutGroup:n,switchLayoutGroup:te.useContext(p2),isPresent:e,safeToRemove:t})}const A5={borderRadius:{...im,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:im,borderTopRightRadius:im,borderBottomLeftRadius:im,borderBottomRightRadius:im,boxShadow:_5},_B=["TopLeft","TopRight","BottomLeft","BottomRight"],S5=_B.length,MC=r=>typeof r=="string"?parseFloat(r):r,wC=r=>typeof r=="number"||Ot.test(r);function M5(r,e,t,n,i,s){i?(r.opacity=ei(0,t.opacity!==void 0?t.opacity:1,w5(n)),r.opacityExit=ei(e.opacity!==void 0?e.opacity:1,0,E5(n))):s&&(r.opacity=ei(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<S5;o++){const a=`border${_B[o]}Radius`;let u=EC(e,a),c=EC(t,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||wC(u)===wC(c)?(r[a]=Math.max(ei(MC(u),MC(c),n),0),(da.test(c)||da.test(u))&&(r[a]+="%")):r[a]=c}(e.rotate||t.rotate)&&(r.rotate=ei(e.rotate||0,t.rotate||0,n))}function EC(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const w5=xB(0,.5,H2),E5=xB(.5,.95,gi);function xB(r,e,t){return n=>n<r?0:n>e?1:t(Wm(r,e,n))}function TC(r,e){r.min=e.min,r.max=e.max}function Ys(r,e){TC(r.x,e.x),TC(r.y,e.y)}function CC(r,e,t,n,i){return r-=e,r=Qv(r,1/t,n),i!==void 0&&(r=Qv(r,1/i,n)),r}function T5(r,e=0,t=1,n=.5,i,s=r,o=r){if(da.test(e)&&(e=parseFloat(e),e=ei(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ei(s.min,s.max,n);r===s&&(a-=e),r.min=CC(r.min,e,t,a,i),r.max=CC(r.max,e,t,a,i)}function bC(r,e,[t,n,i],s,o){T5(r,e[t],e[n],e[i],e.scale,s,o)}const C5=["x","scaleX","originX"],b5=["y","scaleY","originY"];function RC(r,e,t,n){bC(r.x,e,C5,t?t.x:void 0,n?n.x:void 0),bC(r.y,e,b5,t?t.y:void 0,n?n.y:void 0)}function PC(r){return r.translate===0&&r.scale===1}function AB(r){return PC(r.x)&&PC(r.y)}function R5(r,e){return r.x.min===e.x.min&&r.x.max===e.x.max&&r.y.min===e.y.min&&r.y.max===e.y.max}function SB(r,e){return Math.round(r.x.min)===Math.round(e.x.min)&&Math.round(r.x.max)===Math.round(e.x.max)&&Math.round(r.y.min)===Math.round(e.y.min)&&Math.round(r.y.max)===Math.round(e.y.max)}function BC(r){return Ls(r.x)/Ls(r.y)}class P5{constructor(){this.members=[]}add(e){sM(this.members,e),e.scheduleRender()}remove(e){if(oM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LC(r,e,t){let n="";const i=r.x.translate/e.x,s=r.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:u,rotateX:c,rotateY:h}=t;u&&(n+=`rotate(${u}deg) `),c&&(n+=`rotateX(${c}deg) `),h&&(n+=`rotateY(${h}deg) `)}const o=r.x.scale*e.x,a=r.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const B5=(r,e)=>r.depth-e.depth;class L5{constructor(){this.children=[],this.isDirty=!1}add(e){sM(this.children,e),this.isDirty=!0}remove(e){oM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(B5),this.isDirty=!1,this.children.forEach(e)}}function D5(r,e){const t=performance.now(),n=({timestamp:i})=>{const s=i-t;s>=e&&(yl(n),r(s-e))};return kn.read(n,!0),()=>yl(n)}function I5(r){window.MotionDebug&&window.MotionDebug.record(r)}function F5(r){return r instanceof SVGElement&&r.tagName!=="svg"}function O5(r,e,t){const n=ls(r)?r:Rd(r);return n.start(rM("",n,e,t)),n.animation}const DC=["","X","Y","Z"],N5={visibility:"hidden"},IC=1e3;let U5=0;const jc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function MB({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=U5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jc.totalNodes=jc.resolvedTargetDeltas=jc.recalculatedProjection=0,this.nodes.forEach(G5),this.nodes.forEach(X5),this.nodes.forEach(J5),this.nodes.forEach(H5),I5(jc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new L5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aM),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F5(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),r){let p;const g=()=>this.root.updateBlockedByResize=!1;r(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=D5(g,250),Cv.hasAnimatedSinceResize&&(Cv.hasAnimatedSinceResize=!1,this.nodes.forEach(OC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||Z5,{onLayoutAnimationStart:A,onLayoutAnimationComplete:S}=h.getProps(),C=!this.targetLayout||!SB(this.targetLayout,_)||v,E=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const R={...iM(x,"layout"),onPlay:A,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||OC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FC);return}this.isUpdating||this.nodes.forEach(W5),this.isUpdating=!1,this.nodes.forEach(j5),this.nodes.forEach(k5),this.nodes.forEach(z5),this.clearAllSnapshots();const a=performance.now();xr.delta=bu(0,1e3/60,a-xr.timestamp),xr.timestamp=a,xr.isProcessing=!0,zx.update.process(xr),zx.preRender.process(xr),zx.render.process(xr),xr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(V5),this.sharedNodes.forEach(K5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ei(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!AB(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Wc(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),$5(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ei();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(hu(a.x,u.offset.x),hu(a.y,u.offset.y)),a}removeElementScroll(o){const a=Ei();Ys(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:p}=c;if(c!==this.root&&h&&p.layoutScroll){if(h.isRoot){Ys(a,o);const{scroll:g}=this.root;g&&(hu(a.x,-g.offset.x),hu(a.y,-g.offset.y))}hu(a.x,h.offset.x),hu(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const u=Ei();Ys(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fd(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Wc(h.latestValues)&&fd(u,h.latestValues)}return Wc(this.latestValues)&&fd(u,this.latestValues),u}removeTransform(o){const a=Ei();Ys(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Wc(c.latestValues))continue;p1(c.latestValues)&&c.updateSnapshot();const h=Ei(),p=c.measurePageBox();Ys(h,p),RC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Wc(this.latestValues)&&RC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=xr.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),Sm(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ei(),this.targetWithTransforms=Ei()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ys(this.target,this.layout.layoutBox),mB(this.target,this.targetDelta)):Ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),Sm(this.relativeTargetOrigin,this.target,v.target),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||p1(this.parent.latestValues)||pB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xr.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Ys(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;u5(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=cd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=cd(),this.projectionDeltaWithTransform=cd());const x=this.projectionTransform;Am(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=LC(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==g||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),jc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},p=cd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Ei(),v=u?u.source:void 0,_=this.layout?this.layout.source:void 0,x=v!==_,A=this.getStack(),S=!A||A.members.length<=1,C=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(q5));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const B=R/1e3;NC(p.x,o.x,B),NC(p.y,o.y,B),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q5(this.relativeTarget,this.relativeTargetOrigin,g,B),E&&R5(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ei()),Ys(E,this.relativeTarget)),x&&(this.animationValues=h,M5(h,c,this.latestValues,B,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{Cv.hasAnimatedSinceResize=!0,this.currentAnimation=O5(0,IC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&wB(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ei();const p=Ls(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=Ls(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Ys(a,u),fd(a,h),Am(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new P5),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<DC.length;h++){const p="rotate"+DC[h];u[p]&&(c[p]=u[p],o.setStaticValue(p,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N5;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Tv(o?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Tv(o?.pointerEvents)||""),this.hasProjected&&!Wc(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=LC(this.projectionDeltaWithTransform,this.treeScale,g),h&&(c.transform=h(g,c.transform));const{x:v,y:_}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,p.animationValues?c.opacity=p===this?(u=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Vv){if(g[x]===void 0)continue;const{correct:A,applyTo:S}=Vv[x],C=c.transform==="none"?g[x]:A(g[x],p);if(S){const E=S.length;for(let R=0;R<E;R++)c[S[R]]=C}else c[x]=C}return this.options.layoutId&&(c.pointerEvents=p===this?Tv(o?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(FC),this.root.sharedNodes.clear()}}}function k5(r){r.updateLayout()}function z5(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:s}=r.options,o=t.source!==r.layout.source;s==="size"?Ks(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],v=Ls(g);g.min=n[p].min,g.max=g.min+v}):wB(s,t.layoutBox,n)&&Ks(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],v=Ls(n[p]);g.max=g.min+v,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[p].max=r.relativeTarget[p].min+v)});const a=cd();Am(a,n,t.layoutBox);const u=cd();o?Am(u,r.applyTransform(i,!0),t.measuredBox):Am(u,n,t.layoutBox);const c=!AB(a);let h=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const _=Ei();Sm(_,t.layoutBox,g.layoutBox);const x=Ei();Sm(x,n,v.layoutBox),SB(_,x)||(h=!0),p.options.layoutRoot&&(r.relativeTarget=x,r.relativeTargetOrigin=_,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function G5(r){jc.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function H5(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function V5(r){r.clearSnapshot()}function FC(r){r.clearMeasurements()}function W5(r){r.isLayoutDirty=!1}function j5(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function OC(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function X5(r){r.resolveTargetDelta()}function J5(r){r.calcProjection()}function Y5(r){r.resetRotation()}function K5(r){r.removeLeadSnapshot()}function NC(r,e,t){r.translate=ei(e.translate,0,t),r.scale=ei(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function UC(r,e,t,n){r.min=ei(e.min,t.min,n),r.max=ei(e.max,t.max,n)}function Q5(r,e,t,n){UC(r.x,e.x,t.x,n),UC(r.y,e.y,t.y,n)}function q5(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Z5={duration:.45,ease:[.4,0,.1,1]},kC=r=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(r),zC=kC("applewebkit/")&&!kC("chrome/")?Math.round:gi;function GC(r){r.min=zC(r.min),r.max=zC(r.max)}function $5(r){GC(r.x),GC(r.y)}function wB(r,e,t){return r==="position"||r==="preserve-aspect"&&!h1(BC(e),BC(t),.2)}const e8=MB({attachResizeListener:(r,e)=>cl(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qx={current:void 0},EB=MB({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!qx.current){const r=new e8({});r.mount(window),r.setOptions({layoutScroll:!0}),qx.current=r}return qx.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),t8={pan:{Feature:v5},drag:{Feature:g5,ProjectionNode:EB,MeasureLayout:yB}},n8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function i8(r){const e=n8.exec(r);if(!e)return[,];const[,t,n]=e;return[t,n]}function g1(r,e,t=1){const[n,i]=i8(r);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return aB(o)?parseFloat(o):o}else return s1(i)?g1(i,e,t+1):i}function r8(r,{...e},t){const n=r.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),r.values.forEach(i=>{const s=i.get();if(!s1(s))return;const o=g1(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!s1(s))continue;const o=g1(s,n);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const s8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TB=r=>s8.has(r),o8=r=>Object.keys(r).some(TB),HC=r=>r===Pf||r===Ot,VC=(r,e)=>parseFloat(r.split(", ")[e]),WC=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return VC(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?VC(s[1],r):0}},a8=new Set(["x","y","z"]),l8=gg.filter(r=>!a8.has(r));function u8(r){const e=[];return l8.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&r.render(),e}const Pd={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:WC(4,13),y:WC(5,14)};Pd.translateX=Pd.x;Pd.translateY=Pd.y;const c8=(r,e,t)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",r.display||"block"),t.forEach(c=>{a[c]=Pd[c](n,s)}),e.render();const u=e.measureViewportBox();return t.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),r[c]=Pd[c](u,s)}),r},f8=(r,e,t={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(TB);let s=[],o=!1;const a=[];if(i.forEach(u=>{const c=r.getValue(u);if(!r.hasValue(u))return;let h=t[u],p=nm(h);const g=e[u];let v;if(jv(g)){const _=g.length,x=g[0]===null?1:0;h=g[x],p=nm(h);for(let A=x;A<_&&g[A]!==null;A++)v?ZS(nm(g[A])===v):v=nm(g[A])}else v=nm(g);if(p!==v)if(HC(p)&&HC(v)){const _=c.get();typeof _=="string"&&c.set(parseFloat(_)),typeof g=="string"?e[u]=parseFloat(g):Array.isArray(g)&&v===Ot&&(e[u]=g.map(parseFloat))}else p?.transform&&v?.transform&&(h===0||g===0)?h===0?c.set(v.transform(h)):e[u]=p.transform(g):(o||(s=u8(r),o=!0),a.push(u),n[u]=n[u]!==void 0?n[u]:e[u],c.jump(g))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,c=c8(e,r,a);return s.length&&s.forEach(([h,p])=>{r.getValue(h).set(p)}),r.render(),ky&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:n}}else return{target:e,transitionEnd:n}};function h8(r,e,t,n){return o8(e)?f8(r,e,t,n):{target:e,transitionEnd:n}}const d8=(r,e,t,n)=>{const i=r8(r,e,n);return e=i.target,n=i.transitionEnd,h8(r,e,t,n)},v1={current:null},CB={current:!1};function p8(){if(CB.current=!0,!!ky)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>v1.current=r.matches;r.addListener(e),e()}else v1.current=!1}function m8(r,e,t){const{willChange:n}=e;for(const i in e){const s=e[i],o=t[i];if(ls(s))r.addValue(i,s),Kv(n)&&n.add(i);else if(ls(o))r.addValue(i,Rd(s,{owner:r})),Kv(n)&&n.remove(i);else if(o!==s)if(r.hasValue(i)){const a=r.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=r.getStaticValue(i);r.addValue(i,Rd(a!==void 0?a:s,{owner:r}))}}for(const i in t)e[i]===void 0&&r.removeValue(i);return e}const jC=new WeakMap,bB=Object.keys(Vm),g8=bB.length,XC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],v8=WS.length;class y8{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>kn.render(this.render,!1,!0);const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Gy(t),this.isVariantNode=h2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{});for(const p in h){const g=h[p];a[p]!==void 0&&ls(g)&&(g.set(a[p],!1),Kv(c)&&c.add(p))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,jC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),CB.current||p8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jC.delete(this.current),this.projection&&this.projection.unmount(),yl(this.notifyUpdate),yl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Rf.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,i,s){let o,a;for(let u=0;u<g8;u++){const c=bB[u],{isEnabled:h,Feature:p,ProjectionNode:g,MeasureLayout:v}=Vm[c];g&&(o=g),h(t)&&(!this.features[c]&&p&&(this.features[c]=new p(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:v}=t;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||p&&ld(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ei()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<XC.length;n++){const i=XC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=m8(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<v8;n++){const i=WS[n],s=this.props[i];(Hm(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Rd(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(t=qS(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ls(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new aM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class RB extends y8{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:i},s){let o=F9(n,e||{},this);if(i&&(t&&(t=i(t)),n&&(n=i(n)),o&&(o=i(o))),s){D9(this,n,o);const a=d8(this,n,o,t);t=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:t,...n}}}function _8(r){return window.getComputedStyle(r)}class x8 extends RB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Rf.has(t)){const n=nM(t);return n&&n.default||0}else{const n=_8(e),i=(v2(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return gB(e,t)}build(e,t,n,i){XS(e,t,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return QS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ls(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,i){M2(e,t,n,i)}}class A8 extends RB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Rf.has(t)){const n=nM(t);return n&&n.default||0}return t=w2.has(t)?t:HS(t),e.getAttribute(t)}measureInstanceViewportBox(){return Ei()}scrapeMotionValuesFromProps(e,t){return T2(e,t)}build(e,t,n,i){YS(e,t,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,n,i){E2(e,t,n,i)}mount(e){this.isSVGTag=KS(e.tagName),super.mount(e)}}const S8=(r,e)=>jS(r)?new A8(e,{enableHardwareAcceleration:!1}):new x8(e,{enableHardwareAcceleration:!0}),M8={layout:{ProjectionNode:EB,MeasureLayout:yB}},w8={...Q9,...gV,...t8,...M8},Go=w4((r,e)=>iV(r,e,w8,S8)),Ps={paddingX:"sm:px-16 px-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"};var bv={exports:{}},E8=bv.exports,JC;function T8(){return JC||(JC=1,function(r,e){(function(t,n){r.exports=n(Mf())})(typeof self<"u"?self:E8,t=>(()=>{var n={7403:(a,u,c)=>{c.d(u,{default:()=>Q});var h=c(4087),p=c.n(h);const g=function(Y){return new RegExp(/<[a-z][\s\S]*>/i).test(Y)},v=function(Y,V){return Math.floor(Math.random()*(V-Y+1))+Y};var _="TYPE_CHARACTER",x="REMOVE_CHARACTER",A="REMOVE_ALL",S="REMOVE_LAST_VISIBLE_NODE",C="PAUSE_FOR",E="CALL_FUNCTION",R="ADD_HTML_TAG_ELEMENT",B="CHANGE_DELETE_SPEED",I="CHANGE_DELAY",O="CHANGE_CURSOR",U="PASTE_STRING",L="HTML_TAG";function N(Y){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},N(Y)}function H(Y,V){var k=Object.keys(Y);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(Y);V&&(K=K.filter(function(re){return Object.getOwnPropertyDescriptor(Y,re).enumerable})),k.push.apply(k,K)}return k}function q(Y){for(var V=1;V<arguments.length;V++){var k=arguments[V]!=null?arguments[V]:{};V%2?H(Object(k),!0).forEach(function(K){se(Y,K,k[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(k)):H(Object(k)).forEach(function(K){Object.defineProperty(Y,K,Object.getOwnPropertyDescriptor(k,K))})}return Y}function oe(Y){return function(V){if(Array.isArray(V))return J(V)}(Y)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(Y)||function(V,k){if(V){if(typeof V=="string")return J(V,k);var K=Object.prototype.toString.call(V).slice(8,-1);return K==="Object"&&V.constructor&&(K=V.constructor.name),K==="Map"||K==="Set"?Array.from(V):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?J(V,k):void 0}}(Y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function J(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var k=0,K=new Array(V);k<V;k++)K[k]=Y[k];return K}function ie(Y,V){for(var k=0;k<V.length;k++){var K=V[k];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Y,le(K.key),K)}}function se(Y,V,k){return(V=le(V))in Y?Object.defineProperty(Y,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):Y[V]=k,Y}function le(Y){var V=function(k,K){if(N(k)!=="object"||k===null)return k;var re=k[Symbol.toPrimitive];if(re!==void 0){var j=re.call(k,"string");if(N(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(Y);return N(V)==="symbol"?V:String(V)}const Q=function(){function Y(K,re){var j=this;if(function(me,Re){if(!(me instanceof Re))throw new TypeError("Cannot call a class as a function")}(this,Y),se(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),se(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),se(this,"setupWrapperElement",function(){j.state.elements.container&&(j.state.elements.wrapper.className=j.options.wrapperClassName,j.state.elements.cursor.className=j.options.cursorClassName,j.state.elements.cursor.innerHTML=j.options.cursor,j.state.elements.container.innerHTML="",j.state.elements.container.appendChild(j.state.elements.wrapper),j.state.elements.container.appendChild(j.state.elements.cursor))}),se(this,"start",function(){return j.state.eventLoopPaused=!1,j.runEventLoop(),j}),se(this,"pause",function(){return j.state.eventLoopPaused=!0,j}),se(this,"stop",function(){return j.state.eventLoop&&((0,h.cancel)(j.state.eventLoop),j.state.eventLoop=null),j}),se(this,"pauseFor",function(me){return j.addEventToQueue(C,{ms:me}),j}),se(this,"typeOutAllStrings",function(){return typeof j.options.strings=="string"?(j.typeString(j.options.strings).pauseFor(j.options.pauseFor),j):(j.options.strings.forEach(function(me){j.typeString(me).pauseFor(j.options.pauseFor).deleteAll(j.options.deleteSpeed)}),j)}),se(this,"typeString",function(me){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(g(me))return j.typeOutHTMLString(me,Re);if(me){var Ue=(j.options||{}).stringSplitter,We=typeof Ue=="function"?Ue(me):me.split("");j.typeCharacters(We,Re)}return j}),se(this,"pasteString",function(me){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return g(me)?j.typeOutHTMLString(me,Re,!0):(me&&j.addEventToQueue(U,{character:me,node:Re}),j)}),se(this,"typeOutHTMLString",function(me){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ue=arguments.length>2?arguments[2]:void 0,We=function(Ie){var Ce=document.createElement("div");return Ce.innerHTML=Ie,Ce.childNodes}(me);if(We.length>0)for(var De=0;De<We.length;De++){var Oe=We[De],ne=Oe.innerHTML;Oe&&Oe.nodeType!==3?(Oe.innerHTML="",j.addEventToQueue(R,{node:Oe,parentNode:Re}),Ue?j.pasteString(ne,Oe):j.typeString(ne,Oe)):Oe.textContent&&(Ue?j.pasteString(Oe.textContent,Re):j.typeString(Oe.textContent,Re))}return j}),se(this,"deleteAll",function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return j.addEventToQueue(A,{speed:me}),j}),se(this,"changeDeleteSpeed",function(me){if(!me)throw new Error("Must provide new delete speed");return j.addEventToQueue(B,{speed:me}),j}),se(this,"changeDelay",function(me){if(!me)throw new Error("Must provide new delay");return j.addEventToQueue(I,{delay:me}),j}),se(this,"changeCursor",function(me){if(!me)throw new Error("Must provide new cursor");return j.addEventToQueue(O,{cursor:me}),j}),se(this,"deleteChars",function(me){if(!me)throw new Error("Must provide amount of characters to delete");for(var Re=0;Re<me;Re++)j.addEventToQueue(x);return j}),se(this,"callFunction",function(me,Re){if(!me||typeof me!="function")throw new Error("Callback must be a function");return j.addEventToQueue(E,{cb:me,thisArg:Re}),j}),se(this,"typeCharacters",function(me){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!me||!Array.isArray(me))throw new Error("Characters must be an array");return me.forEach(function(Ue){j.addEventToQueue(_,{character:Ue,node:Re})}),j}),se(this,"removeCharacters",function(me){if(!me||!Array.isArray(me))throw new Error("Characters must be an array");return me.forEach(function(){j.addEventToQueue(x)}),j}),se(this,"addEventToQueue",function(me,Re){var Ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return j.addEventToStateProperty(me,Re,Ue,"eventQueue")}),se(this,"addReverseCalledEvent",function(me,Re){var Ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return j.options.loop?j.addEventToStateProperty(me,Re,Ue,"reverseCalledEvents"):j}),se(this,"addEventToStateProperty",function(me,Re){var Ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2],We=arguments.length>3?arguments[3]:void 0,De={eventName:me,eventArgs:Re||{}};return j.state[We]=Ue?[De].concat(oe(j.state[We])):[].concat(oe(j.state[We]),[De]),j}),se(this,"runEventLoop",function(){j.state.lastFrameTime||(j.state.lastFrameTime=Date.now());var me=Date.now(),Re=me-j.state.lastFrameTime;if(!j.state.eventQueue.length){if(!j.options.loop)return;j.state.eventQueue=oe(j.state.calledEvents),j.state.calledEvents=[],j.options=q({},j.state.initialOptions)}if(j.state.eventLoop=p()(j.runEventLoop),!j.state.eventLoopPaused){if(j.state.pauseUntil){if(me<j.state.pauseUntil)return;j.state.pauseUntil=null}var Ue,We=oe(j.state.eventQueue),De=We.shift();if(!(Re<=(Ue=De.eventName===S||De.eventName===x?j.options.deleteSpeed==="natural"?v(40,80):j.options.deleteSpeed:j.options.delay==="natural"?v(120,160):j.options.delay))){var Oe=De.eventName,ne=De.eventArgs;switch(j.logInDevMode({currentEvent:De,state:j.state,delay:Ue}),Oe){case U:case _:var Ie=ne.character,Ce=ne.node,Xe=document.createTextNode(Ie),Fe=Xe;j.options.onCreateTextNode&&typeof j.options.onCreateTextNode=="function"&&(Fe=j.options.onCreateTextNode(Ie,Xe)),Fe&&(Ce?Ce.appendChild(Fe):j.state.elements.wrapper.appendChild(Fe)),j.state.visibleNodes=[].concat(oe(j.state.visibleNodes),[{type:"TEXT_NODE",character:Ie,node:Fe}]);break;case x:We.unshift({eventName:S,eventArgs:{removingCharacterNode:!0}});break;case C:var lt=De.eventArgs.ms;j.state.pauseUntil=Date.now()+parseInt(lt);break;case E:var it=De.eventArgs,rt=it.cb,_t=it.thisArg;rt.call(_t,{elements:j.state.elements});break;case R:var It=De.eventArgs,en=It.node,Z=It.parentNode;Z?Z.appendChild(en):j.state.elements.wrapper.appendChild(en),j.state.visibleNodes=[].concat(oe(j.state.visibleNodes),[{type:L,node:en,parentNode:Z||j.state.elements.wrapper}]);break;case A:var G=j.state.visibleNodes,ye=ne.speed,Ge=[];ye&&Ge.push({eventName:B,eventArgs:{speed:ye,temp:!0}});for(var Ne=0,je=G.length;Ne<je;Ne++)Ge.push({eventName:S,eventArgs:{removingCharacterNode:!1}});ye&&Ge.push({eventName:B,eventArgs:{speed:j.options.deleteSpeed,temp:!0}}),We.unshift.apply(We,Ge);break;case S:var mt=De.eventArgs.removingCharacterNode;if(j.state.visibleNodes.length){var Je=j.state.visibleNodes.pop(),nt=Je.type,Ct=Je.node,qt=Je.character;j.options.onRemoveNode&&typeof j.options.onRemoveNode=="function"&&j.options.onRemoveNode({node:Ct,character:qt}),Ct&&Ct.parentNode.removeChild(Ct),nt===L&&mt&&We.unshift({eventName:S,eventArgs:{}})}break;case B:j.options.deleteSpeed=De.eventArgs.speed;break;case I:j.options.delay=De.eventArgs.delay;break;case O:j.options.cursor=De.eventArgs.cursor,j.state.elements.cursor.innerHTML=De.eventArgs.cursor}j.options.loop&&(De.eventName===S||De.eventArgs&&De.eventArgs.temp||(j.state.calledEvents=[].concat(oe(j.state.calledEvents),[De]))),j.state.eventQueue=We,j.state.lastFrameTime=me}}}),K)if(typeof K=="string"){var Te=document.querySelector(K);if(!Te)throw new Error("Could not find container element");this.state.elements.container=Te}else this.state.elements.container=K;re&&(this.options=q(q({},this.options),re)),this.state.initialOptions=q({},this.options),this.init()}var V,k;return V=Y,(k=[{key:"init",value:function(){var K,re;this.setupWrapperElement(),this.addEventToQueue(O,{cursor:this.options.cursor},!0),this.addEventToQueue(A,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(K=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(re=document.createElement("style")).appendChild(document.createTextNode(K)),document.head.appendChild(re),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(K){this.options.devMode&&console.log(K)}}])&&ie(V.prototype,k),Object.defineProperty(V,"prototype",{writable:!1}),Y}()},8552:(a,u,c)=>{var h=c(852)(c(5639),"DataView");a.exports=h},1989:(a,u,c)=>{var h=c(1789),p=c(401),g=c(7667),v=c(1327),_=c(1866);function x(A){var S=-1,C=A==null?0:A.length;for(this.clear();++S<C;){var E=A[S];this.set(E[0],E[1])}}x.prototype.clear=h,x.prototype.delete=p,x.prototype.get=g,x.prototype.has=v,x.prototype.set=_,a.exports=x},8407:(a,u,c)=>{var h=c(7040),p=c(4125),g=c(2117),v=c(7518),_=c(4705);function x(A){var S=-1,C=A==null?0:A.length;for(this.clear();++S<C;){var E=A[S];this.set(E[0],E[1])}}x.prototype.clear=h,x.prototype.delete=p,x.prototype.get=g,x.prototype.has=v,x.prototype.set=_,a.exports=x},7071:(a,u,c)=>{var h=c(852)(c(5639),"Map");a.exports=h},3369:(a,u,c)=>{var h=c(4785),p=c(1285),g=c(6e3),v=c(9916),_=c(5265);function x(A){var S=-1,C=A==null?0:A.length;for(this.clear();++S<C;){var E=A[S];this.set(E[0],E[1])}}x.prototype.clear=h,x.prototype.delete=p,x.prototype.get=g,x.prototype.has=v,x.prototype.set=_,a.exports=x},3818:(a,u,c)=>{var h=c(852)(c(5639),"Promise");a.exports=h},8525:(a,u,c)=>{var h=c(852)(c(5639),"Set");a.exports=h},8668:(a,u,c)=>{var h=c(3369),p=c(619),g=c(2385);function v(_){var x=-1,A=_==null?0:_.length;for(this.__data__=new h;++x<A;)this.add(_[x])}v.prototype.add=v.prototype.push=p,v.prototype.has=g,a.exports=v},6384:(a,u,c)=>{var h=c(8407),p=c(7465),g=c(3779),v=c(7599),_=c(4758),x=c(4309);function A(S){var C=this.__data__=new h(S);this.size=C.size}A.prototype.clear=p,A.prototype.delete=g,A.prototype.get=v,A.prototype.has=_,A.prototype.set=x,a.exports=A},2705:(a,u,c)=>{var h=c(5639).Symbol;a.exports=h},1149:(a,u,c)=>{var h=c(5639).Uint8Array;a.exports=h},577:(a,u,c)=>{var h=c(852)(c(5639),"WeakMap");a.exports=h},4963:a=>{a.exports=function(u,c){for(var h=-1,p=u==null?0:u.length,g=0,v=[];++h<p;){var _=u[h];c(_,h,u)&&(v[g++]=_)}return v}},4636:(a,u,c)=>{var h=c(2545),p=c(5694),g=c(1469),v=c(4144),_=c(5776),x=c(6719),A=Object.prototype.hasOwnProperty;a.exports=function(S,C){var E=g(S),R=!E&&p(S),B=!E&&!R&&v(S),I=!E&&!R&&!B&&x(S),O=E||R||B||I,U=O?h(S.length,String):[],L=U.length;for(var N in S)!C&&!A.call(S,N)||O&&(N=="length"||B&&(N=="offset"||N=="parent")||I&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||_(N,L))||U.push(N);return U}},2488:a=>{a.exports=function(u,c){for(var h=-1,p=c.length,g=u.length;++h<p;)u[g+h]=c[h];return u}},2908:a=>{a.exports=function(u,c){for(var h=-1,p=u==null?0:u.length;++h<p;)if(c(u[h],h,u))return!0;return!1}},8470:(a,u,c)=>{var h=c(7813);a.exports=function(p,g){for(var v=p.length;v--;)if(h(p[v][0],g))return v;return-1}},8866:(a,u,c)=>{var h=c(2488),p=c(1469);a.exports=function(g,v,_){var x=v(g);return p(g)?x:h(x,_(g))}},4239:(a,u,c)=>{var h=c(2705),p=c(9607),g=c(2333),v=h?h.toStringTag:void 0;a.exports=function(_){return _==null?_===void 0?"[object Undefined]":"[object Null]":v&&v in Object(_)?p(_):g(_)}},9454:(a,u,c)=>{var h=c(4239),p=c(7005);a.exports=function(g){return p(g)&&h(g)=="[object Arguments]"}},939:(a,u,c)=>{var h=c(2492),p=c(7005);a.exports=function g(v,_,x,A,S){return v===_||(v==null||_==null||!p(v)&&!p(_)?v!=v&&_!=_:h(v,_,x,A,g,S))}},2492:(a,u,c)=>{var h=c(6384),p=c(7114),g=c(8351),v=c(6096),_=c(4160),x=c(1469),A=c(4144),S=c(6719),C="[object Arguments]",E="[object Array]",R="[object Object]",B=Object.prototype.hasOwnProperty;a.exports=function(I,O,U,L,N,H){var q=x(I),oe=x(O),J=q?E:_(I),ie=oe?E:_(O),se=(J=J==C?R:J)==R,le=(ie=ie==C?R:ie)==R,Q=J==ie;if(Q&&A(I)){if(!A(O))return!1;q=!0,se=!1}if(Q&&!se)return H||(H=new h),q||S(I)?p(I,O,U,L,N,H):g(I,O,J,U,L,N,H);if(!(1&U)){var Y=se&&B.call(I,"__wrapped__"),V=le&&B.call(O,"__wrapped__");if(Y||V){var k=Y?I.value():I,K=V?O.value():O;return H||(H=new h),N(k,K,U,L,H)}}return!!Q&&(H||(H=new h),v(I,O,U,L,N,H))}},8458:(a,u,c)=>{var h=c(3560),p=c(5346),g=c(3218),v=c(346),_=/^\[object .+?Constructor\]$/,x=Function.prototype,A=Object.prototype,S=x.toString,C=A.hasOwnProperty,E=RegExp("^"+S.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(R){return!(!g(R)||p(R))&&(h(R)?E:_).test(v(R))}},8749:(a,u,c)=>{var h=c(4239),p=c(1780),g=c(7005),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,a.exports=function(_){return g(_)&&p(_.length)&&!!v[h(_)]}},280:(a,u,c)=>{var h=c(5726),p=c(6916),g=Object.prototype.hasOwnProperty;a.exports=function(v){if(!h(v))return p(v);var _=[];for(var x in Object(v))g.call(v,x)&&x!="constructor"&&_.push(x);return _}},2545:a=>{a.exports=function(u,c){for(var h=-1,p=Array(u);++h<u;)p[h]=c(h);return p}},1717:a=>{a.exports=function(u){return function(c){return u(c)}}},4757:a=>{a.exports=function(u,c){return u.has(c)}},4429:(a,u,c)=>{var h=c(5639)["__core-js_shared__"];a.exports=h},7114:(a,u,c)=>{var h=c(8668),p=c(2908),g=c(4757);a.exports=function(v,_,x,A,S,C){var E=1&x,R=v.length,B=_.length;if(R!=B&&!(E&&B>R))return!1;var I=C.get(v),O=C.get(_);if(I&&O)return I==_&&O==v;var U=-1,L=!0,N=2&x?new h:void 0;for(C.set(v,_),C.set(_,v);++U<R;){var H=v[U],q=_[U];if(A)var oe=E?A(q,H,U,_,v,C):A(H,q,U,v,_,C);if(oe!==void 0){if(oe)continue;L=!1;break}if(N){if(!p(_,function(J,ie){if(!g(N,ie)&&(H===J||S(H,J,x,A,C)))return N.push(ie)})){L=!1;break}}else if(H!==q&&!S(H,q,x,A,C)){L=!1;break}}return C.delete(v),C.delete(_),L}},8351:(a,u,c)=>{var h=c(2705),p=c(1149),g=c(7813),v=c(7114),_=c(8776),x=c(1814),A=h?h.prototype:void 0,S=A?A.valueOf:void 0;a.exports=function(C,E,R,B,I,O,U){switch(R){case"[object DataView]":if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case"[object ArrayBuffer]":return!(C.byteLength!=E.byteLength||!O(new p(C),new p(E)));case"[object Boolean]":case"[object Date]":case"[object Number]":return g(+C,+E);case"[object Error]":return C.name==E.name&&C.message==E.message;case"[object RegExp]":case"[object String]":return C==E+"";case"[object Map]":var L=_;case"[object Set]":var N=1&B;if(L||(L=x),C.size!=E.size&&!N)return!1;var H=U.get(C);if(H)return H==E;B|=2,U.set(C,E);var q=v(L(C),L(E),B,I,O,U);return U.delete(C),q;case"[object Symbol]":if(S)return S.call(C)==S.call(E)}return!1}},6096:(a,u,c)=>{var h=c(8234),p=Object.prototype.hasOwnProperty;a.exports=function(g,v,_,x,A,S){var C=1&_,E=h(g),R=E.length;if(R!=h(v).length&&!C)return!1;for(var B=R;B--;){var I=E[B];if(!(C?I in v:p.call(v,I)))return!1}var O=S.get(g),U=S.get(v);if(O&&U)return O==v&&U==g;var L=!0;S.set(g,v),S.set(v,g);for(var N=C;++B<R;){var H=g[I=E[B]],q=v[I];if(x)var oe=C?x(q,H,I,v,g,S):x(H,q,I,g,v,S);if(!(oe===void 0?H===q||A(H,q,_,x,S):oe)){L=!1;break}N||(N=I=="constructor")}if(L&&!N){var J=g.constructor,ie=v.constructor;J==ie||!("constructor"in g)||!("constructor"in v)||typeof J=="function"&&J instanceof J&&typeof ie=="function"&&ie instanceof ie||(L=!1)}return S.delete(g),S.delete(v),L}},1957:(a,u,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=h},8234:(a,u,c)=>{var h=c(8866),p=c(9551),g=c(3674);a.exports=function(v){return h(v,g,p)}},5050:(a,u,c)=>{var h=c(7019);a.exports=function(p,g){var v=p.__data__;return h(g)?v[typeof g=="string"?"string":"hash"]:v.map}},852:(a,u,c)=>{var h=c(8458),p=c(7801);a.exports=function(g,v){var _=p(g,v);return h(_)?_:void 0}},9607:(a,u,c)=>{var h=c(2705),p=Object.prototype,g=p.hasOwnProperty,v=p.toString,_=h?h.toStringTag:void 0;a.exports=function(x){var A=g.call(x,_),S=x[_];try{x[_]=void 0;var C=!0}catch{}var E=v.call(x);return C&&(A?x[_]=S:delete x[_]),E}},9551:(a,u,c)=>{var h=c(4963),p=c(479),g=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols,_=v?function(x){return x==null?[]:(x=Object(x),h(v(x),function(A){return g.call(x,A)}))}:p;a.exports=_},4160:(a,u,c)=>{var h=c(8552),p=c(7071),g=c(3818),v=c(8525),_=c(577),x=c(4239),A=c(346),S="[object Map]",C="[object Promise]",E="[object Set]",R="[object WeakMap]",B="[object DataView]",I=A(h),O=A(p),U=A(g),L=A(v),N=A(_),H=x;(h&&H(new h(new ArrayBuffer(1)))!=B||p&&H(new p)!=S||g&&H(g.resolve())!=C||v&&H(new v)!=E||_&&H(new _)!=R)&&(H=function(q){var oe=x(q),J=oe=="[object Object]"?q.constructor:void 0,ie=J?A(J):"";if(ie)switch(ie){case I:return B;case O:return S;case U:return C;case L:return E;case N:return R}return oe}),a.exports=H},7801:a=>{a.exports=function(u,c){return u?.[c]}},1789:(a,u,c)=>{var h=c(4536);a.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:a=>{a.exports=function(u){var c=this.has(u)&&delete this.__data__[u];return this.size-=c?1:0,c}},7667:(a,u,c)=>{var h=c(4536),p=Object.prototype.hasOwnProperty;a.exports=function(g){var v=this.__data__;if(h){var _=v[g];return _==="__lodash_hash_undefined__"?void 0:_}return p.call(v,g)?v[g]:void 0}},1327:(a,u,c)=>{var h=c(4536),p=Object.prototype.hasOwnProperty;a.exports=function(g){var v=this.__data__;return h?v[g]!==void 0:p.call(v,g)}},1866:(a,u,c)=>{var h=c(4536);a.exports=function(p,g){var v=this.__data__;return this.size+=this.has(p)?0:1,v[p]=h&&g===void 0?"__lodash_hash_undefined__":g,this}},5776:a=>{var u=/^(?:0|[1-9]\d*)$/;a.exports=function(c,h){var p=typeof c;return!!(h=h??9007199254740991)&&(p=="number"||p!="symbol"&&u.test(c))&&c>-1&&c%1==0&&c<h}},7019:a=>{a.exports=function(u){var c=typeof u;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?u!=="__proto__":u===null}},5346:(a,u,c)=>{var h,p=c(4429),g=(h=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";a.exports=function(v){return!!g&&g in v}},5726:a=>{var u=Object.prototype;a.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||u)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,u,c)=>{var h=c(8470),p=Array.prototype.splice;a.exports=function(g){var v=this.__data__,_=h(v,g);return!(_<0||(_==v.length-1?v.pop():p.call(v,_,1),--this.size,0))}},2117:(a,u,c)=>{var h=c(8470);a.exports=function(p){var g=this.__data__,v=h(g,p);return v<0?void 0:g[v][1]}},7518:(a,u,c)=>{var h=c(8470);a.exports=function(p){return h(this.__data__,p)>-1}},4705:(a,u,c)=>{var h=c(8470);a.exports=function(p,g){var v=this.__data__,_=h(v,p);return _<0?(++this.size,v.push([p,g])):v[_][1]=g,this}},4785:(a,u,c)=>{var h=c(1989),p=c(8407),g=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new h,map:new(g||p),string:new h}}},1285:(a,u,c)=>{var h=c(5050);a.exports=function(p){var g=h(this,p).delete(p);return this.size-=g?1:0,g}},6e3:(a,u,c)=>{var h=c(5050);a.exports=function(p){return h(this,p).get(p)}},9916:(a,u,c)=>{var h=c(5050);a.exports=function(p){return h(this,p).has(p)}},5265:(a,u,c)=>{var h=c(5050);a.exports=function(p,g){var v=h(this,p),_=v.size;return v.set(p,g),this.size+=v.size==_?0:1,this}},8776:a=>{a.exports=function(u){var c=-1,h=Array(u.size);return u.forEach(function(p,g){h[++c]=[g,p]}),h}},4536:(a,u,c)=>{var h=c(852)(Object,"create");a.exports=h},6916:(a,u,c)=>{var h=c(5569)(Object.keys,Object);a.exports=h},1167:(a,u,c)=>{a=c.nmd(a);var h=c(1957),p=u&&!u.nodeType&&u,g=p&&a&&!a.nodeType&&a,v=g&&g.exports===p&&h.process,_=function(){try{return g&&g.require&&g.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();a.exports=_},2333:a=>{var u=Object.prototype.toString;a.exports=function(c){return u.call(c)}},5569:a=>{a.exports=function(u,c){return function(h){return u(c(h))}}},5639:(a,u,c)=>{var h=c(1957),p=typeof self=="object"&&self&&self.Object===Object&&self,g=h||p||Function("return this")();a.exports=g},619:a=>{a.exports=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(u){return this.__data__.has(u)}},1814:a=>{a.exports=function(u){var c=-1,h=Array(u.size);return u.forEach(function(p){h[++c]=p}),h}},7465:(a,u,c)=>{var h=c(8407);a.exports=function(){this.__data__=new h,this.size=0}},3779:a=>{a.exports=function(u){var c=this.__data__,h=c.delete(u);return this.size=c.size,h}},7599:a=>{a.exports=function(u){return this.__data__.get(u)}},4758:a=>{a.exports=function(u){return this.__data__.has(u)}},4309:(a,u,c)=>{var h=c(8407),p=c(7071),g=c(3369);a.exports=function(v,_){var x=this.__data__;if(x instanceof h){var A=x.__data__;if(!p||A.length<199)return A.push([v,_]),this.size=++x.size,this;x=this.__data__=new g(A)}return x.set(v,_),this.size=x.size,this}},346:a=>{var u=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return u.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(u,c){return u===c||u!=u&&c!=c}},5694:(a,u,c)=>{var h=c(9454),p=c(7005),g=Object.prototype,v=g.hasOwnProperty,_=g.propertyIsEnumerable,x=h(function(){return arguments}())?h:function(A){return p(A)&&v.call(A,"callee")&&!_.call(A,"callee")};a.exports=x},1469:a=>{var u=Array.isArray;a.exports=u},8612:(a,u,c)=>{var h=c(3560),p=c(1780);a.exports=function(g){return g!=null&&p(g.length)&&!h(g)}},4144:(a,u,c)=>{a=c.nmd(a);var h=c(5639),p=c(5062),g=u&&!u.nodeType&&u,v=g&&a&&!a.nodeType&&a,_=v&&v.exports===g?h.Buffer:void 0,x=(_?_.isBuffer:void 0)||p;a.exports=x},8446:(a,u,c)=>{var h=c(939);a.exports=function(p,g){return h(p,g)}},3560:(a,u,c)=>{var h=c(4239),p=c(3218);a.exports=function(g){if(!p(g))return!1;var v=h(g);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},1780:a=>{a.exports=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991}},3218:a=>{a.exports=function(u){var c=typeof u;return u!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(u){return u!=null&&typeof u=="object"}},6719:(a,u,c)=>{var h=c(8749),p=c(1717),g=c(1167),v=g&&g.isTypedArray,_=v?p(v):h;a.exports=_},3674:(a,u,c)=>{var h=c(4636),p=c(280),g=c(8612);a.exports=function(v){return g(v)?h(v):p(v)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var u,c,h,p,g,v;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(u()-g)/1e6},c=process.hrtime,p=(u=function(){var _;return 1e9*(_=c())[0]+_[1]})(),v=1e9*process.uptime(),g=p-v):Date.now?(a.exports=function(){return Date.now()-h},h=Date.now()):(a.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(a,u,c)=>{for(var h=c(75),p=typeof window>"u"?c.g:window,g=["moz","webkit"],v="AnimationFrame",_=p["request"+v],x=p["cancel"+v]||p["cancelRequest"+v],A=0;!_&&A<g.length;A++)_=p[g[A]+"Request"+v],x=p[g[A]+"Cancel"+v]||p[g[A]+"CancelRequest"+v];if(!_||!x){var S=0,C=0,E=[];_=function(R){if(E.length===0){var B=h(),I=Math.max(0,16.666666666666668-(B-S));S=I+B,setTimeout(function(){var O=E.slice(0);E.length=0;for(var U=0;U<O.length;U++)if(!O[U].cancelled)try{O[U].callback(S)}catch(L){setTimeout(function(){throw L},0)}},Math.round(I))}return E.push({handle:++C,callback:R,cancelled:!1}),C},x=function(R){for(var B=0;B<E.length;B++)E[B].handle===R&&(E[B].cancelled=!0)}}a.exports=function(R){return _.call(p,R)},a.exports.cancel=function(){x.apply(p,arguments)},a.exports.polyfill=function(R){R||(R=p),R.requestAnimationFrame=_,R.cancelAnimationFrame=x}},8156:a=>{a.exports=t}},i={};function s(a){var u=i[a];if(u!==void 0)return u.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return n[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var u=a&&a.__esModule?()=>a.default:()=>a;return s.d(u,{a:u}),u},s.d=(a,u)=>{for(var c in u)s.o(u,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:u[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,u)=>Object.prototype.hasOwnProperty.call(a,u),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>E});var a=s(8156),u=s.n(a),c=s(7403),h=s(8446),p=s.n(h);function g(R){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},g(R)}function v(R,B){for(var I=0;I<B.length;I++){var O=B[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,S(O.key),O)}}function _(R,B){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,O){return I.__proto__=O,I},_(R,B)}function x(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function A(R){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},A(R)}function S(R){var B=function(I,O){if(g(I)!=="object"||I===null)return I;var U=I[Symbol.toPrimitive];if(U!==void 0){var L=U.call(I,"string");if(g(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(R);return g(B)==="symbol"?B:String(B)}var C=function(R){(function(H,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(q&&q.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),q&&_(H,q)})(N,R);var B,I,O,U,L=(O=N,U=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var H,q=A(O);if(U){var oe=A(this).constructor;H=Reflect.construct(q,arguments,oe)}else H=q.apply(this,arguments);return function(J,ie){if(ie&&(g(ie)==="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(J)}(this,H)});function N(){var H,q,oe,J;(function(Q,Y){if(!(Q instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,N);for(var ie=arguments.length,se=new Array(ie),le=0;le<ie;le++)se[le]=arguments[le];return q=x(H=L.call.apply(L,[this].concat(se))),J={instance:null},(oe=S(oe="state"))in q?Object.defineProperty(q,oe,{value:J,enumerable:!0,configurable:!0,writable:!0}):q[oe]=J,H}return B=N,(I=[{key:"componentDidMount",value:function(){var H=this,q=new c.default(this.typewriter,this.props.options);this.setState({instance:q},function(){var oe=H.props.onInit;oe&&oe(q)})}},{key:"componentDidUpdate",value:function(H){p()(this.props.options,H.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var H=this,q=this.props.component;return u().createElement(q,{ref:function(oe){return H.typewriter=oe},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&v(B.prototype,I),Object.defineProperty(B,"prototype",{writable:!1}),N}(a.Component);C.defaultProps={component:"div"};const E=C})(),o.default})())}(bv)),bv.exports}T8();function rl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PB(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Bs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Bd={duration:.5,overwrite:!1,delay:0},lM,ar,Xn,$s=1e8,Bn=1/$s,y1=Math.PI*2,C8=y1/4,b8=0,BB=Math.sqrt,R8=Math.cos,P8=Math.sin,Yi=function(e){return typeof e=="string"},li=function(e){return typeof e=="function"},_l=function(e){return typeof e=="number"},uM=function(e){return typeof e>"u"},ya=function(e){return typeof e=="object"},rs=function(e){return e!==!1},cM=function(){return typeof window<"u"},gv=function(e){return li(e)||Yi(e)},LB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Mr=Array.isArray,_1=/(?:-?\.?\d|\.)+/gi,DB=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,hd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Zx=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,IB=/[+-]=-?[.\d]+/,FB=/[^,'"\[\]\s]+/gi,B8=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,qn,oa,x1,fM,Ds={},qv={},OB,NB=function(e){return(qv=Ld(e,Ds))&&us},hM=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},jm=function(e,t){return!t&&console.warn(e)},UB=function(e,t){return e&&(Ds[e]=t)&&qv&&(qv[e]=t)||Ds},Xm=function(){return 0},L8={suppressEvents:!0,isStart:!0,kill:!1},Rv={suppressEvents:!0,kill:!1},D8={suppressEvents:!0},dM={},Su=[],A1={},kB,ws={},$x={},YC=30,Pv=[],pM="",mM=function(e){var t=e[0],n,i;if(ya(t)||li(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=Pv.length;i--&&!Pv[i].targetTest(t););n=Pv[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new uL(e[i],n)))||e.splice(i,1);return e},ff=function(e){return e._gsap||mM(eo(e))[0]._gsap},zB=function(e,t,n){return(n=e[t])&&li(n)?e[t]():uM(n)&&e.getAttribute&&e.getAttribute(t)||n},ss=function(e,t){return(e=e.split(",")).forEach(t)||e},pi=function(e){return Math.round(e*1e5)/1e5||0},Ci=function(e){return Math.round(e*1e7)/1e7||0},yd=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},I8=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},Zv=function(){var e=Su.length,t=Su.slice(0),n,i;for(A1={},Su.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},gM=function(e){return!!(e._initted||e._startAt||e.add)},GB=function(e,t,n,i){Su.length&&!ar&&Zv(),e.render(t,n,!!(ar&&t<0&&gM(e))),Su.length&&!ar&&Zv()},HB=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(FB).length<2?t:Yi(e)?e.trim():e},VB=function(e){return e},Is=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},F8=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},Ld=function(e,t){for(var n in t)e[n]=t[n];return e},KC=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=ya(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},$v=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Mm=function(e){var t=e.parent||qn,n=e.keyframes?F8(Mr(e.keyframes)):Is;if(rs(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},O8=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},WB=function(e,t,n,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},jy=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Pu=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},hf=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},N8=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},S1=function(e,t,n,i){return e._startAt&&(ar?e._startAt.revert(Rv):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},U8=function r(e){return!e||e._ts&&r(e.parent)},QC=function(e){return e._repeat?Dd(e._tTime,e=e.duration()+e._rDelay)*e:0},Dd=function(e,t){var n=Math.floor(e=Ci(e/t));return e&&n===e?n-1:n},ey=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Xy=function(e){return e._end=Ci(e._start+(e._tDur/Math.abs(e._ts||e._rts||Bn)||0))},Jy=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ci(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Xy(e),n._dirty||hf(n,e)),e},jB=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=ey(e.rawTime(),t),(!t._dur||xg(0,t.totalDuration(),n)-t._tTime>Bn)&&t.render(n,!0)),hf(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Bn}},la=function(e,t,n,i){return t.parent&&Pu(t),t._start=Ci((_l(n)?n:n||e!==qn?Qs(e,n,t):e._time)+t._delay),t._end=Ci(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),WB(e,t,"_first","_last",e._sort?"_start":0),M1(t)||(e._recent=t),i||jB(e,t),e._ts<0&&Jy(e,e._tTime),e},XB=function(e,t){return(Ds.ScrollTrigger||hM("scrollTrigger",t))&&Ds.ScrollTrigger.create(t,e)},JB=function(e,t,n,i,s){if(yM(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!ar&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&kB!==Ts.frame)return Su.push(e),e._lazy=[s,i],1},k8=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},M1=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},z8=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&k8(e)&&!(!e._initted&&M1(e))||(e._ts<0||e._dp._ts<0)&&!M1(e))?0:1,a=e._rDelay,u=0,c,h,p;if(a&&e._repeat&&(u=xg(0,e._tDur,t),h=Dd(u,a),e._yoyo&&h&1&&(o=1-o),h!==Dd(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ar||i||e._zTime===Bn||!t&&e._zTime){if(!e._initted&&JB(e,t,i,n,u))return;for(p=e._zTime,e._zTime=t||(n?Bn:0),n||(n=t&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&S1(e,t,n,!0),e._onUpdate&&!n&&bs(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&bs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Pu(e,1),!n&&!ar&&(bs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},G8=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Id=function(e,t,n,i){var s=e._repeat,o=Ci(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Ci(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Jy(e,e._tTime=e._tDur*a),e.parent&&Xy(e),n||hf(e.parent,e),e},qC=function(e){return e instanceof zr?hf(e):Id(e,e._dur)},H8={_start:0,endTime:Xm,totalDuration:Xm},Qs=function r(e,t,n){var i=e.labels,s=e._recent||H8,o=e.duration()>=$s?s.endTime(!1):e._dur,a,u,c;return Yi(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),u==="<"||u===">"?(a>=0&&(t=t.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(u=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(u=u/100*(Mr(n)?n[0]:n).totalDuration()),a>1?r(e,t.substr(0,a-1),n)+u:o+u)):t==null?o:+t},wm=function(e,t,n){var i=_l(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,u;if(i&&(o.duration=t[1]),o.parent=n,e){for(a=o,u=n;u&&!("immediateRender"in a);)a=u.vars.defaults||{},u=rs(u.vars.inherit)&&u.parent;o.immediateRender=rs(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Ti(t[0],o,t[s+1])},Nu=function(e,t){return e||e===0?t(e):t},xg=function(e,t,n){return n<e?e:n>t?t:n},Ar=function(e,t){return!Yi(e)||!(t=B8.exec(e))?"":t[1]},V8=function(e,t,n){return Nu(n,function(i){return xg(e,t,i)})},w1=[].slice,YB=function(e,t){return e&&ya(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ya(e[0]))&&!e.nodeType&&e!==oa},W8=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return Yi(i)&&!t||YB(i,1)?(s=n).push.apply(s,eo(i)):n.push(i)})||n},eo=function(e,t,n){return Xn&&!t&&Xn.selector?Xn.selector(e):Yi(e)&&!n&&(x1||!Fd())?w1.call((t||fM).querySelectorAll(e),0):Mr(e)?W8(e,n):YB(e)?w1.call(e,0):e?[e]:[]},E1=function(e){return e=eo(e)[0]||jm("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return eo(t,n.querySelectorAll?n:n===e?jm("Invalid scope")||fM.createElement("div"):e)}},KB=function(e){return e.sort(function(){return .5-Math.random()})},QB=function(e){if(li(e))return e;var t=ya(e)?e:{each:e},n=df(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,u=isNaN(i)||a,c=t.axis,h=i,p=i;return Yi(i)?h=p={center:.5,edges:.5,end:1}[i]||0:!a&&u&&(h=i[0],p=i[1]),function(g,v,_){var x=(_||t).length,A=o[x],S,C,E,R,B,I,O,U,L;if(!A){if(L=t.grid==="auto"?0:(t.grid||[1,$s])[1],!L){for(O=-$s;O<(O=_[L++].getBoundingClientRect().left)&&L<x;);L<x&&L--}for(A=o[x]=[],S=u?Math.min(L,x)*h-.5:i%L,C=L===$s?0:u?x*p/L-.5:i/L|0,O=0,U=$s,I=0;I<x;I++)E=I%L-S,R=C-(I/L|0),A[I]=B=c?Math.abs(c==="y"?R:E):BB(E*E+R*R),B>O&&(O=B),B<U&&(U=B);i==="random"&&KB(A),A.max=O-U,A.min=U,A.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(L>x?x-1:c?c==="y"?x/L:L:Math.max(L,x/L))||0)*(i==="edges"?-1:1),A.b=x<0?s-x:s,A.u=Ar(t.amount||t.each)||0,n=n&&x<0?oL(n):n}return x=(A[g]-A.min)/A.max||0,Ci(A.b+(n?n(x):x)*A.v)+A.u}},T1=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Ci(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(_l(n)?0:Ar(n))}},qB=function(e,t){var n=Mr(e),i,s;return!n&&ya(e)&&(i=n=e.radius||$s,e.values?(e=eo(e.values),(s=!_l(e[0]))&&(i*=i)):e=T1(e.increment)),Nu(t,n?li(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),c=$s,h=0,p=e.length,g,v;p--;)s?(g=e[p].x-a,v=e[p].y-u,g=g*g+v*v):g=Math.abs(e[p]-a),g<c&&(c=g,h=p);return h=!i||c<=i?e[h]:o,s||h===o||_l(o)?h:h+Ar(o)}:T1(e))},ZB=function(e,t,n,i){return Nu(Mr(e)?!t:n===!0?!!(n=0):!i,function(){return Mr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},j8=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},X8=function(e,t){return function(n){return e(parseFloat(n))+(t||Ar(n))}},J8=function(e,t,n){return eL(e,t,0,1,n)},$B=function(e,t,n){return Nu(n,function(i){return e[~~t(i)]})},Y8=function r(e,t,n){var i=t-e;return Mr(e)?$B(e,r(0,e.length),t):Nu(n,function(s){return(i+(s-e)%i)%i+e})},K8=function r(e,t,n){var i=t-e,s=i*2;return Mr(e)?$B(e,r(0,e.length-1),t):Nu(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Jm=function(e){for(var t=0,n="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?FB:_1),n+=e.substr(t,i-t)+ZB(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},eL=function(e,t,n,i,s){var o=t-e,a=i-n;return Nu(s,function(u){return n+((u-e)/o*a||0)})},Q8=function r(e,t,n,i){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var o=Yi(e),a={},u,c,h,p,g;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if(Mr(e)&&!Mr(t)){for(h=[],p=e.length,g=p-2,c=1;c<p;c++)h.push(r(e[c-1],e[c]));p--,s=function(_){_*=p;var x=Math.min(g,~~_);return h[x](_-x)},n=t}else i||(e=Ld(Mr(e)?[]:{},e));if(!h){for(u in t)vM.call(a,e,u,"get",t[u]);s=function(_){return AM(_,a)||(o?e.p:e)}}}return Nu(n,s)},ZC=function(e,t,n){var i=e.labels,s=$s,o,a,u;for(o in i)a=i[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(u=o,s=a);return u},bs=function(e,t,n){var i=e.vars,s=i[t],o=Xn,a=e._ctx,u,c,h;if(s)return u=i[t+"Params"],c=i.callbackScope||e,n&&Su.length&&Zv(),a&&(Xn=a),h=u?s.apply(c,u):s.call(c),Xn=o,h},hm=function(e){return Pu(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ar),e.progress()<1&&bs(e,"onInterrupt"),e},dd,tL=[],nL=function(e){if(e)if(e=!e.name&&e.default||e,cM()||e.headless){var t=e.name,n=li(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Xm,render:AM,add:vM,kill:h6,modifier:f6,rawVars:0},o={targetTest:0,get:0,getSetter:xM,aliases:{},register:0};if(Fd(),e!==i){if(ws[t])return;Is(i,Is($v(e,s),o)),Ld(i.prototype,Ld(s,$v(e,o))),ws[i.prop=t]=i,e.targetTest&&(Pv.push(i),dM[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}UB(t,i),e.register&&e.register(us,i,os)}else tL.push(e)},Pn=255,dm={aqua:[0,Pn,Pn],lime:[0,Pn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pn],navy:[0,0,128],white:[Pn,Pn,Pn],olive:[128,128,0],yellow:[Pn,Pn,0],orange:[Pn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pn,0,0],pink:[Pn,192,203],cyan:[0,Pn,Pn],transparent:[Pn,Pn,Pn,0]},eA=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Pn+.5|0},iL=function(e,t,n){var i=e?_l(e)?[e>>16,e>>8&Pn,e&Pn]:0:dm.black,s,o,a,u,c,h,p,g,v,_;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),dm[e])i=dm[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Pn,i&Pn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Pn,e&Pn]}else if(e.substr(0,3)==="hsl"){if(i=_=e.match(_1),!t)u=+i[0]%360/360,c=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(c+1):h+c-h*c,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=eA(u+1/3,s,o),i[1]=eA(u,s,o),i[2]=eA(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(DB),n&&i.length<4&&(i[3]=1),i}else i=e.match(_1)||dm.transparent;i=i.map(Number)}return t&&!_&&(s=i[0]/Pn,o=i[1]/Pn,a=i[2]/Pn,p=Math.max(s,o,a),g=Math.min(s,o,a),h=(p+g)/2,p===g?u=c=0:(v=p-g,c=h>.5?v/(2-p-g):v/(p+g),u=p===s?(o-a)/v+(o<a?6:0):p===o?(a-s)/v+2:(s-o)/v+4,u*=60),i[0]=~~(u+.5),i[1]=~~(c*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},rL=function(e){var t=[],n=[],i=-1;return e.split(Mu).forEach(function(s){var o=s.match(hd)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},$C=function(e,t,n){var i="",s=(e+i).match(Mu),o=t?"hsla(":"rgba(",a=0,u,c,h,p;if(!s)return e;if(s=s.map(function(g){return(g=iL(g,t,1))&&o+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(h=rL(e),u=n.c,u.join(i)!==h.c.join(i)))for(c=e.replace(Mu,"1").split(hd),p=c.length-1;a<p;a++)i+=c[a]+(~u.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!c)for(c=e.split(Mu),p=c.length-1;a<p;a++)i+=c[a]+s[a];return i+c[p]},Mu=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in dm)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),q8=/hsl[a]?\(/,sL=function(e){var t=e.join(" "),n;if(Mu.lastIndex=0,Mu.test(t))return n=q8.test(t),e[1]=$C(e[1],n),e[0]=$C(e[0],n,rL(e[1])),!0},Ym,Ts=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,a=[],u,c,h,p,g,v,_=function x(A){var S=r()-i,C=A===!0,E,R,B,I;if((S>e||S<0)&&(n+=S-t),i+=S,B=i-n,E=B-o,(E>0||C)&&(I=++p.frame,g=B-p.time*1e3,p.time=B=B/1e3,o+=E+(E>=s?4:s-E),R=1),C||(u=c(x)),R)for(v=0;v<a.length;v++)a[v](B,g,I,A)};return p={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(A){return g/(1e3/(A||60))},wake:function(){OB&&(!x1&&cM()&&(oa=x1=window,fM=oa.document||{},Ds.gsap=us,(oa.gsapVersions||(oa.gsapVersions=[])).push(us.version),NB(qv||oa.GreenSockGlobals||!oa.gsap&&oa||{}),tL.forEach(nL)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),c=h||function(A){return setTimeout(A,o-p.time*1e3+1|0)},Ym=1,_(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),Ym=0,c=Xm},lagSmoothing:function(A,S){e=A||1/0,t=Math.min(S||33,e)},fps:function(A){s=1e3/(A||240),o=p.time*1e3+s},add:function(A,S,C){var E=S?function(R,B,I,O){A(R,B,I,O),p.remove(E)}:A;return p.remove(A),a[C?"unshift":"push"](E),Fd(),E},remove:function(A,S){~(S=a.indexOf(A))&&a.splice(S,1)&&v>=S&&v--},_listeners:a},p}(),Fd=function(){return!Ym&&Ts.wake()},ln={},Z8=/^[\d.\-M][\d.\-,\s]/,$8=/["']/g,e6=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,u,c;s<o;s++)u=n[s],a=s!==o-1?u.lastIndexOf(","):u.length,c=u.substr(0,a),t[i]=isNaN(c)?c.replace($8,"").trim():+c,i=u.substr(a+1).trim();return t},t6=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},n6=function(e){var t=(e+"").split("("),n=ln[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[e6(t[1])]:t6(e).split(",").map(HB)):ln._CE&&Z8.test(e)?ln._CE("",e):n},oL=function(e){return function(t){return 1-e(1-t)}},aL=function r(e,t){for(var n=e._first,i;n;)n instanceof zr?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},df=function(e,t){return e&&(li(e)?e:ln[e]||n6(e))||t},Bf=function(e,t,n,i){n===void 0&&(n=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return ss(e,function(a){ln[a]=Ds[a]=s,ln[o=a.toLowerCase()]=n;for(var u in s)ln[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=ln[a+"."+u]=s[u]}),s},lL=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},tA=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/y1*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*P8((h-o)*s)+1},u=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:lL(a);return s=y1/s,u.config=function(c,h){return r(e,c,h)},u},nA=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:lL(n);return i.config=function(s){return r(e,s)},i};ss("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Bf(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});ln.Linear.easeNone=ln.none=ln.Linear.easeIn;Bf("Elastic",tA("in"),tA("out"),tA());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(a){return a<t?r*a*a:a<n?r*Math.pow(a-1.5/e,2)+.75:a<i?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};Bf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Bf("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Bf("Circ",function(r){return-(BB(1-r*r)-1)});Bf("Sine",function(r){return r===1?1:-R8(r*C8)+1});Bf("Back",nA("in"),nA("out"),nA());ln.SteppedEase=ln.steps=Ds.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-Bn;return function(a){return((i*xg(0,o,a)|0)+s)*n}}};Bd.ease=ln["quad.out"];ss("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return pM+=r+","+r+"Params,"});var uL=function(e,t){this.id=b8++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:zB,this.set=t?t.getSetter:xM},Km=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Id(this,+t.duration,1,1),this.data=t.data,Xn&&(this._ctx=Xn,Xn.data.push(this)),Ym||Ts.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Id(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(Fd(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Jy(this,n),!s._dp||s.parent||jB(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&la(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Bn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),GB(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+QC(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+QC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?Dd(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-Bn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?ey(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Bn?0:this._rts,this.totalTime(xg(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Xy(this),N8(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Fd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Bn&&(this._tTime-=Bn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&la(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(rs(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ey(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=D8);var i=ar;return ar=n,gM(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ar=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,qC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,qC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Qs(this,n),rs(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,rs(i)),this._dur||(this._zTime=-Bn),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Bn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Bn,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Bn)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=li(n)?n:VB,a=function(){var c=i.then;i.then=null,li(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){hm(this)},r}();Is(Km.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Bn,_prom:0,_ps:!1,_rts:1});var zr=function(r){PB(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=rs(n.sortChildren),qn&&la(n.parent||qn,rl(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&XB(rl(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return wm(0,arguments,this),this},t.from=function(i,s,o){return wm(1,arguments,this),this},t.fromTo=function(i,s,o,a){return wm(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Mm(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ti(i,s,Qs(this,o),1),this},t.call=function(i,s,o){return la(this,Ti.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,u,c,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new Ti(i,o,Qs(this,u)),this},t.staggerFrom=function(i,s,o,a,u,c,h){return o.runBackwards=1,Mm(o).immediateRender=rs(o.immediateRender),this.staggerTo(i,s,o,a,u,c,h)},t.staggerFromTo=function(i,s,o,a,u,c,h,p){return a.startAt=o,Mm(a).immediateRender=rs(a.immediateRender),this.staggerTo(i,s,a,u,c,h,p)},t.render=function(i,s,o){var a=this._time,u=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=i<=0?0:Ci(i),p=this._zTime<0!=i<0&&(this._initted||!c),g,v,_,x,A,S,C,E,R,B,I,O;if(this!==qn&&h>u&&i>=0&&(h=u),h!==this._tTime||o||p){if(a!==this._time&&c&&(h+=this._time-a,i+=this._time-a),g=h,R=this._start,E=this._ts,S=!E,p&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(I=this._yoyo,A=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(A*100+i,s,o);if(g=Ci(h%A),h===u?(x=this._repeat,g=c):(B=Ci(h/A),x=~~B,x&&x===B&&(g=c,x--),g>c&&(g=c)),B=Dd(this._tTime,A),!a&&this._tTime&&B!==x&&this._tTime-B*A-this._dur<=0&&(B=x),I&&x&1&&(g=c-g,O=1),x!==B&&!this._lock){var U=I&&B&1,L=U===(I&&x&1);if(x<B&&(U=!U),a=U?0:h%c?c:h,this._lock=1,this.render(a||(O?0:Ci(x*A)),s,!c)._lock=0,this._tTime=h,!s&&this.parent&&bs(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,u=this._tDur,L&&(this._lock=2,a=U?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;aL(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=G8(this,Ci(a),Ci(g)),C&&(h-=g-(g=C._start))),this._tTime=h,this._time=g,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!B&&(bs(this,"onStart"),this._tTime!==h))return this;if(g>=a&&i>=0)for(v=this._first;v;){if(_=v._next,(v._act||g>=v._start)&&v._ts&&C!==v){if(v.parent!==this)return this.render(i,s,o);if(v.render(v._ts>0?(g-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(g-v._start)*v._ts,s,o),g!==this._time||!this._ts&&!S){C=0,_&&(h+=this._zTime=-Bn);break}}v=_}else{v=this._last;for(var N=i<0?i:g;v;){if(_=v._prev,(v._act||N<=v._end)&&v._ts&&C!==v){if(v.parent!==this)return this.render(i,s,o);if(v.render(v._ts>0?(N-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(N-v._start)*v._ts,s,o||ar&&gM(v)),g!==this._time||!this._ts&&!S){C=0,_&&(h+=this._zTime=N?-Bn:Bn);break}}v=_}}if(C&&!s&&(this.pause(),C.render(g>=a?0:-Bn)._zTime=g>=a?1:-1,this._ts))return this._start=R,Xy(this),this.render(i,s,o);this._onUpdate&&!s&&bs(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&a)&&(R===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(h===u&&this._ts>0||!h&&this._ts<0)&&Pu(this,1),!s&&!(i<0&&!a)&&(h||a||!u)&&(bs(this,h===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(_l(s)||(s=Qs(this,s,i)),!(i instanceof Km)){if(Mr(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Yi(i))return this.addLabel(i,s);if(li(i))i=Ti.delayedCall(0,i);else return this}return this!==i?la(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-$s);for(var u=[],c=this._first;c;)c._start>=a&&(c instanceof Ti?s&&u.push(c):(o&&u.push(c),i&&u.push.apply(u,c.getChildren(!0,s,o)))),c=c._next;return u},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Yi(i)?this.removeLabel(i):li(i)?this.killTweensOf(i):(i.parent===this&&jy(this,i),i===this._recent&&(this._recent=this._last),hf(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ci(Ts.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Qs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Ti.delayedCall(0,s||Xm,o);return a.data="isPause",this._hasPause=1,la(this,a,Qs(this,i))},t.removePause=function(i){var s=this._first;for(i=Qs(this,i);s;)s._start===i&&s.data==="isPause"&&Pu(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),u=a.length;u--;)pu!==a[u]&&a[u].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=eo(i),u=this._first,c=_l(s),h;u;)u instanceof Ti?I8(u._targets,a)&&(c?(!pu||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(h=u.getTweensOf(a,s)).length&&o.push.apply(o,h),u=u._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Qs(o,i),u=s,c=u.startAt,h=u.onStart,p=u.onStartParams,g=u.immediateRender,v,_=Ti.to(o,Is({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Bn,onStart:function(){if(o.pause(),!v){var A=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());_._dur!==A&&Id(_,A,0,1).render(_._time,!0,!0),v=1}h&&h.apply(_,p||[])}},s));return g?_.render(0):_},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Is({startAt:{time:Qs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),ZC(this,Qs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),ZC(this,Qs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Bn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,u=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in u)u[c]>=o&&(u[c]+=i);return hf(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),hf(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,u=$s,c,h,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,la(o,a,h-a._delay,1)._lock=0):u=h,h<0&&a._ts&&(s-=h,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),a._end>s&&a._ts&&(s=a._end),a=c;Id(o,o===qn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(qn._ts&&(GB(qn,ey(i,qn)),kB=Ts.frame),Ts.frame>=YC){YC+=Bs.autoSleep||120;var s=qn._first;if((!s||!s._ts)&&Bs.autoSleep&&Ts._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ts.sleep()}}},e}(Km);Is(zr.prototype,{_lock:0,_hasPause:0,_forcing:0});var i6=function(e,t,n,i,s,o,a){var u=new os(this._pt,e,t,0,1,mL,null,s),c=0,h=0,p,g,v,_,x,A,S,C;for(u.b=n,u.e=i,n+="",i+="",(S=~i.indexOf("random("))&&(i=Jm(i)),o&&(C=[n,i],o(C,e,t),n=C[0],i=C[1]),g=n.match(Zx)||[];p=Zx.exec(i);)_=p[0],x=i.substring(c,p.index),v?v=(v+1)%5:x.substr(-5)==="rgba("&&(v=1),_!==g[h++]&&(A=parseFloat(g[h-1])||0,u._pt={_next:u._pt,p:x||h===1?x:",",s:A,c:_.charAt(1)==="="?yd(A,_)-A:parseFloat(_)-A,m:v&&v<4?Math.round:0},c=Zx.lastIndex);return u.c=c<i.length?i.substring(c,i.length):"",u.fp=a,(IB.test(i)||S)&&(u.e=0),this._pt=u,u},vM=function(e,t,n,i,s,o,a,u,c,h){li(i)&&(i=i(s||0,e,o));var p=e[t],g=n!=="get"?n:li(p)?c?e[t.indexOf("set")||!li(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():p,v=li(p)?c?l6:dL:_M,_;if(Yi(i)&&(~i.indexOf("random(")&&(i=Jm(i)),i.charAt(1)==="="&&(_=yd(g,i)+(Ar(g)||0),(_||_===0)&&(i=_))),!h||g!==i||C1)return!isNaN(g*i)&&i!==""?(_=new os(this._pt,e,t,+g||0,i-(g||0),typeof p=="boolean"?c6:pL,0,v),c&&(_.fp=c),a&&_.modifier(a,this,e),this._pt=_):(!p&&!(t in e)&&hM(t,i),i6.call(this,e,t,g,i,v,u||Bs.stringFilter,c))},r6=function(e,t,n,i,s){if(li(e)&&(e=Em(e,s,t,n,i)),!ya(e)||e.style&&e.nodeType||Mr(e)||LB(e))return Yi(e)?Em(e,s,t,n,i):e;var o={},a;for(a in e)o[a]=Em(e[a],s,t,n,i);return o},cL=function(e,t,n,i,s,o){var a,u,c,h;if(ws[e]&&(a=new ws[e]).init(s,a.rawVars?t[e]:r6(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=u=new os(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==dd))for(c=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)c[a._props[h]]=u;return a},pu,C1,yM=function r(e,t,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,u=i.lazy,c=i.onUpdate,h=i.runBackwards,p=i.yoyoEase,g=i.keyframes,v=i.autoRevert,_=e._dur,x=e._startAt,A=e._targets,S=e.parent,C=S&&S.data==="nested"?S.vars.targets:A,E=e._overwrite==="auto"&&!lM,R=e.timeline,B,I,O,U,L,N,H,q,oe,J,ie,se,le;if(R&&(!g||!s)&&(s="none"),e._ease=df(s,Bd.ease),e._yEase=p?oL(df(p===!0?s:p,Bd.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!R&&!!i.runBackwards,!R||g&&!i.stagger){if(q=A[0]?ff(A[0]).harness:0,se=q&&i[q.prop],B=$v(i,dM),x&&(x._zTime<0&&x.progress(1),t<0&&h&&a&&!v?x.render(-1,!0):x.revert(h&&_?Rv:L8),x._lazy=0),o){if(Pu(e._startAt=Ti.set(A,Is({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!x&&rs(u),startAt:null,delay:0,onUpdate:c&&function(){return bs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ar||!a&&!v)&&e._startAt.revert(Rv),a&&_&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(h&&_&&!x){if(t&&(a=!1),O=Is({overwrite:!1,data:"isFromStart",lazy:a&&!x&&rs(u),immediateRender:a,stagger:0,parent:S},B),se&&(O[q.prop]=se),Pu(e._startAt=Ti.set(A,O)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ar?e._startAt.revert(Rv):e._startAt.render(-1,!0)),e._zTime=t,!a)r(e._startAt,Bn,Bn);else if(!t)return}for(e._pt=e._ptCache=0,u=_&&rs(u)||u&&!_,I=0;I<A.length;I++){if(L=A[I],H=L._gsap||mM(A)[I]._gsap,e._ptLookup[I]=J={},A1[H.id]&&Su.length&&Zv(),ie=C===A?I:C.indexOf(L),q&&(oe=new q).init(L,se||B,e,ie,C)!==!1&&(e._pt=U=new os(e._pt,L,oe.name,0,1,oe.render,oe,0,oe.priority),oe._props.forEach(function(Q){J[Q]=U}),oe.priority&&(N=1)),!q||se)for(O in B)ws[O]&&(oe=cL(O,B,e,ie,L,C))?oe.priority&&(N=1):J[O]=U=vM.call(e,L,O,"get",B[O],ie,C,0,i.stringFilter);e._op&&e._op[I]&&e.kill(L,e._op[I]),E&&e._pt&&(pu=e,qn.killTweensOf(L,J,e.globalTime(t)),le=!e.parent,pu=0),e._pt&&u&&(A1[H.id]=1)}N&&gL(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!le,g&&t<=0&&R.render($s,!0,!0)},s6=function(e,t,n,i,s,o,a,u){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,p,g,v;if(!c)for(c=e._ptCache[t]=[],g=e._ptLookup,v=e._targets.length;v--;){if(h=g[v][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return C1=1,e.vars[t]="+=0",yM(e,a),C1=0,u?jm(t+" not eligible for reset"):1;c.push(h)}for(v=c.length;v--;)p=c[v],h=p._pt||p,h.s=(i||i===0)&&!s?i:h.s+(i||0)+o*h.c,h.c=n-h.s,p.e&&(p.e=pi(n)+Ar(p.e)),p.b&&(p.b=h.s+Ar(p.b))},o6=function(e,t){var n=e[0]?ff(e[0]).harness:0,i=n&&n.aliases,s,o,a,u;if(!i)return t;s=Ld({},t);for(o in i)if(o in s)for(u=i[o].split(","),a=u.length;a--;)s[u[a]]=s[o];return s},a6=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,a;if(Mr(t))a=n[e]||(n[e]=[]),t.forEach(function(u,c){return a.push({t:c/(t.length-1)*100,v:u,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Em=function(e,t,n,i,s){return li(e)?e.call(t,n,i,s):Yi(e)&&~e.indexOf("random(")?Jm(e):e},fL=pM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hL={};ss(fL+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return hL[r]=1});var Ti=function(r){PB(e,r);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=r.call(this,o?i:Mm(i))||this;var u=a.vars,c=u.duration,h=u.delay,p=u.immediateRender,g=u.stagger,v=u.overwrite,_=u.keyframes,x=u.defaults,A=u.scrollTrigger,S=u.yoyoEase,C=i.parent||qn,E=(Mr(n)||LB(n)?_l(n[0]):"length"in i)?[n]:eo(n),R,B,I,O,U,L,N,H;if(a._targets=E.length?mM(E):jm("GSAP target "+n+" not found. https://gsap.com",!Bs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=v,_||g||gv(c)||gv(h)){if(i=a.vars,R=a.timeline=new zr({data:"nested",defaults:x||{},targets:C&&C.data==="nested"?C.vars.targets:E}),R.kill(),R.parent=R._dp=rl(a),R._start=0,g||gv(c)||gv(h)){if(O=E.length,N=g&&QB(g),ya(g))for(U in g)~fL.indexOf(U)&&(H||(H={}),H[U]=g[U]);for(B=0;B<O;B++)I=$v(i,hL),I.stagger=0,S&&(I.yoyoEase=S),H&&Ld(I,H),L=E[B],I.duration=+Em(c,rl(a),B,L,E),I.delay=(+Em(h,rl(a),B,L,E)||0)-a._delay,!g&&O===1&&I.delay&&(a._delay=h=I.delay,a._start+=h,I.delay=0),R.to(L,I,N?N(B,L,E):0),R._ease=ln.none;R.duration()?c=h=0:a.timeline=0}else if(_){Mm(Is(R.vars.defaults,{ease:"none"})),R._ease=df(_.ease||i.ease||"none");var q=0,oe,J,ie;if(Mr(_))_.forEach(function(se){return R.to(E,se,">")}),R.duration();else{I={};for(U in _)U==="ease"||U==="easeEach"||a6(U,_[U],I,_.easeEach);for(U in I)for(oe=I[U].sort(function(se,le){return se.t-le.t}),q=0,B=0;B<oe.length;B++)J=oe[B],ie={ease:J.e,duration:(J.t-(B?oe[B-1].t:0))/100*c},ie[U]=J.v,R.to(E,ie,q),q+=ie.duration;R.duration()<c&&R.to({},{duration:c-R.duration()})}}c||a.duration(c=R.duration())}else a.timeline=0;return v===!0&&!lM&&(pu=rl(a),qn.killTweensOf(E),pu=0),la(C,rl(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(p||!c&&!_&&a._start===Ci(C._time)&&rs(p)&&U8(rl(a))&&C.data!=="nested")&&(a._tTime=-Bn,a.render(Math.max(0,-h)||0)),A&&XB(rl(a),A),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,u=this._tDur,c=this._dur,h=i<0,p=i>u-Bn&&!h?u:i<Bn?0:i,g,v,_,x,A,S,C,E,R;if(!c)z8(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(g=p,E=this.timeline,this._repeat){if(x=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(x*100+i,s,o);if(g=Ci(p%x),p===u?(_=this._repeat,g=c):(A=Ci(p/x),_=~~A,_&&_===A?(g=c,_--):g>c&&(g=c)),S=this._yoyo&&_&1,S&&(R=this._yEase,g=c-g),A=Dd(this._tTime,x),g===a&&!o&&this._initted&&_===A)return this._tTime=p,this;_!==A&&(E&&this._yEase&&aL(E,S),this.vars.repeatRefresh&&!S&&!this._lock&&g!==x&&this._initted&&(this._lock=o=1,this.render(Ci(x*_),!0).invalidate()._lock=0))}if(!this._initted){if(JB(this,h?i:g,o,s,p))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&_!==A))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(R||this._ease)(g/c),this._from&&(this.ratio=C=1-C),!a&&p&&!s&&!A&&(bs(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(C,v.d),v=v._next;E&&E.render(i<0?i:E._dur*E._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&S1(this,i,s,o),bs(this,"onUpdate")),this._repeat&&_!==A&&this.vars.onRepeat&&!s&&this.parent&&bs(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&S1(this,i,!0,!0),(i||!c)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Pu(this,1),!s&&!(h&&!a)&&(p||a||S)&&(bs(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,u){Ym||Ts.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||yM(this,c),h=this._ease(c/this._dur),s6(this,i,s,o,a,h,c,u)?this.resetTo(i,s,o,a,1):(Jy(this,0),this.parent||WB(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?hm(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ar),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,pu&&pu.vars.overwrite!==!0)._first||hm(this),this.parent&&o!==this.timeline.totalDuration()&&Id(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,u=i?eo(i):a,c=this._ptLookup,h=this._pt,p,g,v,_,x,A,S;if((!s||s==="all")&&O8(a,u))return s==="all"&&(this._pt=0),hm(this);for(p=this._op=this._op||[],s!=="all"&&(Yi(s)&&(x={},ss(s,function(C){return x[C]=1}),s=x),s=o6(a,s)),S=a.length;S--;)if(~u.indexOf(a[S])){g=c[S],s==="all"?(p[S]=s,_=g,v={}):(v=p[S]=p[S]||{},_=s);for(x in _)A=g&&g[x],A&&((!("kill"in A.d)||A.d.kill(x)===!0)&&jy(this,A,"_pt"),delete g[x]),v!=="all"&&(v[x]=1)}return this._initted&&!this._pt&&h&&hm(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return wm(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return wm(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return qn.killTweensOf(i,s,o)},e}(Km);Is(Ti.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ss("staggerTo,staggerFrom,staggerFromTo",function(r){Ti[r]=function(){var e=new zr,t=w1.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var _M=function(e,t,n){return e[t]=n},dL=function(e,t,n){return e[t](n)},l6=function(e,t,n,i){return e[t](i.fp,n)},u6=function(e,t,n){return e.setAttribute(t,n)},xM=function(e,t){return li(e[t])?dL:uM(e[t])&&e.setAttribute?u6:_M},pL=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},c6=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},mL=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},AM=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},f6=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},h6=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?jy(this,t,"_pt"):t.dep||(n=1),t=i;return!n},d6=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},gL=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},os=function(){function r(t,n,i,s,o,a,u,c,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||pL,this.d=u||this,this.set=c||_M,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=d6,this.m=n,this.mt=s,this.tween=i},r}();ss(pM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return dM[r]=1});Ds.TweenMax=Ds.TweenLite=Ti;Ds.TimelineLite=Ds.TimelineMax=zr;qn=new zr({sortChildren:!1,defaults:Bd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Bs.stringFilter=sL;var pf=[],Bv={},p6=[],eb=0,m6=0,iA=function(e){return(Bv[e]||p6).map(function(t){return t()})},b1=function(){var e=Date.now(),t=[];e-eb>2&&(iA("matchMediaInit"),pf.forEach(function(n){var i=n.queries,s=n.conditions,o,a,u,c;for(a in i)o=oa.matchMedia(i[a]).matches,o&&(u=1),o!==s[a]&&(s[a]=o,c=1);c&&(n.revert(),u&&t.push(n))}),iA("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),eb=e,iA("matchMedia"))},vL=function(){function r(t,n){this.selector=n&&E1(n),this.data=[],this._r=[],this.isReverted=!1,this.id=m6++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){li(n)&&(s=i,i=n,n=li);var o=this,a=function(){var c=Xn,h=o.selector,p;return c&&c!==o&&c.data.push(o),s&&(o.selector=E1(s)),Xn=o,p=i.apply(o,arguments),li(p)&&o._r.push(p),Xn=c,o.selector=h,o.isReverted=!1,p};return o.last=a,n===li?a(o,function(u){return o.add(null,u)}):n?o[n]=a:a},e.ignore=function(n){var i=Xn;Xn=null,n(this),Xn=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof Ti&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var a=s.getTweens(),u=s.data.length,c;u--;)c=s.data[u],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(n)}),u=s.data.length;u--;)c=s.data[u],c instanceof zr?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ti)&&c.revert&&c.revert(n);s._r.forEach(function(h){return h(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=pf.length;o--;)pf[o].id===this.id&&pf.splice(o,1)},e.revert=function(n){this.kill(n||{})},r}(),g6=function(){function r(t){this.contexts=[],this.scope=t,Xn&&Xn.data.push(this)}var e=r.prototype;return e.add=function(n,i,s){ya(n)||(n={matches:n});var o=new vL(0,s||this.scope),a=o.conditions={},u,c,h;Xn&&!o.selector&&(o.selector=Xn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(c in n)c==="all"?h=1:(u=oa.matchMedia(n[c]),u&&(pf.indexOf(o)<0&&pf.push(o),(a[c]=u.matches)&&(h=1),u.addListener?u.addListener(b1):u.addEventListener("change",b1)));return h&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),ty={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return nL(i)})},timeline:function(e){return new zr(e)},getTweensOf:function(e,t){return qn.getTweensOf(e,t)},getProperty:function(e,t,n,i){Yi(e)&&(e=eo(e)[0]);var s=ff(e||{}).get,o=n?VB:HB;return n==="native"&&(n=""),e&&(t?o((ws[t]&&ws[t].get||s)(e,t,n,i)):function(a,u,c){return o((ws[a]&&ws[a].get||s)(e,a,u,c))})},quickSetter:function(e,t,n){if(e=eo(e),e.length>1){var i=e.map(function(h){return us.quickSetter(h,t,n)}),s=i.length;return function(h){for(var p=s;p--;)i[p](h)}}e=e[0]||{};var o=ws[t],a=ff(e),u=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(h){var p=new o;dd._pt=0,p.init(e,n?h+n:h,dd,0,[e]),p.render(1,p),dd._pt&&AM(1,dd)}:a.set(e,u);return o?c:function(h){return c(e,u,n?h+n:h,a,1)}},quickTo:function(e,t,n){var i,s=us.to(e,Is((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(u,c,h){return s.resetTo(t,u,c,h)};return o.tween=s,o},isTweening:function(e){return qn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=df(e.ease,Bd.ease)),KC(Bd,e||{})},config:function(e){return KC(Bs,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ws[a]&&!Ds[a]&&jm(t+" effect requires "+a+" plugin.")}),$x[t]=function(a,u,c){return n(eo(a),Is(u||{},s),c)},o&&(zr.prototype[t]=function(a,u,c){return this.add($x[t](a,ya(u)?u:(c=u)&&{},this),c)})},registerEase:function(e,t){ln[e]=df(t)},parseEase:function(e,t){return arguments.length?df(e,t):ln},getById:function(e){return qn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new zr(e),i,s;for(n.smoothChildTiming=rs(e.smoothChildTiming),qn.remove(n),n._dp=0,n._time=n._tTime=qn._time,i=qn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Ti&&i.vars.onComplete===i._targets[0]))&&la(n,i,i._start-i._delay),i=s;return la(qn,n,0),n},context:function(e,t){return e?new vL(e,t):Xn},matchMedia:function(e){return new g6(e)},matchMediaRefresh:function(){return pf.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||b1()},addEventListener:function(e,t){var n=Bv[e]||(Bv[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Bv[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:Y8,wrapYoyo:K8,distribute:QB,random:ZB,snap:qB,normalize:J8,getUnit:Ar,clamp:V8,splitColor:iL,toArray:eo,selector:E1,mapRange:eL,pipe:j8,unitize:X8,interpolate:Q8,shuffle:KB},install:NB,effects:$x,ticker:Ts,updateRoot:zr.updateRoot,plugins:ws,globalTimeline:qn,core:{PropTween:os,globals:UB,Tween:Ti,Timeline:zr,Animation:Km,getCache:ff,_removeLinkedListItem:jy,reverting:function(){return ar},context:function(e){return e&&Xn&&(Xn.data.push(e),e._ctx=Xn),Xn},suppressOverwrites:function(e){return lM=e}}};ss("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return ty[r]=Ti[r]});Ts.add(zr.updateRoot);dd=ty.to({},{duration:0});var v6=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},y6=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=v6(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},rA=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var u,c;if(Yi(s)&&(u={},ss(s,function(h){return u[h]=1}),s=u),t){u={};for(c in s)u[c]=t(s[c]);s=u}y6(a,s)}}}},us=ty.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,a,u;this.tween=n;for(o in t)u=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(u||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=u,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)ar?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},rA("roundProps",T1),rA("modifiers"),rA("snap",qB))||ty;Ti.version=zr.version=us.version="3.13.0";OB=1;cM()&&Fd();ln.Power0;ln.Power1;ln.Power2;ln.Power3;ln.Power4;ln.Linear;ln.Quad;ln.Cubic;ln.Quart;ln.Quint;ln.Strong;ln.Elastic;ln.Back;ln.SteppedEase;ln.Bounce;ln.Sine;ln.Expo;ln.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var tb,mu,_d,SM,nf,nb,MM,_6=function(){return typeof window<"u"},xl={},Xc=180/Math.PI,xd=Math.PI/180,ed=Math.atan2,ib=1e8,wM=/([A-Z])/g,x6=/(left|right|width|margin|padding|x)/i,A6=/[\s,\(]\S/,ua={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},R1=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},S6=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},M6=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},w6=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},yL=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_L=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},E6=function(e,t,n){return e.style[t]=n},T6=function(e,t,n){return e.style.setProperty(t,n)},C6=function(e,t,n){return e._gsap[t]=n},b6=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},R6=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},P6=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},ti="transform",as=ti+"Origin",B6=function r(e,t){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in xl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=ua[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=ol(i,a)}):this.tfm[e]=o.x?o[e]:ol(i,e),e===as&&(this.tfm.zOrigin=o.zOrigin);else return ua.transform.split(",").forEach(function(a){return r.call(n,a,t)});if(this.props.indexOf(ti)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(as,t,"")),e=ti}(s||t)&&this.props.push(e,t,s[e])},xL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},L6=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(wM,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=MM(),(!s||!s.isStart)&&!n[ti]&&(xL(n),i.zOrigin&&n[as]&&(n[as]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},AL=function(e,t){var n={target:e,props:[],revert:L6,save:B6};return e._gsap||us.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},SL,P1=function(e,t){var n=mu.createElementNS?mu.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):mu.createElement(e);return n&&n.style?n:mu.createElement(e)},to=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(wM,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,Od(t)||t,1)||""},rb="O,Moz,ms,Ms,Webkit".split(","),Od=function(e,t,n){var i=t||nf,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(rb[o]+e in s););return o<0?null:(o===3?"ms":o>=0?rb[o]:"")+e},B1=function(){_6()&&window.document&&(tb=window,mu=tb.document,_d=mu.documentElement,nf=P1("div")||{style:{}},P1("div"),ti=Od(ti),as=ti+"Origin",nf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",SL=!!Od("perspective"),MM=us.core.reverting,SM=1)},sb=function(e){var t=e.ownerSVGElement,n=P1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),_d.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),_d.removeChild(n),s},ob=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ML=function(e){var t,n;try{t=e.getBBox()}catch{t=sb(e),n=1}return t&&(t.width||t.height)||n||(t=sb(e)),t&&!t.width&&!t.x&&!t.y?{x:+ob(e,["x","cx","x1"])||0,y:+ob(e,["y","cy","y1"])||0,width:0,height:0}:t},wL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ML(e))},Sf=function(e,t){if(t){var n=e.style,i;t in xl&&t!==as&&(t=ti),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(wM,"-$1").toLowerCase())):n.removeAttribute(t)}},gu=function(e,t,n,i,s,o){var a=new os(e._pt,t,n,0,1,o?_L:yL);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},ab={deg:1,rad:1,turn:1},D6={grid:1,flex:1},Bu=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=nf.style,u=x6.test(t),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(u?"Width":"Height"),p=100,g=i==="px",v=i==="%",_,x,A,S;if(i===o||!s||ab[i]||ab[o])return s;if(o!=="px"&&!g&&(s=r(e,t,n,"px")),S=e.getCTM&&wL(e),(v||o==="%")&&(xl[t]||~t.indexOf("adius")))return _=S?e.getBBox()[u?"width":"height"]:e[h],pi(v?s/_*p:s/100*_);if(a[u?"width":"height"]=p+(g?o:i),x=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,S&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===mu||!x.appendChild)&&(x=mu.body),A=x._gsap,A&&v&&A.width&&u&&A.time===Ts.time&&!A.uncache)return pi(s/A.width*p);if(v&&(t==="height"||t==="width")){var C=e.style[t];e.style[t]=p+i,_=e[h],C?e.style[t]=C:Sf(e,t)}else(v||o==="%")&&!D6[to(x,"display")]&&(a.position=to(e,"position")),x===e&&(a.position="static"),x.appendChild(nf),_=nf[h],x.removeChild(nf),a.position="absolute";return u&&v&&(A=ff(x),A.time=Ts.time,A.width=x[h]),pi(g?_*s/p:_&&s?p/_*s:0)},ol=function(e,t,n,i){var s;return SM||B1(),t in ua&&t!=="transform"&&(t=ua[t],~t.indexOf(",")&&(t=t.split(",")[0])),xl[t]&&t!=="transform"?(s=qm(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:iy(to(e,as))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=ny[t]&&ny[t](e,t,n)||to(e,t)||zB(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Bu(e,t,s,n)+n:s},I6=function(e,t,n,i){if(!n||n==="none"){var s=Od(t,e,1),o=s&&to(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=to(e,"borderTopColor"))}var a=new os(this._pt,e.style,t,0,1,mL),u=0,c=0,h,p,g,v,_,x,A,S,C,E,R,B;if(a.b=n,a.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=to(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(x=e.style[t],e.style[t]=i,i=to(e,t)||i,x?e.style[t]=x:Sf(e,t)),h=[n,i],sL(h),n=h[0],i=h[1],g=n.match(hd)||[],B=i.match(hd)||[],B.length){for(;p=hd.exec(i);)A=p[0],C=i.substring(u,p.index),_?_=(_+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(_=1),A!==(x=g[c++]||"")&&(v=parseFloat(x)||0,R=x.substr((v+"").length),A.charAt(1)==="="&&(A=yd(v,A)+R),S=parseFloat(A),E=A.substr((S+"").length),u=hd.lastIndex-E.length,E||(E=E||Bs.units[t]||R,u===i.length&&(i+=E,a.e+=E)),R!==E&&(v=Bu(e,t,x,E)||0),a._pt={_next:a._pt,p:C||c===1?C:",",s:v,c:S-v,m:_&&_<4||t==="zIndex"?Math.round:0});a.c=u<i.length?i.substring(u,i.length):""}else a.r=t==="display"&&i==="none"?_L:yL;return IB.test(i)&&(a.e=0),this._pt=a,a},lb={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},F6=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=lb[n]||n,t[1]=lb[i]||i,t.join(" ")},O6=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,a,u,c;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],xl[a]&&(u=1,a=a==="transformOrigin"?as:ti),Sf(n,a);u&&(Sf(n,ti),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",qm(n,1),o.uncache=1,xL(i)))}},ny={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new os(e._pt,t,n,0,0,O6);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},Qm=[1,0,0,1,0,0],EL={},TL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ub=function(e){var t=to(e,ti);return TL(t)?Qm:t.substr(7).match(DB).map(pi)},EM=function(e,t){var n=e._gsap||ff(e),i=e.style,s=ub(e),o,a,u,c;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?Qm:s):(s===Qm&&!e.offsetParent&&e!==_d&&!n.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,_d.appendChild(e)),s=ub(e),u?i.display=u:Sf(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):_d.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},L1=function(e,t,n,i,s,o){var a=e._gsap,u=s||EM(e,!0),c=a.xOrigin||0,h=a.yOrigin||0,p=a.xOffset||0,g=a.yOffset||0,v=u[0],_=u[1],x=u[2],A=u[3],S=u[4],C=u[5],E=t.split(" "),R=parseFloat(E[0])||0,B=parseFloat(E[1])||0,I,O,U,L;n?u!==Qm&&(O=v*A-_*x)&&(U=R*(A/O)+B*(-x/O)+(x*C-A*S)/O,L=R*(-_/O)+B*(v/O)-(v*C-_*S)/O,R=U,B=L):(I=ML(e),R=I.x+(~E[0].indexOf("%")?R/100*I.width:R),B=I.y+(~(E[1]||E[0]).indexOf("%")?B/100*I.height:B)),i||i!==!1&&a.smooth?(S=R-c,C=B-h,a.xOffset=p+(S*v+C*x)-S,a.yOffset=g+(S*_+C*A)-C):a.xOffset=a.yOffset=0,a.xOrigin=R,a.yOrigin=B,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!n,e.style[as]="0px 0px",o&&(gu(o,a,"xOrigin",c,R),gu(o,a,"yOrigin",h,B),gu(o,a,"xOffset",p,a.xOffset),gu(o,a,"yOffset",g,a.yOffset)),e.setAttribute("data-svg-origin",R+" "+B)},qm=function(e,t){var n=e._gsap||new uL(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",u=getComputedStyle(e),c=to(e,as)||"0",h,p,g,v,_,x,A,S,C,E,R,B,I,O,U,L,N,H,q,oe,J,ie,se,le,Q,Y,V,k,K,re,j,Te;return h=p=g=x=A=S=C=E=R=0,v=_=1,n.svg=!!(e.getCTM&&wL(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[ti]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[ti]!=="none"?u[ti]:"")),i.scale=i.rotate=i.translate="none"),O=EM(e,n.svg),n.svg&&(n.uncache?(Q=e.getBBox(),c=n.xOrigin-Q.x+"px "+(n.yOrigin-Q.y)+"px",le=""):le=!t&&e.getAttribute("data-svg-origin"),L1(e,le||c,!!le||n.originIsAbsolute,n.smooth!==!1,O)),B=n.xOrigin||0,I=n.yOrigin||0,O!==Qm&&(H=O[0],q=O[1],oe=O[2],J=O[3],h=ie=O[4],p=se=O[5],O.length===6?(v=Math.sqrt(H*H+q*q),_=Math.sqrt(J*J+oe*oe),x=H||q?ed(q,H)*Xc:0,C=oe||J?ed(oe,J)*Xc+x:0,C&&(_*=Math.abs(Math.cos(C*xd))),n.svg&&(h-=B-(B*H+I*oe),p-=I-(B*q+I*J))):(Te=O[6],re=O[7],V=O[8],k=O[9],K=O[10],j=O[11],h=O[12],p=O[13],g=O[14],U=ed(Te,K),A=U*Xc,U&&(L=Math.cos(-U),N=Math.sin(-U),le=ie*L+V*N,Q=se*L+k*N,Y=Te*L+K*N,V=ie*-N+V*L,k=se*-N+k*L,K=Te*-N+K*L,j=re*-N+j*L,ie=le,se=Q,Te=Y),U=ed(-oe,K),S=U*Xc,U&&(L=Math.cos(-U),N=Math.sin(-U),le=H*L-V*N,Q=q*L-k*N,Y=oe*L-K*N,j=J*N+j*L,H=le,q=Q,oe=Y),U=ed(q,H),x=U*Xc,U&&(L=Math.cos(U),N=Math.sin(U),le=H*L+q*N,Q=ie*L+se*N,q=q*L-H*N,se=se*L-ie*N,H=le,ie=Q),A&&Math.abs(A)+Math.abs(x)>359.9&&(A=x=0,S=180-S),v=pi(Math.sqrt(H*H+q*q+oe*oe)),_=pi(Math.sqrt(se*se+Te*Te)),U=ed(ie,se),C=Math.abs(U)>2e-4?U*Xc:0,R=j?1/(j<0?-j:j):0),n.svg&&(le=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!TL(to(e,ti)),le&&e.setAttribute("transform",le))),Math.abs(C)>90&&Math.abs(C)<270&&(s?(v*=-1,C+=x<=0?180:-180,x+=x<=0?180:-180):(_*=-1,C+=C<=0?180:-180)),t=t||n.uncache,n.x=h-((n.xPercent=h&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=pi(v),n.scaleY=pi(_),n.rotation=pi(x)+a,n.rotationX=pi(A)+a,n.rotationY=pi(S)+a,n.skewX=C+a,n.skewY=E+a,n.transformPerspective=R+o,(n.zOrigin=parseFloat(c.split(" ")[2])||!t&&n.zOrigin||0)&&(i[as]=iy(c)),n.xOffset=n.yOffset=0,n.force3D=Bs.force3D,n.renderTransform=n.svg?U6:SL?CL:N6,n.uncache=0,n},iy=function(e){return(e=e.split(" "))[0]+" "+e[1]},sA=function(e,t,n){var i=Ar(t);return pi(parseFloat(t)+parseFloat(Bu(e,"x",n+"px",i)))+i},N6=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,CL(e,t)},Uc="0deg",rm="0px",kc=") ",CL=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.z,c=n.rotation,h=n.rotationY,p=n.rotationX,g=n.skewX,v=n.skewY,_=n.scaleX,x=n.scaleY,A=n.transformPerspective,S=n.force3D,C=n.target,E=n.zOrigin,R="",B=S==="auto"&&e&&e!==1||S===!0;if(E&&(p!==Uc||h!==Uc)){var I=parseFloat(h)*xd,O=Math.sin(I),U=Math.cos(I),L;I=parseFloat(p)*xd,L=Math.cos(I),o=sA(C,o,O*L*-E),a=sA(C,a,-Math.sin(I)*-E),u=sA(C,u,U*L*-E+E)}A!==rm&&(R+="perspective("+A+kc),(i||s)&&(R+="translate("+i+"%, "+s+"%) "),(B||o!==rm||a!==rm||u!==rm)&&(R+=u!==rm||B?"translate3d("+o+", "+a+", "+u+") ":"translate("+o+", "+a+kc),c!==Uc&&(R+="rotate("+c+kc),h!==Uc&&(R+="rotateY("+h+kc),p!==Uc&&(R+="rotateX("+p+kc),(g!==Uc||v!==Uc)&&(R+="skew("+g+", "+v+kc),(_!==1||x!==1)&&(R+="scale("+_+", "+x+kc),C.style[ti]=R||"translate(0, 0)"},U6=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,u=n.rotation,c=n.skewX,h=n.skewY,p=n.scaleX,g=n.scaleY,v=n.target,_=n.xOrigin,x=n.yOrigin,A=n.xOffset,S=n.yOffset,C=n.forceCSS,E=parseFloat(o),R=parseFloat(a),B,I,O,U,L;u=parseFloat(u),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,u+=h),u||c?(u*=xd,c*=xd,B=Math.cos(u)*p,I=Math.sin(u)*p,O=Math.sin(u-c)*-g,U=Math.cos(u-c)*g,c&&(h*=xd,L=Math.tan(c-h),L=Math.sqrt(1+L*L),O*=L,U*=L,h&&(L=Math.tan(h),L=Math.sqrt(1+L*L),B*=L,I*=L)),B=pi(B),I=pi(I),O=pi(O),U=pi(U)):(B=p,U=g,I=O=0),(E&&!~(o+"").indexOf("px")||R&&!~(a+"").indexOf("px"))&&(E=Bu(v,"x",o,"px"),R=Bu(v,"y",a,"px")),(_||x||A||S)&&(E=pi(E+_-(_*B+x*O)+A),R=pi(R+x-(_*I+x*U)+S)),(i||s)&&(L=v.getBBox(),E=pi(E+i/100*L.width),R=pi(R+s/100*L.height)),L="matrix("+B+","+I+","+O+","+U+","+E+","+R+")",v.setAttribute("transform",L),C&&(v.style[ti]=L)},k6=function(e,t,n,i,s){var o=360,a=Yi(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?Xc:1),c=u-i,h=i+c+"deg",p,g;return a&&(p=s.split("_")[1],p==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),p==="cw"&&c<0?c=(c+o*ib)%o-~~(c/o)*o:p==="ccw"&&c>0&&(c=(c-o*ib)%o-~~(c/o)*o)),e._pt=g=new os(e._pt,t,n,i,c,S6),g.e=h,g.u="deg",e._props.push(n),g},cb=function(e,t){for(var n in t)e[n]=t[n];return e},z6=function(e,t,n){var i=cb({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,u,c,h,p,g,v,_;i.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[ti]=t,a=qm(n,1),Sf(n,ti),n.setAttribute("transform",c)):(c=getComputedStyle(n)[ti],o[ti]=t,a=qm(n,1),o[ti]=c);for(u in xl)c=i[u],h=a[u],c!==h&&s.indexOf(u)<0&&(v=Ar(c),_=Ar(h),p=v!==_?Bu(n,u,c,_):parseFloat(c),g=parseFloat(h),e._pt=new os(e._pt,a,u,p,g-p,R1),e._pt.u=_||0,e._props.push(u));cb(a,i)};ss("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(a){return e<2?r+a:"border"+a+r});ny[e>1?"border"+r:r]=function(a,u,c,h,p){var g,v;if(arguments.length<4)return g=o.map(function(_){return ol(a,_,c)}),v=g.join(" "),v.split(g[0]).length===5?g[0]:v;g=(h+"").split(" "),v={},o.forEach(function(_,x){return v[_]=g[x]=g[x]||g[(x-1)/2|0]}),a.init(u,v,p)}});var bL={name:"css",register:B1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,a=e.style,u=n.vars.startAt,c,h,p,g,v,_,x,A,S,C,E,R,B,I,O,U;SM||B1(),this.styles=this.styles||AL(e),U=this.styles.props,this.tween=n;for(x in t)if(x!=="autoRound"&&(h=t[x],!(ws[x]&&cL(x,t,n,i,e,s)))){if(v=typeof h,_=ny[x],v==="function"&&(h=h.call(n,i,e,s),v=typeof h),v==="string"&&~h.indexOf("random(")&&(h=Jm(h)),_)_(this,e,x,h,n)&&(O=1);else if(x.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(x)+"").trim(),h+="",Mu.lastIndex=0,Mu.test(c)||(A=Ar(c),S=Ar(h)),S?A!==S&&(c=Bu(e,x,c,S)+S):A&&(h+=A),this.add(a,"setProperty",c,h,i,s,0,0,x),o.push(x),U.push(x,0,a[x]);else if(v!=="undefined"){if(u&&x in u?(c=typeof u[x]=="function"?u[x].call(n,i,e,s):u[x],Yi(c)&&~c.indexOf("random(")&&(c=Jm(c)),Ar(c+"")||c==="auto"||(c+=Bs.units[x]||Ar(ol(e,x))||""),(c+"").charAt(1)==="="&&(c=ol(e,x))):c=ol(e,x),g=parseFloat(c),C=v==="string"&&h.charAt(1)==="="&&h.substr(0,2),C&&(h=h.substr(2)),p=parseFloat(h),x in ua&&(x==="autoAlpha"&&(g===1&&ol(e,"visibility")==="hidden"&&p&&(g=0),U.push("visibility",0,a.visibility),gu(this,a,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),x!=="scale"&&x!=="transform"&&(x=ua[x],~x.indexOf(",")&&(x=x.split(",")[0]))),E=x in xl,E){if(this.styles.save(x),v==="string"&&h.substring(0,6)==="var(--"&&(h=to(e,h.substring(4,h.indexOf(")"))),p=parseFloat(h)),R||(B=e._gsap,B.renderTransform&&!t.parseTransform||qm(e,t.parseTransform),I=t.smoothOrigin!==!1&&B.smooth,R=this._pt=new os(this._pt,a,ti,0,1,B.renderTransform,B,0,-1),R.dep=1),x==="scale")this._pt=new os(this._pt,B,"scaleY",B.scaleY,(C?yd(B.scaleY,C+p):p)-B.scaleY||0,R1),this._pt.u=0,o.push("scaleY",x),x+="X";else if(x==="transformOrigin"){U.push(as,0,a[as]),h=F6(h),B.svg?L1(e,h,0,I,0,this):(S=parseFloat(h.split(" ")[2])||0,S!==B.zOrigin&&gu(this,B,"zOrigin",B.zOrigin,S),gu(this,a,x,iy(c),iy(h)));continue}else if(x==="svgOrigin"){L1(e,h,1,I,0,this);continue}else if(x in EL){k6(this,B,x,g,C?yd(g,C+h):h);continue}else if(x==="smoothOrigin"){gu(this,B,"smooth",B.smooth,h);continue}else if(x==="force3D"){B[x]=h;continue}else if(x==="transform"){z6(this,h,e);continue}}else x in a||(x=Od(x)||x);if(E||(p||p===0)&&(g||g===0)&&!A6.test(h)&&x in a)A=(c+"").substr((g+"").length),p||(p=0),S=Ar(h)||(x in Bs.units?Bs.units[x]:A),A!==S&&(g=Bu(e,x,c,S)),this._pt=new os(this._pt,E?B:a,x,g,(C?yd(g,C+p):p)-g,!E&&(S==="px"||x==="zIndex")&&t.autoRound!==!1?w6:R1),this._pt.u=S||0,A!==S&&S!=="%"&&(this._pt.b=c,this._pt.r=M6);else if(x in a)I6.call(this,e,x,c,C?C+h:h);else if(x in e)this.add(e,x,c||e[x],C?C+h:h,i,s);else if(x!=="parseTransform"){hM(x,h);continue}E||(x in a?U.push(x,0,a[x]):typeof e[x]=="function"?U.push(x,2,e[x]()):U.push(x,1,c||e[x])),o.push(x)}}O&&gL(this)},render:function(e,t){if(t.tween._time||!MM())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ol,aliases:ua,getSetter:function(e,t,n){var i=ua[t];return i&&i.indexOf(",")<0&&(t=i),t in xl&&t!==as&&(e._gsap.x||ol(e,"x"))?n&&nb===n?t==="scale"?b6:C6:(nb=n||{})&&(t==="scale"?R6:P6):e.style&&!uM(e.style[t])?E6:~t.indexOf("-")?T6:xM(e,t)},core:{_removeProperty:Sf,_getMatrix:EM}};us.utils.checkPrefix=Od;us.core.getStyleSaver=AL;(function(r,e,t,n){var i=ss(r+","+e+","+t,function(s){xl[s]=1});ss(e,function(s){Bs.units[s]="deg",EL[s]=1}),ua[i[13]]=r+","+e,ss(n,function(s){var o=s.split(":");ua[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ss("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Bs.units[r]="px"});us.registerPlugin(bL);var D1=us.registerPlugin(bL)||us;D1.core.Tween;const G6=({text:r,as:e="div",typingSpeed:t=50,initialDelay:n=0,pauseDuration:i=2e3,deletingSpeed:s=30,loop:o=!0,className:a="",showCursor:u=!0,hideCursorWhileTyping:c=!1,cursorCharacter:h="|",cursorClassName:p="",cursorBlinkDuration:g=.5,textColors:v=[],variableSpeed:_,onSentenceComplete:x,startOnVisible:A=!1,reverseMode:S=!1,...C})=>{const[E,R]=te.useState(""),[B,I]=te.useState(0),[O,U]=te.useState(!1),[L,N]=te.useState(0),[H,q]=te.useState(!A),oe=te.useRef(null),J=te.useRef(null),ie=Array.isArray(r)?r:[r],se=()=>{if(!_)return t;const{min:Y,max:V}=_;return Math.random()*(V-Y)+Y},le=()=>v.length===0?"#ffffff":v[L%v.length];te.useEffect(()=>{if(!A||!J.current)return;const Y=new IntersectionObserver(V=>{V.forEach(k=>{k.isIntersecting&&q(!0)})},{threshold:.1});return Y.observe(J.current),()=>Y.disconnect()},[A]),te.useEffect(()=>{u&&oe.current&&(D1.set(oe.current,{opacity:1}),D1.to(oe.current,{opacity:0,duration:g,repeat:-1,yoyo:!0,ease:"power2.inOut"}))},[u,g]),te.useEffect(()=>{if(!H)return;let Y;const V=ie[L],k=S?V.split("").reverse().join(""):V,K=()=>{if(O)if(E===""){if(U(!1),L===ie.length-1&&!o)return;x&&x(ie[L],L),N(re=>(re+1)%ie.length),I(0),Y=setTimeout(()=>{},i)}else Y=setTimeout(()=>{R(re=>re.slice(0,-1))},s);else B<k.length?Y=setTimeout(()=>{R(re=>re+k[B]),I(re=>re+1)},_?se():t):ie.length>1&&(Y=setTimeout(()=>{U(!0)},i))};return B===0&&!O&&E===""?Y=setTimeout(K,n):K(),()=>clearTimeout(Y)},[B,E,O,t,s,i,ie,L,o,n,H,S,_,x]);const Q=c&&(B<ie[L].length||O);return te.createElement(e,{ref:J,className:`inline-block whitespace-pre-wrap tracking-tight ${a}`,...C},pe.jsx("span",{className:"inline",style:{color:le()},children:E}),u&&pe.jsx("span",{ref:oe,className:`ml-1 inline-block opacity-100 ${Q?"hidden":""} ${p}`,children:h}))},H6=()=>pe.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[pe.jsxs("div",{className:`absolute inset-0 top-[120px] max-w-7xl mx-auto ${Ps.paddingX} flex flex-row items-start gap-5`,children:[pe.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[pe.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),pe.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),pe.jsxs("div",{children:[pe.jsxs("h1",{className:`${Ps.heroHeadText} text-white`,children:["Hi, I'm ",pe.jsx("span",{className:"text-[#915EFF]",children:"bipknit"})]}),pe.jsx("p",{className:`${Ps.heroSubText} mt-2 text-white-100`,children:pe.jsx(G6,{text:["Text typing effect","for your websites","Happy coding!"],typingSpeed:75,pauseDuration:1500,showCursor:!0,cursorCharacter:"|"})})]})]}),pe.jsx(c4,{}),pe.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:pe.jsx("a",{href:"#about",children:pe.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:pe.jsx(Go.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),V6="/web/assets/edunet-DXmdTdpg.png",W6="/web/assets/eduskill-CpxuAtBs.png",j6="/web/assets/c-BfPlZD5O.png",X6="/web/assets/WeatherPedia-C9m70w8b.png",J6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAABGlBMVEUAAAAAc8ICdr0Dd70Cd7wBdr0Bdr0Cd7wCd74AeLwAd7sCdr0BdrwBdrwCd70Cdr0BdrwCd7wCd70Cdr0Cdr0Bdr0Bdr0Bdr0Cdr0Cdr0Cdr0Ddr4Adr0Ad78Adb0Ad74AdboAcccBdrwBd70Cd70Dm+X////u7u4ChMwCf8cDjtgClN4CesADi9MDmOIOoOcUgcEqq+no6+3X8Pxpq9PG6fkCiNAGe8H3/P5xx/G24vhgwO+30+NZo9AjiMTo9/2Z1/U6sutLnM2J0fQepugCkduBzfIZpOeoyt+u3/dYve5Oue3G2+ahx96+5fil3PZ6yvFqxPBIt+yPvtt3stYxj8fP7Prc5erS4OivzuGYw9yBt9g+lcrA1+UY04lCAAAAJHRSTlMACt9F87mpdWUpIc6Zi1Xqkvr21se/sIV7bF1OPzcwGRIEoaCkuDWnAAAH4UlEQVR42uzaSU4CUBCE4RKZZ8I8g5YJCLLEE3D/K5m4MN1rKrFf0t8N/l0nXUgppZRSSimllFJKKaWU0v+qshBVaFRYiAo0JizEBBozFmIGjS4L0YXGnIWYQ2PJQiyh0Wch+tDYsBAbaLRYiBY0DizEASIjFmEElQGLUIFKh0XoQKXGItSg8ka9D4E7nXeo9GjFCT7R6UGlQStO8JlOAyorWmGDV1B5pRUn+ErnFSo7WnGC6e2gsqcTJfhGbw+VI50owRd6R0S+LQXBDzoD6IxphAn+pDOGzpRGmOAvOlPo1GmECb7TqUNnSCNM8InOEDoLGlGDF9Bp0ggTfKbThM6aRpjgbzpr6GxphAm+0tlCp00jTDC9NnReaAUJvtF7iT0CeD74QuPv/R92BPB88INOBb/CjgB+mDmTnMaCIAqepruXbmMsMdvGSAiDwQPzcP9rsDNGqVKolAop/w1i917F+5lijVF6p//LjgBSrDFK7/R/2RFAijVG6Z3+LzsCSLHGZAn6XxkBHPzr+f72fKtAG5Il6H9jBPDqAa8RGPS/MgL48oAXgTYkS9D/xgjgzQPeBNqQLEH/GyOApQc8w2QJ+l8ZAWw94CElS9D/zkPtowd8nUiW3gjg0AMeULIE/e+MAM414CNMlqD/nRHApQY8ibis//0RwJMGPIq4rP/9EcCFBjxGYND/zgjgvwZ8Emg79L84AjiwgB8CbXikBf3vjABeLOApRmnQ/9II4M4CnmOUBv0vjQDOLOAVRmnQ/1K2XFrAa4rSoP+tEcDWAl5QlAb9b40APizgDUXpff1fdQTwp/HNuQ7HKL2v/6uOAFrAU67DMUrv6/+qI4AW8A3UYdT/VUcALeAx1GHS/2VHAC3gEdfhCPyj/+uOAFrAE6jDrP+LjgBawFCHWf9XHQE0eAdQh1H/lx0BNICHUIdZ/1cdATSAZ1iH+ZG25gigAXxLdZj1f9ERQAP4FOsw6/+aI4AG8DHUYdb/VUcAHd1h3an/a14C6OgOCwT+rf9rXgLo6A6bTv1f8xJAA/ie6nB8pA36v+YlgAbwM9XhGKWD/q95CaDdHWIdpigd9X/BSwAN4COswzFKs/73/9ZiAdNhhyFKJ5KlcgngJQs8EfS/eQngNQs8AuCE/lcuAdxlgccQpRP6X7kEcJYFPhH0v3kJ4C0LfCPof/MSwDILPBX0v3kJ4D0LPAfghP5XLgFss8ArQf+blwA+ssBrQf+blwAes8Cngv43s+VhFvhW0P/mJYDzLPBM0P/mJYDLLPBQ0P/mCOAzC3yV0P/CCMAHHgj63xwBPGWBv5k7u5Y2gjCM7lWhVxakUIoogqWXWXcT8rmrxCXEmkSwbfDz//8Nr1zQDJ7X2efFef7BuZvZczLR6n//CKDuCHwGwAL9r40A8o7ApVb/+0cAw47AW/hIG9L/KUYAZh2+gaN0QP8nGQEEgRvjdfikXUj/pxkBmP3/ORylA/o/yQjA7P8vYj7SJhgBmP3/IkL/pxgBmP3/GICD+j/BCMDs/6dwlA7p/xQjgCDwAnT47lE6rP9TjADM/v8mRv8nGAEEga/h/g/6X76DOFc4NANPQvd/BD7IvPY1zhXmZuAB6HCB/ldHALedgEu6//vrf44A+G2L2gx8Bjoc9L9+e1Gu8L8ZeAT3f8HJUh0BLK3A1tthCR9pSf/rIwBWZ49W4AZ1uL/+5wiA1dkcgKEOV+p/fQTwEAEMdTicLEH/6yMAVmcVAEMdzvrfbz+j1FkfgKEOB2DQ/94RQBULzHU463/9DqPU2bK2AZ9OQjocP9IeZn47ijRJq381ATfjQfjH0niUPsr8dmw1ScwMtO1u8Ch9nDlur8tzLU/9PATcm25Ah4P+99x+x+daZi1zSzsBHU7A+5nnvhtNEjO3tLBGq//1EcBvXrGs8pNfvavrkUWHE/CXzHPfRO/TFOvLF1qYq/7n/ZA952nV4QBM+t8/AlhpgUux/tdHADMt8Fas//URwJ0WeAPApP/9I4C1FvhSrP/1EcBfLfC5WP/rI4AHLfCFWP/rI4D5SglcXsk/0uojgLo/0wCXi1N47gD0vyoCkDBbaf31P0cAEmYjrVD/+0cA+XvMEbT++p8jAGa+Kz4EvN2hFet//wggr5aFEXgwblouAAb9r40AJMxWWn/9zxGAhPktbSv6aUOT/k/hJYDXzDZaKGlB/3/+SwB5tS5eA482O7Swj+j/FP63dTi/L16AR5NpDwH9T5YcASiYgRaBWf8LIwAF8x8brb/+5whAM+ACYNb/4gjAH5iP0qz/9RGAP7C//ucIIClg0P/qCMAf2F//cwSQFPBze/eSgkAMBGEYZvCxUBk8hSB6/+O5y8JW0qkEptJd/w2GT1CsIfk3/+9+EgD4wPD8v/tJAIMe+F2+larzP81vS/yBn6/yeQbnf/wlgP6aaR/lw4zP//hLAP3htP75n+o6AJzWP/9TXQeA0/rnf6rrAHDahvmf6ToAnNY//1NdB4DTuud/rusAcNqG+Z/pJACc1j//U50EANPC8z9OfD4OOAwApi3dDyfgX3hQeb32/nvZSbtcbjVdMuhJaMdBT0Q7Bnou2go0FD0tDj0v7W/o4LQWOj6thU5Aa6Hj01roBLQWOj6thU5Aa6Hj01roBLQWOj6thU5Aa6Hj035Db8uyrdFplVJKKaWUUkoppZRSSql8fQBHWLDhZEHI6QAAAABJRU5ErkJggg==",Y6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAAAWlBMVEUAAADzUB33UR72VSDzUB7zUB31UB30UB30UB30UB31UBz0UB3zUB3yTx3/Uhr0UB3xSx/0UB30UB3zUB7zUB7zUR30UB30UR31UB3yUBv0UR30UB70UB30UR5iWIaNAAAAHXRSTlMA4CEdiLc25/PZSZL6JglyDM68VECde+5jFKkwxoiB4VAAAAUYSURBVHja7d3dcqJAEIbhEQRFIyoGsybp+7/N5avdkspGexn+0k33e7JnKZ4aRBh6k+B5nud5nud5nud5nud5nud53rJKjlmx3RbZMQkWyiu6V+Vh6ZU1fakuw6JLP+mfzmlYcOmKvrVa8CcZXktieC2J4bUkhteSGF5LYngtieG1JIbXkhheS2J4LYnhtSSG15IYXktieC2J4bUkhteUuCKyJU5XLnaxi12sLQvi69qW+EpkSnwkMiVuvKbEjdeUuPGaEjdeU+LGa0r8i8iUuPGaEjdeU+LGa0oM78OuIbQlEG+y/Xq9zzaqxfB2Ep/3H/gX5euNWjHjxVn9rPL6plMMb7wYpWeNYnjZrsxs3rs+8eWFUJ81Rpk2MbxDxKdClxjeYeJXVddqeDt1YU5qReLO3pcbM0Ot5w6ks5eywFRoEXf30q/AtFdyl7nr7qWc/UE6niRivHQLTAcVz05RXgpcJw1Pi3FeKgOXgufjSC+l7ArL3xHgvPEXrUT8HshuS5Ed2R8nfdfnlfXG33ishe9zMd74W0tUyN7ZY7z9NgF2svcyc3jj26ZKpyKwvr16Z67SgsVY354dNU6+DPDSy0XfGsM7oKs28ccbDas6qDqrc3iH9VLnetaY8fZ7UHwvEslinM/jgnG0cs9qeMcGSxbDOzpYsPhjQxOA5YoP8I4PFiuGdwqwVDG8k4CFiuGdBixTDO9EYJFieKcCSxTDOz0YRytjngveOcA4WgnzXOmKZgLjaH9+ngveucA42p+e50rgnQ2Mox1jnkvY+nJg/mirjuK0r7f8JDQjGOLh81znsie4praZwBAPn+eq+3k/qG02MC/Ohr+ajfjIzASm3fB5rqqPN6G2OcFFYFpRt5Ih/wVpZvB6jHmuY4gvo7Y5wbsxJgWyEF9BbXOCkzHmuYoQ35ba5gSfxpj22SoCB7auYEWn9CgrXCi6aI3yGc4UfS2NcpU+Krrx2I/xPZwourVcjXCnVYU+5dQ2I5jy4YeUK3o8JMoGX0hrRRsA6HXg8/C51LPFQ6i4hYfdio5bPNI2tRgwe83JtG5b8mD0Xj7atVS7Mf0EzP/1h/Ss99VDBzBt16cv99DXtyivrLOaA7dt1nn0uyV4BYq7gdm3h7xX2lnNgAcFr0hxuCfUC7F8MLxCxeGeWC/EssHwihWHe4K9EMsF//GKFYd7or0QywS3XqHicE+4t89dJr+Fkwn3jiGuD1821mvZ3sHi1eu3faqVaG/055h/rke3T9HeQWt8PoUHnc6ivQPEm/TJSbMR7e1/Vl/Cky6yvX3XuFL8J07i15h/D7oT7u21xkVgKoR7+6wx/95XureH+BKYLuK98Wf1ITAd5Huj1/gWmG4KvLFrHNg0eJk1jp+/UuFl1jh6/kqHlxHHzl8p8eKsHud7WIuXEcfNX6nxMmd1zPyVIm/3Nc4W8yu1GXHH+Std3s7i1dP5K2Xe72J581dowiuXwPmrMOkaS5y/mlQscv4KTXVWy5y/mlAsdP7qn6S8TVXj/Ss25IXYlhdiW16IbXkhtuWF2JYXYlteiG15IbblhdiWF2JbXohteSG25YXYlhdiW16IbXnDj//K1f8mQqzZC7EtL8S2vBDb8kJsywuxLS/EtrwQ2/JCbMsLsS0vxLa8ENvyQmzLC7EtL8S2vBDb8kJsy9uIPx8MMi26sqYv1WVYennVcqs8WCg5ZsV2W2THRX96Pc/zPM/zPM/zPM/zPM/zPM9ivwFv/FWFZ7Xo/QAAAABJRU5ErkJggg==",K6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAABLFBMVEUAAADlUQDmUADmUQDmUADoUQDmUADmUQDmUADnUQDmUQDrTgDmTgDlUADmUADmUQDlTADlUADmUADmUQDmUADlUQDmUADmUQDlUADmUADlUQDmUQDlUADmUQDlUADoTwDkUQDjUgD/VQDmUQDlUADmUQDlUADlUQDlUgDhTgDqUQDmUQD/bQDu7u7////xXAD9agD6ZgDuWAD3YwDzYADpVgPnXhPoUwDqlWfswarqi1j/rW7u6OTnZyDpgUn/o17/mk7/+vf/6NX/3cT/fBrsyrf/1LT/toD/dxHu6+rsu6DrsJDpeDv/jjroby3/hSr/cgn/8+nu3tbt1Mf/zKX/w5brp4PqoHj/gSP/483tz7//2bz/u4j/0a3rtpn/7d/t18zqnHHtzLr/s3nK61tOAAAAK3RSTlMA872pZSHNmYpVQQ0p3ZJHCfr27OXWuLCDe3dzbF1ONzASBNzHxqGgKBoZMAtBmQAAB95JREFUeNrs2ldKAwAQhOGxpmlCSCc9dkdI0eD9b+ab7D474C7sd4P/eQallFJKKaWUUkoppZRSSvlfF0ziAhr3TOIBGo9M4gkaEyYxgUaDSTSgMWUSU2gsmMQCGi0m0YJGm0m0oXHHJF6hsWUSW4j0mUIfKkOmMITKLVO4hcqYKYyh8ky9D4E9nReoNGmFDW5CZU4rTvCJzhwqS1pxgs90llDp0YoT/E2nB5UNrTjB9DZQeaMTJfhA7x0qOzpRg3eQGdCKEnykM4DOiEaY4E86I+hc0ogafAmdKxphgr/oXEGnSyNM8J5OFzozGmGCT3Rm0LmmETX4GjorGmGCz3RW0FnTCBNMbw2dG1pBgg/0bqDToRU0uBP7BPD34CON3/k/7Angh1kzWWkgiqIgoiIOCO50owjuRDdiTGIS5ylxwKiJQxyi//8P7nJoeHDJoeuR+wNN7V6fqpKBR/p/YiMAmzP9shzp/4mNAGzO9MtypP8nNgKwOdMvy5H+n9gIoGRg6f98EcBwZ5zbHedOCqSpl6X0f74IoMoBfxdIUy9L6f98EUCdA34rkKZGWun/fBFAiwP+SAEXPi79ny8CuOWAn+OXpfR/tgjgngN+iR5a0v8ZI4AmB3wVA0v/Z4sAKhzwYfSylP7PGQFwwEfRy1L6P2cE0MCAj0Ng6f+MEUAXA74Tp6H/sQjgCQN+Faeh/7EI4AIDvg6Bpf8zRgA1DDh8Skv/54wAvijgR2Ea+p+LADoU8GkILP2fMwLoUcBnwjT0PxcBDCngT3Ea+p+LAKoQcPzvEOh/KgKoU8ADcdL6XzftLQA9YMQj9b9u2VsAOgAwqf91a94C0M4EvFY68Iy3AFwAwKT+1617C8ATBRzrfz4COEgAdwHg1Ei7UTrwrLcA3FDA28WbLR140VwAKgAwqf91U94C0ASADf3PRAC/CeB7AJjU/7otbwFoAcCG/mcigHYCuA4Ak/pfN+ctAFUAmNT/ulVvAehTwLH+5yOAfurvAQAm9b9u3lsA2hAwpf91C94CUGOA9yn9r1vyFoB3AJjU/7pNbwHoAsCo/tetWAtAgwKO9T8fATSREe/E1f98BFBBgB8D4ED/kxHAgQHsiZY9Q/8TEUCDAH6z9T8fAXQJ4Etb//MRwA8B/BwAB/ofjQDeCeAXW//zEUCNAB7Y+p+PANoE8F8w0gb6H40AOgCwMjxD/9MRQI8APrL1Px8B9Ang4wA40P9oBFAlgO9s/c9HAHUC+MHW/3wE0CKAz239z0cAtwTwP3Nnr9tEFITRgo4OCdHQAB0iBc1a2Xgd/8ZOLMA2cUIS50/w/u9AAWSFZsQMR+tPdx7A0ul27jn3eh0BW/0viwC+7AMY6H9ZBDDYA/AG6H9ZBNDbA/BDAGz0vzICqAAwWYerQP+X+BLAgTfr4JJWUv8X+RKACzzzQkui/wt8CcAFXsX7vwW2+r/IlwBc4M/BOpzT/2W+BOACjxzgBdL/5b0E4AIP43XYAvv6v7iXAFzgfrQO2y9LX/8X+BKAC7zw1mGi/wv8OwAX+CJehy2wr/+L+zsAF3gbADP9z+c5uudxmQeeO8BXQP/rIoCjIGsJgKcO8GlwSBvrfz5v0ZFHnQee5Pb/9ldy+p/PC3Lk8T0PvAl0ONT/fF6SI4/HPPDY2f+h/hdFAL105ZHdDidC/W/nFToBqFzg5HY4JfpfGAE02Sg+ux3Omf6XRQBfs414djvchsCx/ufzGinxT1ngkafDgf5XRgB1thHPboe3TP/LIoBlthHPboc/hPrfzhukxOtBDng1D/Z/A5zU/3zeQ0N8/m0QAV/1p4Ed5vqfzztgiC2zBZ61tAZYrP9tBMAN8c1hzwM+He4CHS7W/zYC4Ib45In5iXYe6nC9/rcRADfEZ7+ZLa0/M6X+t/OsC2Ha1EfVh4P1aDsGOrwFxvqfRwBcmDbLO0PrD9X/sgigY126ofpfFgE03QI/RMC+/hdGAI/dAl8j/a+MAG66Bd5R/S+LAOpuge+iQ1pf/wsjgPtugS+CT+lA/wsigMtugW+h/tdFAMfnXQJPRkz/SyOAweFJN8CTxSq4o0X1P48AODOgFej/MALgzAFt6wyx/tdHAL1/MQNaoP9lEUDLXJ/9F/C1T8v1vz4C6B21zAHwtG+2X63+jyMAzgxoDTDW/zwC4MyWNjmVSP/7EQBnBrQy/W8jAM68bP4GHu/6vyKOom7/2wiAT3V83/wBHs+HLS0AxvqfRwCcGdAK9H8YAXDm0RrQqvR/HAHwEo8Dc/3PIwA9MNf/PAKQAuv1v40AigIG+h9EAFJg+2XJ9D+PANTAev1vIwA9sD2k5fqfRwB64I8/27mXFISBIAjDQQUfaDK4dJsDiOD9z+aykA4kVJpmpqf+G4RPEawm+FUi53/+CCD+gT9ffIEj5n8cAQQ+MGjf+DDHzP84AnCJpg2b/3EE4BJNGzb/4wjAJZ42av7HEYBLPG3U/I8jAJdo2rD5H0cALvG0UfM/jgBc4mk3z/91vQmApt0+/9f1JgCeNmr+B/Hp6PAyAJYWPQ+v+xBUuV32/nu5k/Zxvq7q1gXdCK0fdEO0PtBt0fpBo+ppeeh2aZehk9Na6Py0FroDWgudn9ZCd0BrofPTWugOaC10floL3QGthc5Pa6E7oLXQ+Wn/K9M4z+NUBqWUUkoppZRSSimllFJK5eoHgkSqsqQp6OEAAAAASUVORK5CYII=",Q6="/web/assets/logo-jm9zNumL.svg",q6="/web/assets/github-B_0zQ18n.png",Z6="data:image/svg+xml,%3csvg%20width='20'%20height='12'%20viewBox='0%200%2020%2012'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202L19%202C19.2652%202%2019.5196%201.89464%2019.7071%201.70711C19.8946%201.51957%2020%201.26522%2020%201C20%200.734784%2019.8946%200.480429%2019.7071%200.292892C19.5196%200.105356%2019.2652%200%2019%200L9%200C8.73478%200%208.48043%200.105356%208.29289%200.292892C8.10536%200.480429%208%200.734784%208%201C8%201.26522%208.10536%201.51957%208.29289%201.70711C8.48043%201.89464%208.73478%202%209%202ZM19%2010L1%2010C0.734784%2010%200.480429%2010.1054%200.292892%2010.2929C0.105356%2010.4804%200%2010.7348%200%2011C0%2011.2652%200.105356%2011.5196%200.292892%2011.7071C0.480429%2011.8946%200.734784%2012%201%2012L19%2012C19.2652%2012%2019.5196%2011.8946%2019.7071%2011.7071C19.8946%2011.5196%2020%2011.2652%2020%2011C20%2010.7348%2019.8946%2010.4804%2019.7071%2010.2929C19.5196%2010.1054%2019.2652%2010%2019%2010V10ZM1%207L19%207C19.2652%207%2019.5196%206.89464%2019.7071%206.70711C19.8946%206.51957%2020%206.26522%2020%206C20%205.73478%2019.8946%205.48043%2019.7071%205.29289C19.5196%205.10536%2019.2652%205%2019%205L1%205C0.734784%205%200.480429%205.10536%200.292892%205.29289C0.105356%205.48043%200%205.73478%200%206C0%206.26522%200.105356%206.51957%200.292892%206.70711C0.480429%206.89464%200.734784%207%201%207Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",$6="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4099%209L16.7099%202.71C16.8982%202.5217%2017.004%202.2663%2017.004%202C17.004%201.7337%2016.8982%201.47831%2016.7099%201.29C16.5216%201.1017%2016.2662%200.995911%2015.9999%200.995911C15.7336%200.995911%2015.4782%201.1017%2015.2899%201.29L8.99994%207.59L2.70994%201.29C2.52164%201.1017%202.26624%200.995911%201.99994%200.995911C1.73364%200.995911%201.47824%201.1017%201.28994%201.29C1.10164%201.47831%200.995847%201.7337%200.995847%202C0.995847%202.2663%201.10164%202.5217%201.28994%202.71L7.58994%209L1.28994%2015.29C1.19621%2015.383%201.12182%2015.4936%201.07105%2015.6154C1.02028%2015.7373%200.994141%2015.868%200.994141%2016C0.994141%2016.132%201.02028%2016.2627%201.07105%2016.3846C1.12182%2016.5064%201.19621%2016.617%201.28994%2016.71C1.3829%2016.8037%201.4935%2016.8781%201.61536%2016.9289C1.73722%2016.9797%201.86793%2017.0058%201.99994%2017.0058C2.13195%2017.0058%202.26266%2016.9797%202.38452%2016.9289C2.50638%2016.8781%202.61698%2016.8037%202.70994%2016.71L8.99994%2010.41L15.2899%2016.71C15.3829%2016.8037%2015.4935%2016.8781%2015.6154%2016.9289C15.7372%2016.9797%2015.8679%2017.0058%2015.9999%2017.0058C16.132%2017.0058%2016.2627%2016.9797%2016.3845%2016.9289C16.5064%2016.8781%2016.617%2016.8037%2016.7099%2016.71C16.8037%2016.617%2016.8781%2016.5064%2016.9288%2016.3846C16.9796%2016.2627%2017.0057%2016.132%2017.0057%2016C17.0057%2015.868%2016.9796%2015.7373%2016.9288%2015.6154C16.8781%2015.4936%2016.8037%2015.383%2016.7099%2015.29L10.4099%209Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",eW=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],tW=[{title:"C",icon:j6},{title:"luau"}],nW=[{name:"HTML 5",icon:K6},{name:"CSS 3",icon:J6},{name:"git",icon:Y6}],iW=[{title:"MF Im broke",company_name:"dream on, dream on..",icon:W6,iconBg:"#161329",date:"2050",points:["well ugh.."]},{title:"im still broke",company_name:"dream on, dream on..",icon:V6,iconBg:"#161329",date:"undefined",points:["yeah","well yeah.."]}],rW=[{name:"will do fr",description:"yeah baby",tags:[{name:"Javascript",color:"blue-text-gradient"},{name:"HTML",color:"green-text-gradient"},{name:"bootstrap 5.3.0",color:"pink-text-gradient"}],image:X6,source_code_link:"https://guthib.com"}],sW=()=>{const[r,e]=te.useState(""),[t,n]=te.useState(!1);te.useEffect(()=>{t&&e("")},[t]);const i=s=>pe.jsxs("ul",{className:`list-none ${s?"flex sm:hidden":"hidden sm:flex"} flex-row gap-6`,children:[eW.map(o=>pe.jsx("li",{className:`${r===o.title?"text-white":s?"text-secondary":"text-white"} hover:text-white text-[20px] font-medium cursor-pointer`,onClick:()=>{e(o.title),s&&n(!1)},children:pe.jsx("a",{href:`#${o.id}`,children:o.title})},o.id)),pe.jsx("li",{className:`text-${s?"secondary":"white"} hover:text-white text-[20px] font-medium cursor-pointer`})]});return pe.jsx(pe.Fragment,{children:pe.jsx("nav",{className:`${Ps.paddingX} w-full flex items-center py-3 fixed top-0 z-20 bg-primary`,children:pe.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[pe.jsx(WD,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:pe.jsx("img",{src:Q6,alt:"logo",className:"w-16 h-16 object-contain"})}),i(!1),pe.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[pe.jsx("img",{src:t?$6:Z6,alt:"menu",className:"w-[28px] h-[18px] object-contain cursor-pointer",onClick:()=>n(!t)}),pe.jsx("div",{className:`p-4 black-gradient absolute top-14 right-0 mx-2 my-2 min-w-[120px] z-10 rounded-xl foggy-glass ${t?"flex":"hidden"}`,children:i(!0)})]})]})})})};var oW=Object.defineProperty,aW=Object.defineProperties,lW=Object.getOwnPropertyDescriptors,fb=Object.getOwnPropertySymbols,uW=Object.prototype.hasOwnProperty,cW=Object.prototype.propertyIsEnumerable,hb=(r,e,t)=>e in r?oW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sm=(r,e)=>{for(var t in e||(e={}))uW.call(e,t)&&hb(r,t,e[t]);if(fb)for(var t of fb(e))cW.call(e,t)&&hb(r,t,e[t]);return r},om=(r,e)=>aW(r,lW(e)),RL=class extends te.Component{constructor(r){super(r),this.ref=ml.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(r=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{willChange:"transform"})})),this.setTransition(),r(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(r=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),r(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(r=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),r(e)}getValues(r){const e=(r.nativeEvent.clientX-this.left)/this.width,t=(r.nativeEvent.clientY-this.top)/this.height,n=Math.min(Math.max(e,0),1),i=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-n*this.settings.max)).toFixed(2),o=(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),a=n*100,u=i*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:u}}updateElementPosition(){const r=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=r.left,this.top=r.top}update(r){const e=this.getValues(r);this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const r=Object.assign({},this.props.style,this.state.style);return pe.jsx("div",{style:r,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const TM=r=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:r}}}),Yy=(r,e,t,n)=>({hidden:{x:r==="left"?100:r==="right"?-100:0,y:r==="up"?100:r==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),db=(r,e,t,n)=>({hidden:{x:r==="left"?"-100%":r==="right"?"100%":0,y:r==="up"||r==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),fW=(r,e)=>({hidden:{},show:{transition:{staggerChildren:r,delayChildren:e||0}}}),Ag=(r,e)=>()=>pe.jsxs(Go.section,{variants:fW(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Ps.padding} max-w-7xl mx-auto relative z-0`,children:[pe.jsx("span",{className:"hash-span",id:e,children:""}),pe.jsx(r,{})]}),hW=({index:r,title:e,icon:t})=>pe.jsx(RL,{className:"xs:w-[250px] w-full",children:pe.jsx(Go.div,{variants:Yy("right","spring",r*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:pe.jsxs("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[pe.jsx("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain",loading:"lazy"}),pe.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),dW=()=>pe.jsxs(pe.Fragment,{children:[pe.jsxs(Go.div,{variants:TM(),children:[pe.jsx("p",{className:Ps.sectionSubText,children:"Introduction"}),pe.jsx("h2",{className:Ps.sectionHeadText,children:"Overview"})]}),pe.jsx(Go.p,{variants:Yy("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I am a Computer Science engineer student at Debrecen University."}),pe.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:tW.map((r,e)=>pe.jsx(hW,{index:e,...r},r.title))})]}),pW=Ag(dW,"about"),mW=()=>nW.map(({name:r,icon:e})=>pe.jsx("div",{className:"w-28 h-28",children:pe.jsx(a4,{icon:e})},r)),gW=()=>pe.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:mW()}),vW=Ag(gW,"");var am={},oA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var pb;function PL(){return pb||(pb=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(oA)),oA.exports}var mb;function yW(){if(mb)return am;mb=1,am.__esModule=!0,am.default=void 0;var r=n(Mf()),e=n(a2()),t=n(PL());function n(o){return o&&o.__esModule?o:{default:o}}const i=({animate:o=!0,className:a="",layout:u="2-columns",lineColor:c="#FFF",children:h})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",c),r.default.createElement("div",{className:(0,t.default)(a,"vertical-timeline",{"vertical-timeline--animate":o,"vertical-timeline--two-columns":u==="2-columns","vertical-timeline--one-column-left":u==="1-column"||u==="1-column-left","vertical-timeline--one-column-right":u==="1-column-right"})},h));i.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]).isRequired,className:e.default.string,animate:e.default.bool,layout:e.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:e.default.string};var s=i;return am.default=s,am}var lm={};function I1(){return I1=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},I1.apply(this,arguments)}function _W(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,F1(r,e)}function F1(r,e){return F1=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},F1(r,e)}function xW(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var O1=new Map,vv=new WeakMap,gb=0,BL=void 0;function AW(r){BL=r}function SW(r){return r?(vv.has(r)||(gb+=1,vv.set(r,gb.toString())),vv.get(r)):"0"}function MW(r){return Object.keys(r).sort().filter(function(e){return r[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?SW(r.root):r[e])}).toString()}function wW(r){var e=MW(r),t=O1.get(e);if(!t){var n=new Map,i,s=new IntersectionObserver(function(o){o.forEach(function(a){var u,c=a.isIntersecting&&i.some(function(h){return a.intersectionRatio>=h});r.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(u=n.get(a.target))==null||u.forEach(function(h){h(c,a)})})},r);i=s.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),t={id:e,observer:s,elements:n},O1.set(e,t)}return t}function CM(r,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=BL),typeof window.IntersectionObserver>"u"&&n!==void 0){var i=r.getBoundingClientRect();return e(n,{isIntersecting:n,target:r,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=wW(t),o=s.id,a=s.observer,u=s.elements,c=u.get(r)||[];return u.has(r)||u.set(r,c),c.push(e),a.observe(r),function(){c.splice(c.indexOf(e),1),c.length===0&&(u.delete(r),a.unobserve(r)),u.size===0&&(a.disconnect(),O1.delete(o))}}var EW=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function vb(r){return typeof r.children!="function"}var ry=function(r){_W(e,r);function e(n){var i;return i=r.call(this,n)||this,i.node=null,i._unobserveCb=null,i.handleNode=function(s){i.node&&(i.unobserve(),!s&&!i.props.triggerOnce&&!i.props.skip&&i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=s||null,i.observeNode()},i.handleChange=function(s,o){s&&i.props.triggerOnce&&i.unobserve(),vb(i.props)||i.setState({inView:s,entry:o}),i.props.onChange&&i.props.onChange(s,o)},i.state={inView:!!n.initialInView,entry:void 0},i}var t=e.prototype;return t.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,s=i.threshold,o=i.root,a=i.rootMargin,u=i.trackVisibility,c=i.delay,h=i.fallbackInView;this._unobserveCb=CM(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:u,delay:c},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!vb(this.props)){var i=this.state,s=i.inView,o=i.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,u=a.children,c=a.as,h=xW(a,EW);return te.createElement(c||"div",I1({ref:this.handleNode},h),u)},e}(te.Component);ry.displayName="InView";ry.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function TW(r){var e=r===void 0?{}:r,t=e.threshold,n=e.delay,i=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,u=e.skip,c=e.initialInView,h=e.fallbackInView,p=te.useRef(),g=te.useState({inView:!!c}),v=g[0],_=g[1],x=te.useCallback(function(S){p.current!==void 0&&(p.current(),p.current=void 0),!u&&S&&(p.current=CM(S,function(C,E){_({inView:C,entry:E}),E.isIntersecting&&a&&p.current&&(p.current(),p.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:i,delay:n},h))},[Array.isArray(t)?t.toString():t,o,s,a,u,i,h,n]);te.useEffect(function(){!p.current&&v.entry&&!a&&!u&&_({inView:!!c})});var A=[x,v.inView,v.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const CW=Object.freeze(Object.defineProperty({__proto__:null,InView:ry,default:ry,defaultFallbackInView:AW,observe:CM,useInView:TW},Symbol.toStringTag,{value:"Module"})),bW=oD(CW);var yb;function RW(){if(yb)return lm;yb=1,lm.__esModule=!0,lm.default=void 0;var r=i(Mf()),e=i(a2()),t=i(PL()),n=bW;function i(a){return a&&a.__esModule?a:{default:a}}const s=({children:a="",className:u="",contentArrowStyle:c=null,contentStyle:h=null,date:p="",dateClassName:g="",icon:v=null,iconClassName:_="",iconOnClick:x=null,onTimelineElementClick:A=null,iconStyle:S=null,id:C="",position:E="",style:R=null,textClassName:B="",intersectionObserverProps:I={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:O=!1})=>r.default.createElement(n.InView,I,({inView:U,ref:L})=>r.default.createElement("div",{ref:L,id:C,className:(0,t.default)(u,"vertical-timeline-element",{"vertical-timeline-element--left":E==="left","vertical-timeline-element--right":E==="right","vertical-timeline-element--no-children":a===""}),style:R},r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{style:S,onClick:x,className:(0,t.default)(_,"vertical-timeline-element-icon",{"bounce-in":U||O,"is-hidden":!(U||O)})},v),r.default.createElement("div",{style:h,onClick:A,className:(0,t.default)(B,"vertical-timeline-element-content",{"bounce-in":U||O,"is-hidden":!(U||O)})},r.default.createElement("div",{style:c,className:"vertical-timeline-element-content-arrow"}),a,r.default.createElement("span",{className:(0,t.default)(g,"vertical-timeline-element-date")},p)))));s.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]),className:e.default.string,contentArrowStyle:e.default.shape({}),contentStyle:e.default.shape({}),date:e.default.node,dateClassName:e.default.string,icon:e.default.element,iconClassName:e.default.string,iconStyle:e.default.shape({}),iconOnClick:e.default.func,onTimelineElementClick:e.default.func,id:e.default.string,position:e.default.string,style:e.default.shape({}),textClassName:e.default.string,visible:e.default.bool,intersectionObserverProps:e.default.shape({root:e.default.object,rootMargin:e.default.string,threshold:e.default.number,triggerOnce:e.default.bool})};var o=s;return lm.default=o,lm}var aA,_b;function PW(){return _b||(_b=1,aA={VerticalTimeline:yW().default,VerticalTimelineElement:RW().default}),aA}var LL=PW();const BW=({experience:r})=>pe.jsxs(LL.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #232631"},date:r.date,iconStyle:{background:r.iconBg},icon:pe.jsx("div",{className:"flex justify-center items-center w-full h-full",children:pe.jsx("img",{src:r.icon,alt:r.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[pe.jsxs("div",{children:[pe.jsx("h3",{className:"text-white text-[24px] font-bold",children:r.title}),pe.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:r.company_name})]}),pe.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:r.points.map((e,t)=>pe.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),LW=()=>pe.jsxs(pe.Fragment,{children:[pe.jsxs(Go.div,{variants:TM(),children:[pe.jsx("p",{className:`${Ps.sectionSubText} text-center`,children:"What I have done so far"}),pe.jsx("h2",{className:`${Ps.sectionHeadText} text-center`,children:"Work Experience"})]}),pe.jsx("div",{className:"mt-20 flex flex-col",children:pe.jsx(LL.VerticalTimeline,{children:iW.map((r,e)=>pe.jsx(BW,{experience:r},`experience-${e}`))})})]}),DW=Ag(LW,"work"),IW=({name:r,description:e,tags:t,image:n,source_code_link:i})=>pe.jsx(Go.div,{variants:Yy("up","spring"),children:pe.jsxs(RL,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[pe.jsxs("div",{className:"relative w-full h-[230px]",children:[pe.jsx("img",{src:n,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),pe.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:pe.jsx("div",{onClick:()=>window.open(i,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:pe.jsx("img",{src:q6,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),pe.jsxs("div",{className:"mt-5",children:[pe.jsx("h3",{className:"text-white font-bold text-[24px]",children:r}),pe.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:e})]}),pe.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.map(s=>pe.jsxs("p",{className:`text-[14px] ${s.color}`,children:["#",s.name]},s.name))})]})}),FW=()=>pe.jsxs(pe.Fragment,{children:[pe.jsxs(Go.div,{variants:TM(),children:[pe.jsx("p",{className:`${Ps.sectionSubText} `,children:"My work"}),pe.jsx("h2",{className:`${Ps.sectionHeadText}`,children:"Projects"})]}),pe.jsx("div",{className:"w-full flex",children:pe.jsx(Go.p,{variants:Yy("","",.1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcase my skills and experience through examples of my work. Each project is briefly described with links to code repositories in it."})}),pe.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:rW.map((r,e)=>pe.jsx(IW,{...r},`project-${e}`))})]}),OW=Ag(FW,""),Zm={_origin:"https://api.emailjs.com"},NW=(r,e="https://api.emailjs.com")=>{Zm._userID=r,Zm._origin=e},DL=(r,e,t)=>{if(!r)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class xb{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const IL=(r,e,t={})=>new Promise((n,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new xb(o);a.status===200||a.text==="OK"?n(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new xb(o))}),s.open("POST",Zm._origin+r,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),UW=(r,e,t,n)=>{const i=n||Zm._userID;return DL(i,r,e),IL("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:i,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"})},kW=r=>{let e;if(typeof r=="string"?e=document.querySelector(r):e=r,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},zW=(r,e,t,n)=>{const i=n||Zm._userID,s=kW(t);DL(i,r,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",r),o.append("template_id",e),o.append("user_id",i),IL("/api/v1.0/email/send-form",o)},GW={init:NW,send:UW,sendForm:zW},lA=({label:r,value:e,onChange:t,placeholder:n,name:i,type:s})=>pe.jsxs("label",{className:"flex flex-col",children:[pe.jsx("span",{className:"text-white font-medium mb-4",children:r}),pe.jsx("input",{type:s,name:i,value:e,onChange:t,placeholder:n,className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),HW=()=>{const r=te.useRef(),[e,t]=te.useState({name:"",email:"",message:""}),[n,i]=te.useState(!1),[s,o]=te.useState(""),[a,u]=te.useState(""),[c,h]=te.useState(""),p=_=>{const{name:x,value:A}=_.target;t({...e,[x]:A})},g=_=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(_),v=_=>{if(_.preventDefault(),o(""),u(""),h(""),!g(e.email)){o("Please enter a valid email address.");return}if(!e.name.trim()){u("Name is required.");return}i(!0),GW.send("service_wj1ur8h","template_ufkiu2u",{from_name:e.name,to_name:"bipknit",from_email:e.email,to_email:"bipknit@gmail.com",message:e.message},"1_PxcwxmX-fbFri07").then(()=>{i(!1),h("Thank you! I will get back to you as soon as possible."),t({name:"",email:"",message:""})}).catch(x=>{i(!1),console.error(x),h("Something went wrong. Please try again. :/")})};return pe.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[pe.jsxs(Go.div,{variants:db("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[pe.jsx("p",{className:Ps.sectionSubText,children:"Get in touch"}),pe.jsx("h3",{className:Ps.sectionHeadText,children:"Contact Me"}),pe.jsxs("form",{ref:r,onSubmit:v,className:"mt-12 flex flex-col gap-8",children:[pe.jsx(lA,{label:"Your Name",name:"name",value:e.name,onChange:p,placeholder:"Insert Your name here...",type:"text"}),a&&pe.jsx("span",{className:"text-red-500",children:a}),pe.jsx(lA,{label:"Email Address",name:"email",value:e.email,onChange:p,placeholder:"What's your email address?",type:"email"}),s&&pe.jsx("span",{className:"text-red-500",children:s}),pe.jsx(lA,{label:"Your Message",name:"message",value:e.message,onChange:p,placeholder:"What you want to say...?",type:"text"}),pe.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:n?"Sending...":"Send"}),c&&pe.jsx("p",{className:"text-green-500",children:c})]})]}),pe.jsx(Go.div,{variants:db("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:pe.jsx(s4,{})})]})},VW=Ag(HW,"contact"),WW=()=>pe.jsx(GD,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:pe.jsxs("div",{className:"relative z-0 bg-primary",children:[pe.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[pe.jsx(sW,{}),pe.jsx(H6,{})]}),pe.jsx(pW,{}),pe.jsx(DW,{}),pe.jsx(vW,{}),pe.jsx(OW,{}),pe.jsxs("div",{className:"relative z-0",children:[pe.jsx(VW,{}),pe.jsx(d4,{})]})]})}),jW=document.getElementById("root"),XW=mD.createRoot(jW);XW.render(pe.jsx(ml.StrictMode,{children:pe.jsx(WW,{})}));
